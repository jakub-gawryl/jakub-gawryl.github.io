var KA=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var tL=KA((oL,ef)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var oS={exports:{}},Ld={},aS={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),ZA=Symbol.for("react.portal"),qA=Symbol.for("react.fragment"),JA=Symbol.for("react.strict_mode"),eP=Symbol.for("react.profiler"),tP=Symbol.for("react.provider"),rP=Symbol.for("react.context"),nP=Symbol.for("react.forward_ref"),iP=Symbol.for("react.suspense"),sP=Symbol.for("react.memo"),oP=Symbol.for("react.lazy"),X1=Symbol.iterator;function aP(t){return t===null||typeof t!="object"?null:(t=X1&&t[X1]||t["@@iterator"],typeof t=="function"?t:null)}var lS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uS=Object.assign,cS={};function Na(t,e,r){this.props=t,this.context=e,this.refs=cS,this.updater=r||lS}Na.prototype.isReactComponent={};Na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hS(){}hS.prototype=Na.prototype;function V0(t,e,r){this.props=t,this.context=e,this.refs=cS,this.updater=r||lS}var j0=V0.prototype=new hS;j0.constructor=V0;uS(j0,Na.prototype);j0.isPureReactComponent=!0;var Y1=Array.isArray,dS=Object.prototype.hasOwnProperty,W0={current:null},fS={key:!0,ref:!0,__self:!0,__source:!0};function pS(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dS.call(e,n)&&!fS.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),h=0;h<a;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Su,type:t,key:s,ref:o,props:i,_owner:W0.current}}function lP(t,e){return{$$typeof:Su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function X0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function uP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Q1=/\/+/g;function Mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uP(""+t.key):e.toString(36)}function Sh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Su:case ZA:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Mp(o,0):n,Y1(i)?(r="",t!=null&&(r=t.replace(Q1,"$&/")+"/"),Sh(i,e,r,"",function(h){return h})):i!=null&&(X0(i)&&(i=lP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Q1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Y1(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+Mp(s,a);o+=Sh(s,e,r,u,i)}else if(u=aP(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+Mp(s,a++),o+=Sh(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bc(t,e,r){if(t==null)return t;var n=[],i=0;return Sh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function cP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lr={current:null},Eh={transition:null},hP={ReactCurrentDispatcher:lr,ReactCurrentBatchConfig:Eh,ReactCurrentOwner:W0};ke.Children={map:bc,forEach:function(t,e,r){bc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bc(t,function(){e++}),e},toArray:function(t){return bc(t,function(e){return e})||[]},only:function(t){if(!X0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Na;ke.Fragment=qA;ke.Profiler=eP;ke.PureComponent=V0;ke.StrictMode=JA;ke.Suspense=iP;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hP;ke.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=uS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=W0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)dS.call(e,u)&&!fS.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var h=0;h<u;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:Su,type:t.type,key:i,ref:s,props:n,_owner:o}};ke.createContext=function(t){return t={$$typeof:rP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tP,_context:t},t.Consumer=t};ke.createElement=pS;ke.createFactory=function(t){var e=pS.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:nP,render:t}};ke.isValidElement=X0;ke.lazy=function(t){return{$$typeof:oP,_payload:{_status:-1,_result:t},_init:cP}};ke.memo=function(t,e){return{$$typeof:sP,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Eh.transition;Eh.transition={};try{t()}finally{Eh.transition=e}};ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ke.useCallback=function(t,e){return lr.current.useCallback(t,e)};ke.useContext=function(t){return lr.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return lr.current.useDeferredValue(t)};ke.useEffect=function(t,e){return lr.current.useEffect(t,e)};ke.useId=function(){return lr.current.useId()};ke.useImperativeHandle=function(t,e,r){return lr.current.useImperativeHandle(t,e,r)};ke.useInsertionEffect=function(t,e){return lr.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return lr.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return lr.current.useMemo(t,e)};ke.useReducer=function(t,e,r){return lr.current.useReducer(t,e,r)};ke.useRef=function(t){return lr.current.useRef(t)};ke.useState=function(t){return lr.current.useState(t)};ke.useSyncExternalStore=function(t,e,r){return lr.current.useSyncExternalStore(t,e,r)};ke.useTransition=function(){return lr.current.useTransition()};ke.version="18.2.0";aS.exports=ke;var de=aS.exports;const Wn=wu(de);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=de,fP=Symbol.for("react.element"),pP=Symbol.for("react.fragment"),mP=Object.prototype.hasOwnProperty,gP=dP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vP={key:!0,ref:!0,__self:!0,__source:!0};function mS(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)mP.call(e,n)&&!vP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:fP,type:t,key:s,ref:o,props:i,_owner:gP.current}}Ld.Fragment=pP;Ld.jsx=mS;Ld.jsxs=mS;oS.exports=Ld;var we=oS.exports,Ym={},gS={exports:{}},kr={},vS={exports:{}},yS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var G=O.length;O.push(V);e:for(;0<G;){var j=G-1>>>1,Z=O[j];if(0<i(Z,V))O[j]=V,O[G]=Z,G=j;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var V=O[0],G=O.pop();if(G!==V){O[0]=G;e:for(var j=0,Z=O.length,ge=Z>>>1;j<ge;){var ue=2*(j+1)-1,be=O[ue],xe=ue+1,Ce=O[xe];if(0>i(be,G))xe<Z&&0>i(Ce,be)?(O[j]=Ce,O[xe]=G,j=xe):(O[j]=be,O[ue]=G,j=ue);else if(xe<Z&&0>i(Ce,G))O[j]=Ce,O[xe]=G,j=xe;else break e}}return V}function i(O,V){var G=O.sortIndex-V.sortIndex;return G!==0?G:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],h=[],f=1,m=null,p=3,d=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else if(V.startTime<=O)n(h),V.sortIndex=V.expirationTime,e(u,V);else break;V=r(h)}}function C(O){if(y=!1,S(O),!g)if(r(u)!==null)g=!0,Q(b);else{var V=r(h);V!==null&&W(C,V.startTime-O)}}function b(O,V){g=!1,y&&(y=!1,w(P),P=-1),d=!0;var G=p;try{for(S(V),m=r(u);m!==null&&(!(m.expirationTime>V)||O&&!B());){var j=m.callback;if(typeof j=="function"){m.callback=null,p=m.priorityLevel;var Z=j(m.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?m.callback=Z:m===r(u)&&n(u),S(V)}else n(u);m=r(u)}if(m!==null)var ge=!0;else{var ue=r(h);ue!==null&&W(C,ue.startTime-V),ge=!1}return ge}finally{m=null,p=G,d=!1}}var I=!1,R=null,P=-1,k=5,M=-1;function B(){return!(t.unstable_now()-M<k)}function F(){if(R!==null){var O=t.unstable_now();M=O;var V=!0;try{V=R(!0,O)}finally{V?N():(I=!1,R=null)}}else I=!1}var N;if(typeof T=="function")N=function(){T(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=F,N=function(){H.postMessage(null)}}else N=function(){x(F,0)};function Q(O){R=O,I||(I=!0,N())}function W(O,V){P=x(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,Q(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return O()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=p;p=O;try{return V()}finally{p=G}},t.unstable_scheduleCallback=function(O,V,G){var j=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?j+G:j):G=j,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,O={id:f++,callback:V,priorityLevel:O,startTime:G,expirationTime:Z,sortIndex:-1},G>j?(O.sortIndex=G,e(h,O),r(u)===null&&O===r(h)&&(y?(w(P),P=-1):y=!0,W(C,G-j))):(O.sortIndex=Z,e(u,O),g||d||(g=!0,Q(b))),O},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(O){var V=p;return function(){var G=p;p=V;try{return O.apply(this,arguments)}finally{p=G}}}})(yS);vS.exports=yS;var yP=vS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS=de,Mr=yP;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _S=new Set,Kl={};function uo(t,e){Ta(t,e),Ta(t+"Capture",e)}function Ta(t,e){for(Kl[t]=e,t=0;t<e.length;t++)_S.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=Object.prototype.hasOwnProperty,xP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K1={},Z1={};function _P(t){return Qm.call(Z1,t)?!0:Qm.call(K1,t)?!1:xP.test(t)?Z1[t]=!0:(K1[t]=!0,!1)}function wP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SP(t,e,r,n){if(e===null||typeof e>"u"||wP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ur(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y0=/[\-:]([a-z])/g;function Q0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Y0,Q0);jt[e]=new ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Y0,Q0);jt[e]=new ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Y0,Q0);jt[e]=new ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new ur(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function K0(t,e,r,n){var i=jt.hasOwnProperty(e)?jt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SP(e,r,i,n)&&(r=null),n||i===null?_P(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ai=xS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cc=Symbol.for("react.element"),Yo=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),Km=Symbol.for("react.profiler"),wS=Symbol.for("react.provider"),SS=Symbol.for("react.context"),q0=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),J0=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),ES=Symbol.for("react.offscreen"),q1=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=q1&&t[q1]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,kp;function wl(t){if(kp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);kp=e&&e[1]||""}return`
`+kp+t}var Dp=!1;function Fp(t,e){if(!t||Dp)return"";Dp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Dp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wl(t):""}function EP(t){switch(t.tag){case 5:return wl(t.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return t=Fp(t.type,!1),t;case 11:return t=Fp(t.type.render,!1),t;case 1:return t=Fp(t.type,!0),t;default:return""}}function Jm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qo:return"Fragment";case Yo:return"Portal";case Km:return"Profiler";case Z0:return"StrictMode";case Zm:return"Suspense";case qm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SS:return(t.displayName||"Context")+".Consumer";case wS:return(t._context.displayName||"Context")+".Provider";case q0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J0:return e=t.displayName||null,e!==null?e:Jm(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return Jm(t(e))}catch{}}return null}function TP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jm(e);case 8:return e===Z0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bP(t){var e=TS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ac(t){t._valueTracker||(t._valueTracker=bP(t))}function bS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=TS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function jh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eg(t,e){var r=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function J1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ds(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CS(t,e){e=e.checked,e!=null&&K0(t,"checked",e,!1)}function tg(t,e){CS(t,e);var r=ds(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rg(t,e.type,r):e.hasOwnProperty("defaultValue")&&rg(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ex(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function rg(t,e,r){(e!=="number"||jh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sl=Array.isArray;function ua(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ds(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ng(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Sl(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ds(r)}}function AS(t,e){var r=ds(e.value),n=ds(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pc,IS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pc=Pc||document.createElement("div"),Pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CP=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(t){CP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bl[e]=Bl[t]})});function RS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Bl.hasOwnProperty(t)&&Bl[t]?(""+e).trim():e+"px"}function MS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=RS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var AP=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(t,e){if(e){if(AP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function og(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=null;function ev(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lg=null,ca=null,ha=null;function nx(t){if(t=bu(t)){if(typeof lg!="function")throw Error(te(280));var e=t.stateNode;e&&(e=$d(e),lg(t.stateNode,t.type,e))}}function kS(t){ca?ha?ha.push(t):ha=[t]:ca=t}function DS(){if(ca){var t=ca,e=ha;if(ha=ca=null,nx(t),e)for(t=0;t<e.length;t++)nx(e[t])}}function FS(t,e){return t(e)}function NS(){}var Np=!1;function BS(t,e,r){if(Np)return t(e,r);Np=!0;try{return FS(t,e,r)}finally{Np=!1,(ca!==null||ha!==null)&&(NS(),DS())}}function ql(t,e){var r=t.stateNode;if(r===null)return null;var n=$d(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var ug=!1;if(_i)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){ug=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{ug=!1}function PP(t,e,r,n,i,s,o,a,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var Ol=!1,Wh=null,Xh=!1,cg=null,IP={onError:function(t){Ol=!0,Wh=t}};function RP(t,e,r,n,i,s,o,a,u){Ol=!1,Wh=null,PP.apply(IP,arguments)}function MP(t,e,r,n,i,s,o,a,u){if(RP.apply(this,arguments),Ol){if(Ol){var h=Wh;Ol=!1,Wh=null}else throw Error(te(198));Xh||(Xh=!0,cg=h)}}function co(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function OS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ix(t){if(co(t)!==t)throw Error(te(188))}function kP(t){var e=t.alternate;if(!e){if(e=co(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return ix(i),t;if(s===n)return ix(i),e;s=s.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function LS(t){return t=kP(t),t!==null?US(t):null}function US(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=US(t);if(e!==null)return e;t=t.sibling}return null}var GS=Mr.unstable_scheduleCallback,sx=Mr.unstable_cancelCallback,DP=Mr.unstable_shouldYield,FP=Mr.unstable_requestPaint,vt=Mr.unstable_now,NP=Mr.unstable_getCurrentPriorityLevel,tv=Mr.unstable_ImmediatePriority,zS=Mr.unstable_UserBlockingPriority,Yh=Mr.unstable_NormalPriority,BP=Mr.unstable_LowPriority,HS=Mr.unstable_IdlePriority,Ud=null,Xn=null;function OP(t){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Ud,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:GP,LP=Math.log,UP=Math.LN2;function GP(t){return t>>>=0,t===0?32:31-(LP(t)/UP|0)|0}var Ic=64,Rc=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=El(a):(s&=o,s!==0&&(n=El(s)))}else o=r&~i,o!==0?n=El(o):s!==0&&(n=El(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-mn(e),i=1<<r,n|=t[r],e&=~i;return n}function zP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-mn(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=zP(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function hg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $S(){var t=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),t}function Bp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Eu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=r}function $P(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-mn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function rv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-mn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var He=0;function VS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jS,nv,WS,XS,YS,dg=!1,Mc=[],ns=null,is=null,ss=null,Jl=new Map,eu=new Map,Yi=[],VP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function ul(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bu(e),e!==null&&nv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jP(t,e,r,n,i){switch(e){case"focusin":return ns=ul(ns,t,e,r,n,i),!0;case"dragenter":return is=ul(is,t,e,r,n,i),!0;case"mouseover":return ss=ul(ss,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Jl.set(s,ul(Jl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,eu.set(s,ul(eu.get(s)||null,t,e,r,n,i)),!0}return!1}function QS(t){var e=Ws(t.target);if(e!==null){var r=co(e);if(r!==null){if(e=r.tag,e===13){if(e=OS(r),e!==null){t.blockedOn=e,YS(t.priority,function(){WS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=fg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ag=n,r.target.dispatchEvent(n),ag=null}else return e=bu(r),e!==null&&nv(e),t.blockedOn=r,!1;e.shift()}return!0}function ax(t,e,r){Th(t)&&r.delete(e)}function WP(){dg=!1,ns!==null&&Th(ns)&&(ns=null),is!==null&&Th(is)&&(is=null),ss!==null&&Th(ss)&&(ss=null),Jl.forEach(ax),eu.forEach(ax)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,dg||(dg=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,WP)))}function tu(t){function e(i){return cl(i,t)}if(0<Mc.length){cl(Mc[0],t);for(var r=1;r<Mc.length;r++){var n=Mc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ns!==null&&cl(ns,t),is!==null&&cl(is,t),ss!==null&&cl(ss,t),Jl.forEach(e),eu.forEach(e),r=0;r<Yi.length;r++)n=Yi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)QS(r),r.blockedOn===null&&Yi.shift()}var da=Ai.ReactCurrentBatchConfig,Kh=!0;function XP(t,e,r,n){var i=He,s=da.transition;da.transition=null;try{He=1,iv(t,e,r,n)}finally{He=i,da.transition=s}}function YP(t,e,r,n){var i=He,s=da.transition;da.transition=null;try{He=4,iv(t,e,r,n)}finally{He=i,da.transition=s}}function iv(t,e,r,n){if(Kh){var i=fg(t,e,r,n);if(i===null)Wp(t,e,n,Zh,r),ox(t,n);else if(jP(i,t,e,r,n))n.stopPropagation();else if(ox(t,n),e&4&&-1<VP.indexOf(t)){for(;i!==null;){var s=bu(i);if(s!==null&&jS(s),s=fg(t,e,r,n),s===null&&Wp(t,e,n,Zh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Wp(t,e,n,null,r)}}var Zh=null;function fg(t,e,r,n){if(Zh=null,t=ev(n),t=Ws(t),t!==null)if(e=co(t),e===null)t=null;else if(r=e.tag,r===13){if(t=OS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zh=t,null}function KS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NP()){case tv:return 1;case zS:return 4;case Yh:case BP:return 16;case HS:return 536870912;default:return 16}default:return 16}}var Zi=null,sv=null,bh=null;function ZS(){if(bh)return bh;var t,e=sv,r=e.length,n,i="value"in Zi?Zi.value:Zi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return bh=i.slice(t,1<n?1-n:void 0)}function Ch(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kc(){return!0}function lx(){return!1}function Dr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kc:lx,this.isPropagationStopped=lx,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ov=Dr(Ba),Tu=lt({},Ba,{view:0,detail:0}),QP=Dr(Tu),Op,Lp,hl,Gd=lt({},Tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:av,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(Op=t.screenX-hl.screenX,Lp=t.screenY-hl.screenY):Lp=Op=0,hl=t),Op)},movementY:function(t){return"movementY"in t?t.movementY:Lp}}),ux=Dr(Gd),KP=lt({},Gd,{dataTransfer:0}),ZP=Dr(KP),qP=lt({},Tu,{relatedTarget:0}),Up=Dr(qP),JP=lt({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),eI=Dr(JP),tI=lt({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rI=Dr(tI),nI=lt({},Ba,{data:0}),cx=Dr(nI),iI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oI[t])?!!e[t]:!1}function av(){return aI}var lI=lt({},Tu,{key:function(t){if(t.key){var e=iI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ch(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:av,charCode:function(t){return t.type==="keypress"?Ch(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ch(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uI=Dr(lI),cI=lt({},Gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=Dr(cI),hI=lt({},Tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:av}),dI=Dr(hI),fI=lt({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),pI=Dr(fI),mI=lt({},Gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gI=Dr(mI),vI=[9,13,27,32],lv=_i&&"CompositionEvent"in window,Ll=null;_i&&"documentMode"in document&&(Ll=document.documentMode);var yI=_i&&"TextEvent"in window&&!Ll,qS=_i&&(!lv||Ll&&8<Ll&&11>=Ll),dx=" ",fx=!1;function JS(t,e){switch(t){case"keyup":return vI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function xI(t,e){switch(t){case"compositionend":return eE(e);case"keypress":return e.which!==32?null:(fx=!0,dx);case"textInput":return t=e.data,t===dx&&fx?null:t;default:return null}}function _I(t,e){if(Ko)return t==="compositionend"||!lv&&JS(t,e)?(t=ZS(),bh=sv=Zi=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qS&&e.locale!=="ko"?null:e.data;default:return null}}var wI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wI[t.type]:e==="textarea"}function tE(t,e,r,n){kS(n),e=qh(e,"onChange"),0<e.length&&(r=new ov("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ul=null,ru=null;function SI(t){dE(t,0)}function zd(t){var e=Jo(t);if(bS(e))return t}function EI(t,e){if(t==="change")return e}var rE=!1;if(_i){var Gp;if(_i){var zp="oninput"in document;if(!zp){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),zp=typeof mx.oninput=="function"}Gp=zp}else Gp=!1;rE=Gp&&(!document.documentMode||9<document.documentMode)}function gx(){Ul&&(Ul.detachEvent("onpropertychange",nE),ru=Ul=null)}function nE(t){if(t.propertyName==="value"&&zd(ru)){var e=[];tE(e,ru,t,ev(t)),BS(SI,e)}}function TI(t,e,r){t==="focusin"?(gx(),Ul=e,ru=r,Ul.attachEvent("onpropertychange",nE)):t==="focusout"&&gx()}function bI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(ru)}function CI(t,e){if(t==="click")return zd(e)}function AI(t,e){if(t==="input"||t==="change")return zd(e)}function PI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:PI;function nu(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Qm.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function vx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yx(t,e){var r=vx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vx(r)}}function iE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sE(){for(var t=window,e=jh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=jh(t.document)}return e}function uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function II(t){var e=sE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&iE(r.ownerDocument.documentElement,r)){if(n!==null&&uv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=yx(r,s);var o=yx(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RI=_i&&"documentMode"in document&&11>=document.documentMode,Zo=null,pg=null,Gl=null,mg=!1;function xx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mg||Zo==null||Zo!==jh(n)||(n=Zo,"selectionStart"in n&&uv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gl&&nu(Gl,n)||(Gl=n,n=qh(pg,"onSelect"),0<n.length&&(e=new ov("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zo)))}function Dc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var qo={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Hp={},oE={};_i&&(oE=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Hd(t){if(Hp[t])return Hp[t];if(!qo[t])return t;var e=qo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in oE)return Hp[t]=e[r];return t}var aE=Hd("animationend"),lE=Hd("animationiteration"),uE=Hd("animationstart"),cE=Hd("transitionend"),hE=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(t,e){hE.set(t,e),uo(e,[t])}for(var $p=0;$p<_x.length;$p++){var Vp=_x[$p],MI=Vp.toLowerCase(),kI=Vp[0].toUpperCase()+Vp.slice(1);gs(MI,"on"+kI)}gs(aE,"onAnimationEnd");gs(lE,"onAnimationIteration");gs(uE,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(cE,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function wx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,MP(n,e,void 0,t),t.currentTarget=null}function dE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,h=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;wx(i,a,h),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,h=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;wx(i,a,h),s=u}}}if(Xh)throw t=cg,Xh=!1,cg=null,t}function Xe(t,e){var r=e[_g];r===void 0&&(r=e[_g]=new Set);var n=t+"__bubble";r.has(n)||(fE(e,t,2,!1),r.add(n))}function jp(t,e,r){var n=0;e&&(n|=4),fE(r,t,n,e)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function iu(t){if(!t[Fc]){t[Fc]=!0,_S.forEach(function(r){r!=="selectionchange"&&(DI.has(r)||jp(r,!1,t),jp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fc]||(e[Fc]=!0,jp("selectionchange",!1,e))}}function fE(t,e,r,n){switch(KS(e)){case 1:var i=XP;break;case 4:i=YP;break;default:i=iv}r=i.bind(null,e,r,t),i=void 0,!ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Wp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ws(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}BS(function(){var h=s,f=ev(r),m=[];e:{var p=hE.get(t);if(p!==void 0){var d=ov,g=t;switch(t){case"keypress":if(Ch(r)===0)break e;case"keydown":case"keyup":d=uI;break;case"focusin":g="focus",d=Up;break;case"focusout":g="blur",d=Up;break;case"beforeblur":case"afterblur":d=Up;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=ZP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=dI;break;case aE:case lE:case uE:d=eI;break;case cE:d=pI;break;case"scroll":d=QP;break;case"wheel":d=gI;break;case"copy":case"cut":case"paste":d=rI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=hx}var y=(e&4)!==0,x=!y&&t==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var T=h,S;T!==null;){S=T;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,w!==null&&(C=ql(T,w),C!=null&&y.push(su(T,C,S)))),x)break;T=T.return}0<y.length&&(p=new d(p,g,null,r,f),m.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",p&&r!==ag&&(g=r.relatedTarget||r.fromElement)&&(Ws(g)||g[wi]))break e;if((d||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,d?(g=r.relatedTarget||r.toElement,d=h,g=g?Ws(g):null,g!==null&&(x=co(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=h),d!==g)){if(y=ux,C="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(y=hx,C="onPointerLeave",w="onPointerEnter",T="pointer"),x=d==null?p:Jo(d),S=g==null?p:Jo(g),p=new y(C,T+"leave",d,r,f),p.target=x,p.relatedTarget=S,C=null,Ws(f)===h&&(y=new y(w,T+"enter",g,r,f),y.target=S,y.relatedTarget=x,C=y),x=C,d&&g)t:{for(y=d,w=g,T=0,S=y;S;S=Fo(S))T++;for(S=0,C=w;C;C=Fo(C))S++;for(;0<T-S;)y=Fo(y),T--;for(;0<S-T;)w=Fo(w),S--;for(;T--;){if(y===w||w!==null&&y===w.alternate)break t;y=Fo(y),w=Fo(w)}y=null}else y=null;d!==null&&Sx(m,p,d,y,!1),g!==null&&x!==null&&Sx(m,x,g,y,!0)}}e:{if(p=h?Jo(h):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var b=EI;else if(px(p))if(rE)b=AI;else{b=bI;var I=TI}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=CI);if(b&&(b=b(t,h))){tE(m,b,r,f);break e}I&&I(t,p,h),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&rg(p,"number",p.value)}switch(I=h?Jo(h):window,t){case"focusin":(px(I)||I.contentEditable==="true")&&(Zo=I,pg=h,Gl=null);break;case"focusout":Gl=pg=Zo=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,xx(m,r,f);break;case"selectionchange":if(RI)break;case"keydown":case"keyup":xx(m,r,f)}var R;if(lv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ko?JS(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(qS&&r.locale!=="ko"&&(Ko||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ko&&(R=ZS()):(Zi=f,sv="value"in Zi?Zi.value:Zi.textContent,Ko=!0)),I=qh(h,P),0<I.length&&(P=new cx(P,t,null,r,f),m.push({event:P,listeners:I}),R?P.data=R:(R=eE(r),R!==null&&(P.data=R)))),(R=yI?xI(t,r):_I(t,r))&&(h=qh(h,"onBeforeInput"),0<h.length&&(f=new cx("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:h}),f.data=R))}dE(m,e)})}function su(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ql(t,r),s!=null&&n.unshift(su(t,s,i)),s=ql(t,e),s!=null&&n.push(su(t,s,i))),t=t.return}return n}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sx(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,h=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&h!==null&&(a=h,i?(u=ql(r,s),u!=null&&o.unshift(su(r,u,a))):i||(u=ql(r,s),u!=null&&o.push(su(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var FI=/\r\n?/g,NI=/\u0000|\uFFFD/g;function Ex(t){return(typeof t=="string"?t:""+t).replace(FI,`
`).replace(NI,"")}function Nc(t,e,r){if(e=Ex(e),Ex(t)!==e&&r)throw Error(te(425))}function Jh(){}var gg=null,vg=null;function yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xg=typeof setTimeout=="function"?setTimeout:void 0,BI=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,OI=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(LI)}:xg;function LI(t){setTimeout(function(){throw t})}function Xp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),tu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);tu(e)}function os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Oa,ou="__reactProps$"+Oa,wi="__reactContainer$"+Oa,_g="__reactEvents$"+Oa,UI="__reactListeners$"+Oa,GI="__reactHandles$"+Oa;function Ws(t){var e=t[Vn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[wi]||r[Vn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=bx(t);t!==null;){if(r=t[Vn])return r;t=bx(t)}return e}t=r,r=t.parentNode}return null}function bu(t){return t=t[Vn]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function $d(t){return t[ou]||null}var wg=[],ea=-1;function vs(t){return{current:t}}function Qe(t){0>ea||(t.current=wg[ea],wg[ea]=null,ea--)}function je(t,e){ea++,wg[ea]=t.current,t.current=e}var fs={},tr=vs(fs),vr=vs(!1),ro=fs;function ba(t,e){var r=t.type.contextTypes;if(!r)return fs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yr(t){return t=t.childContextTypes,t!=null}function ed(){Qe(vr),Qe(tr)}function Cx(t,e,r){if(tr.current!==fs)throw Error(te(168));je(tr,e),je(vr,r)}function pE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,TP(t)||"Unknown",i));return lt({},r,n)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,ro=tr.current,je(tr,t),je(vr,vr.current),!0}function Ax(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=pE(t,e,ro),n.__reactInternalMemoizedMergedChildContext=t,Qe(vr),Qe(tr),je(tr,t)):Qe(vr),je(vr,r)}var hi=null,Vd=!1,Yp=!1;function mE(t){hi===null?hi=[t]:hi.push(t)}function zI(t){Vd=!0,mE(t)}function ys(){if(!Yp&&hi!==null){Yp=!0;var t=0,e=He;try{var r=hi;for(He=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}hi=null,Vd=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),GS(tv,ys),i}finally{He=e,Yp=!1}}return null}var ta=[],ra=0,rd=null,nd=0,Vr=[],jr=0,no=null,di=1,fi="";function Bs(t,e){ta[ra++]=nd,ta[ra++]=rd,rd=t,nd=e}function gE(t,e,r){Vr[jr++]=di,Vr[jr++]=fi,Vr[jr++]=no,no=t;var n=di;t=fi;var i=32-mn(n)-1;n&=~(1<<i),r+=1;var s=32-mn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,di=1<<32-mn(e)+i|r<<i|n,fi=s+t}else di=1<<s|r<<i|n,fi=t}function cv(t){t.return!==null&&(Bs(t,1),gE(t,1,0))}function hv(t){for(;t===rd;)rd=ta[--ra],ta[ra]=null,nd=ta[--ra],ta[ra]=null;for(;t===no;)no=Vr[--jr],Vr[jr]=null,fi=Vr[--jr],Vr[jr]=null,di=Vr[--jr],Vr[jr]=null}var Ir=null,Pr=null,tt=!1,hn=null;function vE(t,e){var r=Wr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Px(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,Pr=os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,Pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=no!==null?{id:di,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Wr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ir=t,Pr=null,!0):!1;default:return!1}}function Sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eg(t){if(tt){var e=Pr;if(e){var r=e;if(!Px(t,e)){if(Sg(t))throw Error(te(418));e=os(r.nextSibling);var n=Ir;e&&Px(t,e)?vE(n,r):(t.flags=t.flags&-4097|2,tt=!1,Ir=t)}}else{if(Sg(t))throw Error(te(418));t.flags=t.flags&-4097|2,tt=!1,Ir=t}}}function Ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function Bc(t){if(t!==Ir)return!1;if(!tt)return Ix(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yg(t.type,t.memoizedProps)),e&&(e=Pr)){if(Sg(t))throw yE(),Error(te(418));for(;e;)vE(t,e),e=os(e.nextSibling)}if(Ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Pr=os(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Pr=null}}else Pr=Ir?os(t.stateNode.nextSibling):null;return!0}function yE(){for(var t=Pr;t;)t=os(t.nextSibling)}function Ca(){Pr=Ir=null,tt=!1}function dv(t){hn===null?hn=[t]:hn.push(t)}var HI=Ai.ReactCurrentBatchConfig;function un(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var id=vs(null),sd=null,na=null,fv=null;function pv(){fv=na=sd=null}function mv(t){var e=id.current;Qe(id),t._currentValue=e}function Tg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function fa(t,e){sd=t,fv=na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mr=!0),t.firstContext=null)}function Kr(t){var e=t._currentValue;if(fv!==t)if(t={context:t,memoizedValue:e,next:null},na===null){if(sd===null)throw Error(te(308));na=t,sd.dependencies={lanes:0,firstContext:t}}else na=na.next=t;return e}var Xs=null;function gv(t){Xs===null?Xs=[t]:Xs.push(t)}function xE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,gv(e)):(r.next=i.next,i.next=r),e.interleaved=r,Si(t,n)}function Si(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ji=!1;function vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _E(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function as(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Si(t,r)}return i=n.interleaved,i===null?(e.next=e,gv(n)):(e.next=i.next,i.next=e),n.interleaved=e,Si(t,r)}function Ah(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rv(t,r)}}function Rx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function od(t,e,r,n){var i=t.updateQueue;ji=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=h:a.next=h,f.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,f=h=u=null,a=s;do{var p=a.lane,d=a.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(p=e,d=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){m=g.call(d,m,p);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(d,m,p):g,p==null)break e;m=lt({},m,p);break e;case 2:ji=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else d={eventTime:d,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(h=f=d,u=m):f=f.next=d,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);so|=o,t.lanes=o,t.memoizedState=m}}function Mx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var wE=new xS.Component().refs;function bg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jd={isMounted:function(t){return(t=t._reactInternals)?co(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=or(),i=us(t),s=vi(n,i);s.payload=e,r!=null&&(s.callback=r),e=as(t,s,i),e!==null&&(gn(e,t,i,n),Ah(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=or(),i=us(t),s=vi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=as(t,s,i),e!==null&&(gn(e,t,i,n),Ah(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=or(),n=us(t),i=vi(r,n);i.tag=2,e!=null&&(i.callback=e),e=as(t,i,n),e!==null&&(gn(e,t,n,r),Ah(e,t,n))}};function kx(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!nu(r,n)||!nu(i,s):!0}function SE(t,e,r){var n=!1,i=fs,s=e.contextType;return typeof s=="object"&&s!==null?s=Kr(s):(i=yr(e)?ro:tr.current,n=e.contextTypes,s=(n=n!=null)?ba(t,i):fs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&jd.enqueueReplaceState(e,e.state,null)}function Cg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=wE,vv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kr(s):(s=yr(e)?ro:tr.current,i.context=ba(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bg(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jd.enqueueReplaceState(i,i.state,null),od(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===wE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function Oc(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fx(t){var e=t._init;return e(t._payload)}function EE(t){function e(w,T){if(t){var S=w.deletions;S===null?(w.deletions=[T],w.flags|=16):S.push(T)}}function r(w,T){if(!t)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function n(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function i(w,T){return w=cs(w,T),w.index=0,w.sibling=null,w}function s(w,T,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<T?(w.flags|=2,T):S):(w.flags|=2,T)):(w.flags|=1048576,T)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,T,S,C){return T===null||T.tag!==6?(T=tm(S,w.mode,C),T.return=w,T):(T=i(T,S),T.return=w,T)}function u(w,T,S,C){var b=S.type;return b===Qo?f(w,T,S.props.children,C,S.key):T!==null&&(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vi&&Fx(b)===T.type)?(C=i(T,S.props),C.ref=dl(w,T,S),C.return=w,C):(C=Dh(S.type,S.key,S.props,null,w.mode,C),C.ref=dl(w,T,S),C.return=w,C)}function h(w,T,S,C){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=rm(S,w.mode,C),T.return=w,T):(T=i(T,S.children||[]),T.return=w,T)}function f(w,T,S,C,b){return T===null||T.tag!==7?(T=Zs(S,w.mode,C,b),T.return=w,T):(T=i(T,S),T.return=w,T)}function m(w,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return T=tm(""+T,w.mode,S),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Cc:return S=Dh(T.type,T.key,T.props,null,w.mode,S),S.ref=dl(w,null,T),S.return=w,S;case Yo:return T=rm(T,w.mode,S),T.return=w,T;case Vi:var C=T._init;return m(w,C(T._payload),S)}if(Sl(T)||al(T))return T=Zs(T,w.mode,S,null),T.return=w,T;Oc(w,T)}return null}function p(w,T,S,C){var b=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(w,T,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cc:return S.key===b?u(w,T,S,C):null;case Yo:return S.key===b?h(w,T,S,C):null;case Vi:return b=S._init,p(w,T,b(S._payload),C)}if(Sl(S)||al(S))return b!==null?null:f(w,T,S,C,null);Oc(w,S)}return null}function d(w,T,S,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(S)||null,a(T,w,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cc:return w=w.get(C.key===null?S:C.key)||null,u(T,w,C,b);case Yo:return w=w.get(C.key===null?S:C.key)||null,h(T,w,C,b);case Vi:var I=C._init;return d(w,T,S,I(C._payload),b)}if(Sl(C)||al(C))return w=w.get(S)||null,f(T,w,C,b,null);Oc(T,C)}return null}function g(w,T,S,C){for(var b=null,I=null,R=T,P=T=0,k=null;R!==null&&P<S.length;P++){R.index>P?(k=R,R=null):k=R.sibling;var M=p(w,R,S[P],C);if(M===null){R===null&&(R=k);break}t&&R&&M.alternate===null&&e(w,R),T=s(M,T,P),I===null?b=M:I.sibling=M,I=M,R=k}if(P===S.length)return r(w,R),tt&&Bs(w,P),b;if(R===null){for(;P<S.length;P++)R=m(w,S[P],C),R!==null&&(T=s(R,T,P),I===null?b=R:I.sibling=R,I=R);return tt&&Bs(w,P),b}for(R=n(w,R);P<S.length;P++)k=d(R,w,P,S[P],C),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?P:k.key),T=s(k,T,P),I===null?b=k:I.sibling=k,I=k);return t&&R.forEach(function(B){return e(w,B)}),tt&&Bs(w,P),b}function y(w,T,S,C){var b=al(S);if(typeof b!="function")throw Error(te(150));if(S=b.call(S),S==null)throw Error(te(151));for(var I=b=null,R=T,P=T=0,k=null,M=S.next();R!==null&&!M.done;P++,M=S.next()){R.index>P?(k=R,R=null):k=R.sibling;var B=p(w,R,M.value,C);if(B===null){R===null&&(R=k);break}t&&R&&B.alternate===null&&e(w,R),T=s(B,T,P),I===null?b=B:I.sibling=B,I=B,R=k}if(M.done)return r(w,R),tt&&Bs(w,P),b;if(R===null){for(;!M.done;P++,M=S.next())M=m(w,M.value,C),M!==null&&(T=s(M,T,P),I===null?b=M:I.sibling=M,I=M);return tt&&Bs(w,P),b}for(R=n(w,R);!M.done;P++,M=S.next())M=d(R,w,P,M.value,C),M!==null&&(t&&M.alternate!==null&&R.delete(M.key===null?P:M.key),T=s(M,T,P),I===null?b=M:I.sibling=M,I=M);return t&&R.forEach(function(F){return e(w,F)}),tt&&Bs(w,P),b}function x(w,T,S,C){if(typeof S=="object"&&S!==null&&S.type===Qo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Cc:e:{for(var b=S.key,I=T;I!==null;){if(I.key===b){if(b=S.type,b===Qo){if(I.tag===7){r(w,I.sibling),T=i(I,S.props.children),T.return=w,w=T;break e}}else if(I.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vi&&Fx(b)===I.type){r(w,I.sibling),T=i(I,S.props),T.ref=dl(w,I,S),T.return=w,w=T;break e}r(w,I);break}else e(w,I);I=I.sibling}S.type===Qo?(T=Zs(S.props.children,w.mode,C,S.key),T.return=w,w=T):(C=Dh(S.type,S.key,S.props,null,w.mode,C),C.ref=dl(w,T,S),C.return=w,w=C)}return o(w);case Yo:e:{for(I=S.key;T!==null;){if(T.key===I)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){r(w,T.sibling),T=i(T,S.children||[]),T.return=w,w=T;break e}else{r(w,T);break}else e(w,T);T=T.sibling}T=rm(S,w.mode,C),T.return=w,w=T}return o(w);case Vi:return I=S._init,x(w,T,I(S._payload),C)}if(Sl(S))return g(w,T,S,C);if(al(S))return y(w,T,S,C);Oc(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,T!==null&&T.tag===6?(r(w,T.sibling),T=i(T,S),T.return=w,w=T):(r(w,T),T=tm(S,w.mode,C),T.return=w,w=T),o(w)):r(w,T)}return x}var Aa=EE(!0),TE=EE(!1),Cu={},Yn=vs(Cu),au=vs(Cu),lu=vs(Cu);function Ys(t){if(t===Cu)throw Error(te(174));return t}function yv(t,e){switch(je(lu,e),je(au,t),je(Yn,Cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ig(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ig(e,t)}Qe(Yn),je(Yn,e)}function Pa(){Qe(Yn),Qe(au),Qe(lu)}function bE(t){Ys(lu.current);var e=Ys(Yn.current),r=ig(e,t.type);e!==r&&(je(au,t),je(Yn,r))}function xv(t){au.current===t&&(Qe(Yn),Qe(au))}var st=vs(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qp=[];function _v(){for(var t=0;t<Qp.length;t++)Qp[t]._workInProgressVersionPrimary=null;Qp.length=0}var Ph=Ai.ReactCurrentDispatcher,Kp=Ai.ReactCurrentBatchConfig,io=0,at=null,Ct=null,Dt=null,ld=!1,zl=!1,uu=0,$I=0;function Zt(){throw Error(te(321))}function wv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xn(t[r],e[r]))return!1;return!0}function Sv(t,e,r,n,i,s){if(io=s,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=t===null||t.memoizedState===null?XI:YI,t=r(n,i),zl){s=0;do{if(zl=!1,uu=0,25<=s)throw Error(te(301));s+=1,Dt=Ct=null,e.updateQueue=null,Ph.current=QI,t=r(n,i)}while(zl)}if(Ph.current=ud,e=Ct!==null&&Ct.next!==null,io=0,Dt=Ct=at=null,ld=!1,e)throw Error(te(300));return t}function Ev(){var t=uu!==0;return uu=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?at.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Zr(){if(Ct===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Dt===null?at.memoizedState:Dt.next;if(e!==null)Dt=e,Ct=t;else{if(t===null)throw Error(te(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Dt===null?at.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function cu(t,e){return typeof e=="function"?e(t):e}function Zp(t){var e=Zr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=Ct,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,h=s;do{var f=h.lane;if((io&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(a=u=m,o=n):u=u.next=m,at.lanes|=f,so|=f}h=h.next}while(h!==null&&h!==s);u===null?o=n:u.next=a,xn(n,e.memoizedState)||(mr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,at.lanes|=s,so|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function qp(t){var e=Zr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xn(s,e.memoizedState)||(mr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function CE(){}function AE(t,e){var r=at,n=Zr(),i=e(),s=!xn(n.memoizedState,i);if(s&&(n.memoizedState=i,mr=!0),n=n.queue,Tv(RE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(r.flags|=2048,hu(9,IE.bind(null,r,n,i,e),void 0,null),Bt===null)throw Error(te(349));io&30||PE(r,e,i)}return i}function PE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function IE(t,e,r,n){e.value=r,e.getSnapshot=n,ME(e)&&kE(t)}function RE(t,e,r){return r(function(){ME(e)&&kE(t)})}function ME(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xn(t,r)}catch{return!0}}function kE(t){var e=Si(t,1);e!==null&&gn(e,t,1,-1)}function Nx(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:t},e.queue=t,t=t.dispatch=WI.bind(null,at,t),[e.memoizedState,t]}function hu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function DE(){return Zr().memoizedState}function Ih(t,e,r,n){var i=Un();at.flags|=t,i.memoizedState=hu(1|e,r,void 0,n===void 0?null:n)}function Wd(t,e,r,n){var i=Zr();n=n===void 0?null:n;var s=void 0;if(Ct!==null){var o=Ct.memoizedState;if(s=o.destroy,n!==null&&wv(n,o.deps)){i.memoizedState=hu(e,r,s,n);return}}at.flags|=t,i.memoizedState=hu(1|e,r,s,n)}function Bx(t,e){return Ih(8390656,8,t,e)}function Tv(t,e){return Wd(2048,8,t,e)}function FE(t,e){return Wd(4,2,t,e)}function NE(t,e){return Wd(4,4,t,e)}function BE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OE(t,e,r){return r=r!=null?r.concat([t]):null,Wd(4,4,BE.bind(null,e,t),r)}function bv(){}function LE(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function UE(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function GE(t,e,r){return io&21?(xn(r,e)||(r=$S(),at.lanes|=r,so|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mr=!0),t.memoizedState=r)}function VI(t,e){var r=He;He=r!==0&&4>r?r:4,t(!0);var n=Kp.transition;Kp.transition={};try{t(!1),e()}finally{He=r,Kp.transition=n}}function zE(){return Zr().memoizedState}function jI(t,e,r){var n=us(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},HE(t))$E(e,r);else if(r=xE(t,e,r,n),r!==null){var i=or();gn(r,t,n,i),VE(r,e,n)}}function WI(t,e,r){var n=us(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(HE(t))$E(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,xn(a,o)){var u=e.interleaved;u===null?(i.next=i,gv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=xE(t,e,i,n),r!==null&&(i=or(),gn(r,t,n,i),VE(r,e,n))}}function HE(t){var e=t.alternate;return t===at||e!==null&&e===at}function $E(t,e){zl=ld=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function VE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rv(t,r)}}var ud={readContext:Kr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},XI={readContext:Kr,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:Kr,useEffect:Bx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ih(4194308,4,BE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ih(4,2,t,e)},useMemo:function(t,e){var r=Un();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Un();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=jI.bind(null,at,t),[n.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:Nx,useDebugValue:bv,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=Nx(!1),e=t[0];return t=VI.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=at,i=Un();if(tt){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Bt===null)throw Error(te(349));io&30||PE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Bx(RE.bind(null,n,s,t),[t]),n.flags|=2048,hu(9,IE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Un(),e=Bt.identifierPrefix;if(tt){var r=fi,n=di;r=(n&~(1<<32-mn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=uu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=$I++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YI={readContext:Kr,useCallback:LE,useContext:Kr,useEffect:Tv,useImperativeHandle:OE,useInsertionEffect:FE,useLayoutEffect:NE,useMemo:UE,useReducer:Zp,useRef:DE,useState:function(){return Zp(cu)},useDebugValue:bv,useDeferredValue:function(t){var e=Zr();return GE(e,Ct.memoizedState,t)},useTransition:function(){var t=Zp(cu)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:CE,useSyncExternalStore:AE,useId:zE,unstable_isNewReconciler:!1},QI={readContext:Kr,useCallback:LE,useContext:Kr,useEffect:Tv,useImperativeHandle:OE,useInsertionEffect:FE,useLayoutEffect:NE,useMemo:UE,useReducer:qp,useRef:DE,useState:function(){return qp(cu)},useDebugValue:bv,useDeferredValue:function(t){var e=Zr();return Ct===null?e.memoizedState=t:GE(e,Ct.memoizedState,t)},useTransition:function(){var t=qp(cu)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:CE,useSyncExternalStore:AE,useId:zE,unstable_isNewReconciler:!1};function Ia(t,e){try{var r="",n=e;do r+=EP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ag(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var KI=typeof WeakMap=="function"?WeakMap:Map;function jE(t,e,r){r=vi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){hd||(hd=!0,Og=n),Ag(t,e)},r}function WE(t,e,r){r=vi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ag(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Ag(t,e),typeof n!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ox(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new KI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=cR.bind(null,t,e,r),e.then(t,t))}function Lx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ux(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vi(-1,1),e.tag=2,as(r,e,1))),r.lanes|=1),t)}var ZI=Ai.ReactCurrentOwner,mr=!1;function sr(t,e,r,n){e.child=t===null?TE(e,null,r,n):Aa(e,t.child,r,n)}function Gx(t,e,r,n,i){r=r.render;var s=e.ref;return fa(e,i),n=Sv(t,e,r,n,s,i),r=Ev(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(tt&&r&&cv(e),e.flags|=1,sr(t,e,n,i),e.child)}function zx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Dv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,XE(t,e,s,n,i)):(t=Dh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:nu,r(o,n)&&t.ref===e.ref)return Ei(t,e,i)}return e.flags|=1,t=cs(s,n),t.ref=e.ref,t.return=e,e.child=t}function XE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(nu(s,n)&&t.ref===e.ref)if(mr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(mr=!0);else return e.lanes=t.lanes,Ei(t,e,i)}return Pg(t,e,r,n,i)}function YE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(sa,Ar),Ar|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(sa,Ar),Ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,je(sa,Ar),Ar|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,je(sa,Ar),Ar|=n;return sr(t,e,i,r),e.child}function QE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Pg(t,e,r,n,i){var s=yr(r)?ro:tr.current;return s=ba(e,s),fa(e,i),r=Sv(t,e,r,n,s,i),n=Ev(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(tt&&n&&cv(e),e.flags|=1,sr(t,e,r,i),e.child)}function Hx(t,e,r,n,i){if(yr(r)){var s=!0;td(e)}else s=!1;if(fa(e,i),e.stateNode===null)Rh(t,e),SE(e,r,n),Cg(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=Kr(h):(h=yr(r)?ro:tr.current,h=ba(e,h));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==h)&&Dx(e,o,n,h),ji=!1;var p=e.memoizedState;o.state=p,od(e,n,o,i),u=e.memoizedState,a!==n||p!==u||vr.current||ji?(typeof f=="function"&&(bg(e,r,f,n),u=e.memoizedState),(a=ji||kx(e,r,a,n,p,u,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=h,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_E(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:un(e.type,a),o.props=h,m=e.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Kr(u):(u=yr(r)?ro:tr.current,u=ba(e,u));var d=r.getDerivedStateFromProps;(f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||p!==u)&&Dx(e,o,n,u),ji=!1,p=e.memoizedState,o.state=p,od(e,n,o,i);var g=e.memoizedState;a!==m||p!==g||vr.current||ji?(typeof d=="function"&&(bg(e,r,d,n),g=e.memoizedState),(h=ji||kx(e,r,h,n,p,g,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=u,n=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Ig(t,e,r,n,s,i)}function Ig(t,e,r,n,i,s){QE(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Ax(e,r,!1),Ei(t,e,s);n=e.stateNode,ZI.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Aa(e,t.child,null,s),e.child=Aa(e,null,a,s)):sr(t,e,a,s),e.memoizedState=n.state,i&&Ax(e,r,!0),e.child}function KE(t){var e=t.stateNode;e.pendingContext?Cx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cx(t,e.context,!1),yv(t,e.containerInfo)}function $x(t,e,r,n,i){return Ca(),dv(i),e.flags|=256,sr(t,e,r,n),e.child}var Rg={dehydrated:null,treeContext:null,retryLane:0};function Mg(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZE(t,e,r){var n=e.pendingProps,i=st.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(st,i&1),t===null)return Eg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qd(o,n,0,null),t=Zs(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Mg(r),e.memoizedState=Rg,t):Cv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qI(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=cs(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=cs(a,s):(s=Zs(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Mg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Rg,n}return s=t.child,t=s.sibling,n=cs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Cv(t,e){return e=Qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lc(t,e,r,n){return n!==null&&dv(n),Aa(e,t.child,null,r),t=Cv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qI(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Jp(Error(te(422))),Lc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Qd({mode:"visible",children:n.children},i,0,null),s=Zs(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Aa(e,t.child,null,o),e.child.memoizedState=Mg(o),e.memoizedState=Rg,s);if(!(e.mode&1))return Lc(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(te(419)),n=Jp(s,n,void 0),Lc(t,e,o,n)}if(a=(o&t.childLanes)!==0,mr||a){if(n=Bt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Si(t,i),gn(n,t,i,-1))}return kv(),n=Jp(Error(te(421))),Lc(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pr=os(i.nextSibling),Ir=e,tt=!0,hn=null,t!==null&&(Vr[jr++]=di,Vr[jr++]=fi,Vr[jr++]=no,di=t.id,fi=t.overflow,no=e),e=Cv(e,n.children),e.flags|=4096,e)}function Vx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Tg(t.return,e,r)}function em(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function qE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(sr(t,e,n.children,r),n=st.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vx(t,r,e);else if(t.tag===19)Vx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(je(st,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ad(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),em(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}em(e,!0,r,null,s);break;case"together":em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=cs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function JI(t,e,r){switch(e.tag){case 3:KE(e),Ca();break;case 5:bE(e);break;case 1:yr(e.type)&&td(e);break;case 4:yv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;je(id,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(je(st,st.current&1),e.flags|=128,null):r&e.child.childLanes?ZE(t,e,r):(je(st,st.current&1),t=Ei(t,e,r),t!==null?t.sibling:null);je(st,st.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(st,st.current),n)break;return null;case 22:case 23:return e.lanes=0,YE(t,e,r)}return Ei(t,e,r)}var JE,kg,eT,tT;JE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kg=function(){};eT=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ys(Yn.current);var s=null;switch(r){case"input":i=eg(t,i),n=eg(t,n),s=[];break;case"select":i=lt({},i,{value:void 0}),n=lt({},n,{value:void 0}),s=[];break;case"textarea":i=ng(t,i),n=ng(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Jh)}sg(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Kl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var u=n[h];if(a=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&u!==a&&(u!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(h,r)),r=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Xe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(h,u))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};tT=function(t,e,r,n){r!==n&&(e.flags|=4)};function fl(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function eR(t,e,r){var n=e.pendingProps;switch(hv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return yr(e.type)&&ed(),qt(e),null;case 3:return n=e.stateNode,Pa(),Qe(vr),Qe(tr),_v(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(Gg(hn),hn=null))),kg(t,e),qt(e),null;case 5:xv(e);var i=Ys(lu.current);if(r=e.type,t!==null&&e.stateNode!=null)eT(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return qt(e),null}if(t=Ys(Yn.current),Bc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Vn]=e,n[ou]=s,t=(e.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(i=0;i<Tl.length;i++)Xe(Tl[i],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":J1(n,s),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",n);break;case"textarea":tx(n,s),Xe("invalid",n)}sg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nc(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nc(n.textContent,a,t),i=["children",""+a]):Kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",n)}switch(r){case"input":Ac(n),ex(n,s,!0);break;case"textarea":Ac(n),rx(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Jh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Vn]=e,t[ou]=n,JE(t,e,!1,!1),e.stateNode=t;e:{switch(o=og(r,n),r){case"dialog":Xe("cancel",t),Xe("close",t),i=n;break;case"iframe":case"object":case"embed":Xe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Tl.length;i++)Xe(Tl[i],t);i=n;break;case"source":Xe("error",t),i=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=n;break;case"details":Xe("toggle",t),i=n;break;case"input":J1(t,n),i=eg(t,n),Xe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=lt({},n,{value:void 0}),Xe("invalid",t);break;case"textarea":tx(t,n),i=ng(t,n),Xe("invalid",t);break;default:i=n}sg(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?MS(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&IS(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Zl(t,u):typeof u=="number"&&Zl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Xe("scroll",t):u!=null&&K0(t,s,u,o))}switch(r){case"input":Ac(t),ex(t,n,!1);break;case"textarea":Ac(t),rx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ds(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ua(t,!!n.multiple,s,!1):n.defaultValue!=null&&ua(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)tT(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Ys(lu.current),Ys(Yn.current),Bc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vn]=e,(s=n.nodeValue!==r)&&(t=Ir,t!==null))switch(t.tag){case 3:Nc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vn]=e,e.stateNode=n}return qt(e),null;case 13:if(Qe(st),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Pr!==null&&e.mode&1&&!(e.flags&128))yE(),Ca(),e.flags|=98560,s=!1;else if(s=Bc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[Vn]=e}else Ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),s=!1}else hn!==null&&(Gg(hn),hn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?At===0&&(At=3):kv())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return Pa(),kg(t,e),t===null&&iu(e.stateNode.containerInfo),qt(e),null;case 10:return mv(e.type._context),qt(e),null;case 17:return yr(e.type)&&ed(),qt(e),null;case 19:if(Qe(st),s=e.memoizedState,s===null)return qt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)fl(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ad(t),o!==null){for(e.flags|=128,fl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return je(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&vt()>Ra&&(e.flags|=128,n=!0,fl(s,!1),e.lanes=4194304)}else{if(!n)if(t=ad(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),fl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tt)return qt(e),null}else 2*vt()-s.renderingStartTime>Ra&&r!==1073741824&&(e.flags|=128,n=!0,fl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,r=st.current,je(st,n?r&1|2:r&1),e):(qt(e),null);case 22:case 23:return Mv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ar&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function tR(t,e){switch(hv(e),e.tag){case 1:return yr(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pa(),Qe(vr),Qe(tr),_v(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xv(e),null;case 13:if(Qe(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(st),null;case 4:return Pa(),null;case 10:return mv(e.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var Uc=!1,Jt=!1,rR=typeof WeakSet=="function"?WeakSet:Set,he=null;function ia(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ht(t,e,n)}else r.current=null}function Dg(t,e,r){try{r()}catch(n){ht(t,e,n)}}var jx=!1;function nR(t,e){if(gg=Kh,t=sE(),uv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,h=0,f=0,m=t,p=null;t:for(;;){for(var d;m!==r||i!==0&&m.nodeType!==3||(a=o+i),m!==s||n!==0&&m.nodeType!==3||(u=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(d=m.firstChild)!==null;)p=m,m=d;for(;;){if(m===t)break t;if(p===r&&++h===i&&(a=o),p===s&&++f===n&&(u=o),(d=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=d}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(vg={focusedElem:t,selectionRange:r},Kh=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,w=e.stateNode,T=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:un(e.type,y),x);w.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(C){ht(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return g=jx,jx=!1,g}function Hl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dg(e,r,s)}i=i.next}while(i!==n)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Fg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rT(t){var e=t.alternate;e!==null&&(t.alternate=null,rT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[ou],delete e[_g],delete e[UI],delete e[GI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nT(t){return t.tag===5||t.tag===3||t.tag===4}function Wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ng(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Jh));else if(n!==4&&(t=t.child,t!==null))for(Ng(t,e,r),t=t.sibling;t!==null;)Ng(t,e,r),t=t.sibling}function Bg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Bg(t,e,r),t=t.sibling;t!==null;)Bg(t,e,r),t=t.sibling}var Ht=null,cn=!1;function Gi(t,e,r){for(r=r.child;r!==null;)iT(t,e,r),r=r.sibling}function iT(t,e,r){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Ud,r)}catch{}switch(r.tag){case 5:Jt||ia(r,e);case 6:var n=Ht,i=cn;Ht=null,Gi(t,e,r),Ht=n,cn=i,Ht!==null&&(cn?(t=Ht,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ht.removeChild(r.stateNode));break;case 18:Ht!==null&&(cn?(t=Ht,r=r.stateNode,t.nodeType===8?Xp(t.parentNode,r):t.nodeType===1&&Xp(t,r),tu(t)):Xp(Ht,r.stateNode));break;case 4:n=Ht,i=cn,Ht=r.stateNode.containerInfo,cn=!0,Gi(t,e,r),Ht=n,cn=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dg(r,e,o),i=i.next}while(i!==n)}Gi(t,e,r);break;case 1:if(!Jt&&(ia(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ht(r,e,a)}Gi(t,e,r);break;case 21:Gi(t,e,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,Gi(t,e,r),Jt=n):Gi(t,e,r);break;default:Gi(t,e,r)}}function Xx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new rR),e.forEach(function(n){var i=dR.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function nn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,cn=!1;break e;case 3:Ht=a.stateNode.containerInfo,cn=!0;break e;case 4:Ht=a.stateNode.containerInfo,cn=!0;break e}a=a.return}if(Ht===null)throw Error(te(160));iT(s,o,i),Ht=null,cn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){ht(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sT(e,t),e=e.sibling}function sT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nn(e,t),kn(t),n&4){try{Hl(3,t,t.return),Xd(3,t)}catch(y){ht(t,t.return,y)}try{Hl(5,t,t.return)}catch(y){ht(t,t.return,y)}}break;case 1:nn(e,t),kn(t),n&512&&r!==null&&ia(r,r.return);break;case 5:if(nn(e,t),kn(t),n&512&&r!==null&&ia(r,r.return),t.flags&32){var i=t.stateNode;try{Zl(i,"")}catch(y){ht(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CS(i,s),og(a,o);var h=og(a,s);for(o=0;o<u.length;o+=2){var f=u[o],m=u[o+1];f==="style"?MS(i,m):f==="dangerouslySetInnerHTML"?IS(i,m):f==="children"?Zl(i,m):K0(i,f,m,h)}switch(a){case"input":tg(i,s);break;case"textarea":AS(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?ua(i,!!s.multiple,d,!1):p!==!!s.multiple&&(s.defaultValue!=null?ua(i,!!s.multiple,s.defaultValue,!0):ua(i,!!s.multiple,s.multiple?[]:"",!1))}i[ou]=s}catch(y){ht(t,t.return,y)}}break;case 6:if(nn(e,t),kn(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ht(t,t.return,y)}}break;case 3:if(nn(e,t),kn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(y){ht(t,t.return,y)}break;case 4:nn(e,t),kn(t);break;case 13:nn(e,t),kn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iv=vt())),n&4&&Xx(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Jt=(h=Jt)||f,nn(e,t),Jt=h):nn(e,t),kn(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(he=t,f=t.child;f!==null;){for(m=he=f;he!==null;){switch(p=he,d=p.child,p.tag){case 0:case 11:case 14:case 15:Hl(4,p,p.return);break;case 1:ia(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ht(n,r,y)}}break;case 5:ia(p,p.return);break;case 22:if(p.memoizedState!==null){Qx(m);continue}}d!==null?(d.return=p,he=d):Qx(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=RS("display",o))}catch(y){ht(t,t.return,y)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(y){ht(t,t.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:nn(e,t),kn(t),n&4&&Xx(t);break;case 21:break;default:nn(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nT(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Zl(i,""),n.flags&=-33);var s=Wx(t);Bg(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Wx(t);Ng(t,a,o);break;default:throw Error(te(161))}}catch(u){ht(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iR(t,e,r){he=t,oT(t)}function oT(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Uc;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Jt;a=Uc;var h=Jt;if(Uc=o,(Jt=u)&&!h)for(he=i;he!==null;)o=he,u=o.child,o.tag===22&&o.memoizedState!==null?Kx(i):u!==null?(u.return=o,he=u):Kx(i);for(;s!==null;)he=s,oT(s),s=s.sibling;he=i,Uc=a,Jt=h}Yx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):Yx(t)}}function Yx(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Xd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:un(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Mx(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Mx(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&tu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Jt||e.flags&512&&Fg(e)}catch(p){ht(e,e.return,p)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function Qx(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function Kx(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Xd(4,e)}catch(u){ht(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){ht(e,i,u)}}var s=e.return;try{Fg(e)}catch(u){ht(e,s,u)}break;case 5:var o=e.return;try{Fg(e)}catch(u){ht(e,o,u)}}}catch(u){ht(e,e.return,u)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var sR=Math.ceil,cd=Ai.ReactCurrentDispatcher,Av=Ai.ReactCurrentOwner,Qr=Ai.ReactCurrentBatchConfig,Ne=0,Bt=null,wt=null,Vt=0,Ar=0,sa=vs(0),At=0,du=null,so=0,Yd=0,Pv=0,$l=null,pr=null,Iv=0,Ra=1/0,ci=null,hd=!1,Og=null,ls=null,Gc=!1,qi=null,dd=0,Vl=0,Lg=null,Mh=-1,kh=0;function or(){return Ne&6?vt():Mh!==-1?Mh:Mh=vt()}function us(t){return t.mode&1?Ne&2&&Vt!==0?Vt&-Vt:HI.transition!==null?(kh===0&&(kh=$S()),kh):(t=He,t!==0||(t=window.event,t=t===void 0?16:KS(t.type)),t):1}function gn(t,e,r,n){if(50<Vl)throw Vl=0,Lg=null,Error(te(185));Eu(t,r,n),(!(Ne&2)||t!==Bt)&&(t===Bt&&(!(Ne&2)&&(Yd|=r),At===4&&Qi(t,Vt)),xr(t,n),r===1&&Ne===0&&!(e.mode&1)&&(Ra=vt()+500,Vd&&ys()))}function xr(t,e){var r=t.callbackNode;HP(t,e);var n=Qh(t,t===Bt?Vt:0);if(n===0)r!==null&&sx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&sx(r),e===1)t.tag===0?zI(Zx.bind(null,t)):mE(Zx.bind(null,t)),OI(function(){!(Ne&6)&&ys()}),r=null;else{switch(VS(n)){case 1:r=tv;break;case 4:r=zS;break;case 16:r=Yh;break;case 536870912:r=HS;break;default:r=Yh}r=pT(r,aT.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aT(t,e){if(Mh=-1,kh=0,Ne&6)throw Error(te(327));var r=t.callbackNode;if(pa()&&t.callbackNode!==r)return null;var n=Qh(t,t===Bt?Vt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=fd(t,n);else{e=n;var i=Ne;Ne|=2;var s=uT();(Bt!==t||Vt!==e)&&(ci=null,Ra=vt()+500,Ks(t,e));do try{lR();break}catch(a){lT(t,a)}while(!0);pv(),cd.current=s,Ne=i,wt!==null?e=0:(Bt=null,Vt=0,e=At)}if(e!==0){if(e===2&&(i=hg(t),i!==0&&(n=i,e=Ug(t,i))),e===1)throw r=du,Ks(t,0),Qi(t,n),xr(t,vt()),r;if(e===6)Qi(t,n);else{if(i=t.current.alternate,!(n&30)&&!oR(i)&&(e=fd(t,n),e===2&&(s=hg(t),s!==0&&(n=s,e=Ug(t,s))),e===1))throw r=du,Ks(t,0),Qi(t,n),xr(t,vt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:Os(t,pr,ci);break;case 3:if(Qi(t,n),(n&130023424)===n&&(e=Iv+500-vt(),10<e)){if(Qh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){or(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xg(Os.bind(null,t,pr,ci),e);break}Os(t,pr,ci);break;case 4:if(Qi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-mn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sR(n/1960))-n,10<n){t.timeoutHandle=xg(Os.bind(null,t,pr,ci),n);break}Os(t,pr,ci);break;case 5:Os(t,pr,ci);break;default:throw Error(te(329))}}}return xr(t,vt()),t.callbackNode===r?aT.bind(null,t):null}function Ug(t,e){var r=$l;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=fd(t,e),t!==2&&(e=pr,pr=r,e!==null&&Gg(e)),t}function Gg(t){pr===null?pr=t:pr.push.apply(pr,t)}function oR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!xn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~Pv,e&=~Yd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-mn(e),n=1<<r;t[r]=-1,e&=~n}}function Zx(t){if(Ne&6)throw Error(te(327));pa();var e=Qh(t,0);if(!(e&1))return xr(t,vt()),null;var r=fd(t,e);if(t.tag!==0&&r===2){var n=hg(t);n!==0&&(e=n,r=Ug(t,n))}if(r===1)throw r=du,Ks(t,0),Qi(t,e),xr(t,vt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Os(t,pr,ci),xr(t,vt()),null}function Rv(t,e){var r=Ne;Ne|=1;try{return t(e)}finally{Ne=r,Ne===0&&(Ra=vt()+500,Vd&&ys())}}function oo(t){qi!==null&&qi.tag===0&&!(Ne&6)&&pa();var e=Ne;Ne|=1;var r=Qr.transition,n=He;try{if(Qr.transition=null,He=1,t)return t()}finally{He=n,Qr.transition=r,Ne=e,!(Ne&6)&&ys()}}function Mv(){Ar=sa.current,Qe(sa)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,BI(r)),wt!==null)for(r=wt.return;r!==null;){var n=r;switch(hv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ed();break;case 3:Pa(),Qe(vr),Qe(tr),_v();break;case 5:xv(n);break;case 4:Pa();break;case 13:Qe(st);break;case 19:Qe(st);break;case 10:mv(n.type._context);break;case 22:case 23:Mv()}r=r.return}if(Bt=t,wt=t=cs(t.current,null),Vt=Ar=e,At=0,du=null,Pv=Yd=so=0,pr=$l=null,Xs!==null){for(e=0;e<Xs.length;e++)if(r=Xs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Xs=null}return t}function lT(t,e){do{var r=wt;try{if(pv(),Ph.current=ud,ld){for(var n=at.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ld=!1}if(io=0,Dt=Ct=at=null,zl=!1,uu=0,Av.current=null,r===null||r.return===null){At=1,du=e,wt=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=Vt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=Lx(o);if(d!==null){d.flags&=-257,Ux(d,o,a,s,e),d.mode&1&&Ox(s,h,e),e=d,u=h;var g=e.updateQueue;if(g===null){var y=new Set;y.add(u),e.updateQueue=y}else g.add(u);break e}else{if(!(e&1)){Ox(s,h,e),kv();break e}u=Error(te(426))}}else if(tt&&a.mode&1){var x=Lx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ux(x,o,a,s,e),dv(Ia(u,a));break e}}s=u=Ia(u,a),At!==4&&(At=2),$l===null?$l=[s]:$l.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=jE(s,u,e);Rx(s,w);break e;case 1:a=u;var T=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ls===null||!ls.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=WE(s,a,e);Rx(s,C);break e}}s=s.return}while(s!==null)}hT(r)}catch(b){e=b,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(!0)}function uT(){var t=cd.current;return cd.current=ud,t===null?ud:t}function kv(){(At===0||At===3||At===2)&&(At=4),Bt===null||!(so&268435455)&&!(Yd&268435455)||Qi(Bt,Vt)}function fd(t,e){var r=Ne;Ne|=2;var n=uT();(Bt!==t||Vt!==e)&&(ci=null,Ks(t,e));do try{aR();break}catch(i){lT(t,i)}while(!0);if(pv(),Ne=r,cd.current=n,wt!==null)throw Error(te(261));return Bt=null,Vt=0,At}function aR(){for(;wt!==null;)cT(wt)}function lR(){for(;wt!==null&&!DP();)cT(wt)}function cT(t){var e=fT(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,e===null?hT(t):wt=e,Av.current=null}function hT(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=tR(r,e),r!==null){r.flags&=32767,wt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,wt=null;return}}else if(r=eR(r,e,Ar),r!==null){wt=r;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);At===0&&(At=5)}function Os(t,e,r){var n=He,i=Qr.transition;try{Qr.transition=null,He=1,uR(t,e,r,n)}finally{Qr.transition=i,He=n}return null}function uR(t,e,r,n){do pa();while(qi!==null);if(Ne&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if($P(t,s),t===Bt&&(wt=Bt=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gc||(Gc=!0,pT(Yh,function(){return pa(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Qr.transition,Qr.transition=null;var o=He;He=1;var a=Ne;Ne|=4,Av.current=null,nR(t,r),sT(r,t),II(vg),Kh=!!gg,vg=gg=null,t.current=r,iR(r),FP(),Ne=a,He=o,Qr.transition=s}else t.current=r;if(Gc&&(Gc=!1,qi=t,dd=i),s=t.pendingLanes,s===0&&(ls=null),OP(r.stateNode),xr(t,vt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(hd)throw hd=!1,t=Og,Og=null,t;return dd&1&&t.tag!==0&&pa(),s=t.pendingLanes,s&1?t===Lg?Vl++:(Vl=0,Lg=t):Vl=0,ys(),null}function pa(){if(qi!==null){var t=VS(dd),e=Qr.transition,r=He;try{if(Qr.transition=null,He=16>t?16:t,qi===null)var n=!1;else{if(t=qi,qi=null,dd=0,Ne&6)throw Error(te(331));var i=Ne;for(Ne|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var h=a[u];for(he=h;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:Hl(8,f,s)}var m=f.child;if(m!==null)m.return=f,he=m;else for(;he!==null;){f=he;var p=f.sibling,d=f.return;if(rT(f),f===h){he=null;break}if(p!==null){p.return=d,he=p;break}he=d}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,he=w;break e}he=s.return}}var T=t.current;for(he=T;he!==null;){o=he;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,he=S;else e:for(o=T;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xd(9,a)}}catch(b){ht(a,a.return,b)}if(a===o){he=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,he=C;break e}he=a.return}}if(Ne=i,ys(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Ud,t)}catch{}n=!0}return n}finally{He=r,Qr.transition=e}}return!1}function qx(t,e,r){e=Ia(r,e),e=jE(t,e,1),t=as(t,e,1),e=or(),t!==null&&(Eu(t,1,e),xr(t,e))}function ht(t,e,r){if(t.tag===3)qx(t,t,r);else for(;e!==null;){if(e.tag===3){qx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ls===null||!ls.has(n))){t=Ia(r,t),t=WE(e,t,1),e=as(e,t,1),t=or(),e!==null&&(Eu(e,1,t),xr(e,t));break}}e=e.return}}function cR(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&r,Bt===t&&(Vt&r)===r&&(At===4||At===3&&(Vt&130023424)===Vt&&500>vt()-Iv?Ks(t,0):Pv|=r),xr(t,e)}function dT(t,e){e===0&&(t.mode&1?(e=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):e=1);var r=or();t=Si(t,e),t!==null&&(Eu(t,e,r),xr(t,r))}function hR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dT(t,r)}function dR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),dT(t,r)}var fT;fT=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||vr.current)mr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return mr=!1,JI(t,e,r);mr=!!(t.flags&131072)}else mr=!1,tt&&e.flags&1048576&&gE(e,nd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rh(t,e),t=e.pendingProps;var i=ba(e,tr.current);fa(e,r),i=Sv(null,e,n,t,i,r);var s=Ev();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(n)?(s=!0,td(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vv(e),i.updater=jd,e.stateNode=i,i._reactInternals=e,Cg(e,n,t,r),e=Ig(null,e,n,!0,s,r)):(e.tag=0,tt&&s&&cv(e),sr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=pR(n),t=un(n,t),i){case 0:e=Pg(null,e,n,t,r);break e;case 1:e=Hx(null,e,n,t,r);break e;case 11:e=Gx(null,e,n,t,r);break e;case 14:e=zx(null,e,n,un(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),Pg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),Hx(t,e,n,i,r);case 3:e:{if(KE(e),t===null)throw Error(te(387));n=e.pendingProps,s=e.memoizedState,i=s.element,_E(t,e),od(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ia(Error(te(423)),e),e=$x(t,e,n,r,i);break e}else if(n!==i){i=Ia(Error(te(424)),e),e=$x(t,e,n,r,i);break e}else for(Pr=os(e.stateNode.containerInfo.firstChild),Ir=e,tt=!0,hn=null,r=TE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ca(),n===i){e=Ei(t,e,r);break e}sr(t,e,n,r)}e=e.child}return e;case 5:return bE(e),t===null&&Eg(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yg(n,i)?o=null:s!==null&&yg(n,s)&&(e.flags|=32),QE(t,e),sr(t,e,o,r),e.child;case 6:return t===null&&Eg(e),null;case 13:return ZE(t,e,r);case 4:return yv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Aa(e,null,n,r):sr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),Gx(t,e,n,i,r);case 7:return sr(t,e,e.pendingProps,r),e.child;case 8:return sr(t,e,e.pendingProps.children,r),e.child;case 12:return sr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(id,n._currentValue),n._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===i.children&&!vr.current){e=Ei(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=vi(-1,r&-r),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Tg(s.return,r,e),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Tg(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}sr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,fa(e,r),i=Kr(i),n=n(i),e.flags|=1,sr(t,e,n,r),e.child;case 14:return n=e.type,i=un(n,e.pendingProps),i=un(n.type,i),zx(t,e,n,i,r);case 15:return XE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),Rh(t,e),e.tag=1,yr(n)?(t=!0,td(e)):t=!1,fa(e,r),SE(e,n,i),Cg(e,n,i,r),Ig(null,e,n,!0,t,r);case 19:return qE(t,e,r);case 22:return YE(t,e,r)}throw Error(te(156,e.tag))};function pT(t,e){return GS(t,e)}function fR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,r,n){return new fR(t,e,r,n)}function Dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pR(t){if(typeof t=="function")return Dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q0)return 11;if(t===J0)return 14}return 2}function cs(t,e){var r=t.alternate;return r===null?(r=Wr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Dh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Dv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qo:return Zs(r.children,i,s,e);case Z0:o=8,i|=8;break;case Km:return t=Wr(12,r,e,i|2),t.elementType=Km,t.lanes=s,t;case Zm:return t=Wr(13,r,e,i),t.elementType=Zm,t.lanes=s,t;case qm:return t=Wr(19,r,e,i),t.elementType=qm,t.lanes=s,t;case ES:return Qd(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wS:o=10;break e;case SS:o=9;break e;case q0:o=11;break e;case J0:o=14;break e;case Vi:o=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Wr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Zs(t,e,r,n){return t=Wr(7,t,n,e),t.lanes=r,t}function Qd(t,e,r,n){return t=Wr(22,t,n,e),t.elementType=ES,t.lanes=r,t.stateNode={isHidden:!1},t}function tm(t,e,r){return t=Wr(6,t,null,e),t.lanes=r,t}function rm(t,e,r){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mR(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bp(0),this.expirationTimes=Bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fv(t,e,r,n,i,s,o,a,u){return t=new mR(t,e,r,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vv(s),t}function gR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mT(t){if(!t)return fs;t=t._reactInternals;e:{if(co(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(yr(r))return pE(t,r,e)}return e}function gT(t,e,r,n,i,s,o,a,u){return t=Fv(r,n,!0,t,i,s,o,a,u),t.context=mT(null),r=t.current,n=or(),i=us(r),s=vi(n,i),s.callback=e??null,as(r,s,i),t.current.lanes=i,Eu(t,i,n),xr(t,n),t}function Kd(t,e,r,n){var i=e.current,s=or(),o=us(i);return r=mT(r),e.context===null?e.context=r:e.pendingContext=r,e=vi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=as(i,e,o),t!==null&&(gn(t,i,o,s),Ah(t,i,o)),o}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Nv(t,e){Jx(t,e),(t=t.alternate)&&Jx(t,e)}function vR(){return null}var vT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bv(t){this._internalRoot=t}Zd.prototype.render=Bv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Kd(t,e,null,null)};Zd.prototype.unmount=Bv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Kd(null,t,null,null)}),e[wi]=null}};function Zd(t){this._internalRoot=t}Zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=XS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Yi.length&&e!==0&&e<Yi[r].priority;r++);Yi.splice(r,0,t),r===0&&QS(t)}};function Ov(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e_(){}function yR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=pd(o);s.call(h)}}var o=gT(e,n,t,0,null,!1,!1,"",e_);return t._reactRootContainer=o,t[wi]=o.current,iu(t.nodeType===8?t.parentNode:t),oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var h=pd(u);a.call(h)}}var u=Fv(t,0,!1,null,null,!1,!1,"",e_);return t._reactRootContainer=u,t[wi]=u.current,iu(t.nodeType===8?t.parentNode:t),oo(function(){Kd(e,u,r,n)}),u}function Jd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=pd(o);a.call(u)}}Kd(e,o,t,i)}else o=yR(r,e,t,i,n);return pd(o)}jS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=El(e.pendingLanes);r!==0&&(rv(e,r|1),xr(e,vt()),!(Ne&6)&&(Ra=vt()+500,ys()))}break;case 13:oo(function(){var n=Si(t,1);if(n!==null){var i=or();gn(n,t,1,i)}}),Nv(t,1)}};nv=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var r=or();gn(e,t,134217728,r)}Nv(t,134217728)}};WS=function(t){if(t.tag===13){var e=us(t),r=Si(t,e);if(r!==null){var n=or();gn(r,t,e,n)}Nv(t,e)}};XS=function(){return He};YS=function(t,e){var r=He;try{return He=t,e()}finally{He=r}};lg=function(t,e,r){switch(e){case"input":if(tg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$d(n);if(!i)throw Error(te(90));bS(n),tg(n,i)}}}break;case"textarea":AS(t,r);break;case"select":e=r.value,e!=null&&ua(t,!!r.multiple,e,!1)}};FS=Rv;NS=oo;var xR={usingClientEntryPoint:!1,Events:[bu,Jo,$d,kS,DS,Rv]},pl={findFiberByHostInstance:Ws,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_R={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LS(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||vR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Ud=zc.inject(_R),Xn=zc}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xR;kr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(e))throw Error(te(200));return gR(t,e,null,r)};kr.createRoot=function(t,e){if(!Ov(t))throw Error(te(299));var r=!1,n="",i=vT;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fv(t,1,!1,null,null,r,!1,n,i),t[wi]=e.current,iu(t.nodeType===8?t.parentNode:t),new Bv(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=LS(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return oo(t)};kr.hydrate=function(t,e,r){if(!qd(e))throw Error(te(200));return Jd(null,t,e,!0,r)};kr.hydrateRoot=function(t,e,r){if(!Ov(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=vT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=gT(e,null,t,1,r??null,i,!1,s,o),t[wi]=e.current,iu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Zd(e)};kr.render=function(t,e,r){if(!qd(e))throw Error(te(200));return Jd(null,t,e,!1,r)};kr.unmountComponentAtNode=function(t){if(!qd(t))throw Error(te(40));return t._reactRootContainer?(oo(function(){Jd(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};kr.unstable_batchedUpdates=Rv;kr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qd(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Jd(t,e,r,!1,n)};kr.version="18.2.0-next-9e3b772b8-20220608";function yT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yT)}catch(t){console.error(t)}}yT(),gS.exports=kr;var wR=gS.exports,t_=wR;Ym.createRoot=t_.createRoot,Ym.hydrateRoot=t_.hydrateRoot;var ef={exports:{}},ho=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ho||{}),xT=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(xT||{}),zg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(zg||{}),fe=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(fe||{}),fn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(fn||{}),ne=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ne||{}),ma=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ma||{}),_e=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(_e||{}),ae=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(ae||{}),pi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(pi||{}),yi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(yi||{}),Zn=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Zn||{}),gr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(gr||{}),zn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(zn||{}),Lv=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Lv||{}),Xr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Xr||{}),bt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(bt||{}),_t=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(_t||{}),Qn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Qn||{});const SR={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},le={ADAPTER:SR,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var nm=/iPhone/i,r_=/iPod/i,n_=/iPad/i,i_=/\biOS-universal(?:.+)Mac\b/i,im=/\bAndroid(?:.+)Mobile\b/i,s_=/Android/i,No=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Hc=/Silk/i,ai=/Windows Phone/i,o_=/\bWindows(?:.+)ARM\b/i,a_=/BlackBerry/i,l_=/BB10/i,u_=/Opera Mini/i,c_=/\b(CriOS|Chrome)(?:.+)Mobile/i,h_=/Mobile(?:.+)Firefox\b/i,d_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function ER(t){return function(e){return e.test(t)}}function md(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=ER(r),s={apple:{phone:i(nm)&&!i(ai),ipod:i(r_),tablet:!i(nm)&&(i(n_)||d_(e))&&!i(ai),universal:i(i_),device:(i(nm)||i(r_)||i(n_)||i(i_)||d_(e))&&!i(ai)},amazon:{phone:i(No),tablet:!i(No)&&i(Hc),device:i(No)||i(Hc)},android:{phone:!i(ai)&&i(No)||!i(ai)&&i(im),tablet:!i(ai)&&!i(No)&&!i(im)&&(i(Hc)||i(s_)),device:!i(ai)&&(i(No)||i(Hc)||i(im)||i(s_))||i(/\bokhttp\b/i)},windows:{phone:i(ai),tablet:i(o_),device:i(ai)||i(o_)},other:{blackberry:i(a_),blackberry10:i(l_),opera:i(u_),firefox:i(h_),chrome:i(c_),device:i(a_)||i(l_)||i(u_)||i(h_)||i(c_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const TR=md.default??md,mi=TR(globalThis.navigator);le.RETINA_PREFIX=/@([0-9\.]+)x/;le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var _T={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function s(u,h,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new i(f,m||u,p),g=r?r+h:h;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],d]:u._events[g].push(d):(u._events[g]=d,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)e.call(f,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},a.prototype.listeners=function(h){var f=r?r+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,d=m.length,g=new Array(d);p<d;p++)g[p]=m[p].fn;return g},a.prototype.listenerCount=function(h){var f=r?r+h:h,m=this._events[f];return m?m.fn?1:m.length:0},a.prototype.emit=function(h,f,m,p,d,g){var y=r?r+h:h;if(!this._events[y])return!1;var x=this._events[y],w=arguments.length,T,S;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,m),!0;case 4:return x.fn.call(x.context,f,m,p),!0;case 5:return x.fn.call(x.context,f,m,p,d),!0;case 6:return x.fn.call(x.context,f,m,p,d,g),!0}for(S=1,T=new Array(w-1);S<w;S++)T[S-1]=arguments[S];x.fn.apply(x.context,T)}else{var C=x.length,b;for(S=0;S<C;S++)switch(x[S].once&&this.removeListener(h,x[S].fn,void 0,!0),w){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,f);break;case 3:x[S].fn.call(x[S].context,f,m);break;case 4:x[S].fn.call(x[S].context,f,m,p);break;default:if(!T)for(b=1,T=new Array(w-1);b<w;b++)T[b-1]=arguments[b];x[S].fn.apply(x[S].context,T)}}return!0},a.prototype.on=function(h,f,m){return s(this,h,f,m,!1)},a.prototype.once=function(h,f,m){return s(this,h,f,m,!0)},a.prototype.removeListener=function(h,f,m,p){var d=r?r+h:h;if(!this._events[d])return this;if(!f)return o(this,d),this;var g=this._events[d];if(g.fn)g.fn===f&&(!p||g.once)&&(!m||g.context===m)&&o(this,d);else{for(var y=0,x=[],w=g.length;y<w;y++)(g[y].fn!==f||p&&!g[y].once||m&&g[y].context!==m)&&x.push(g[y]);x.length?this._events[d]=x.length===1?x[0]:x:o(this,d)}return this},a.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(_T);var bR=_T.exports;const Au=wu(bR);var Uv={exports:{}};Uv.exports=tf;Uv.exports.default=tf;function tf(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=wT(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,h,f,m,p,d;if(n&&(s=RR(t,e,s,r)),t.length>80*r){a=h=t[0],u=f=t[1];for(var g=r;g<i;g+=r)m=t[g],p=t[g+1],m<a&&(a=m),p<u&&(u=p),m>h&&(h=m),p>f&&(f=p);d=Math.max(h-a,f-u),d=d!==0?32767/d:0}return fu(s,o,r,a,u,d,0),o}function wT(t,e,r,n,i){var s,o;if(i===Vg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=f_(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=f_(s,t[s],t[s+1],o);return o&&rf(o,o.next)&&(mu(o),o=o.next),o}function ao(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(rf(r,r.next)||ot(r.prev,r,r.next)===0)){if(mu(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function fu(t,e,r,n,i,s,o){if(t){!o&&s&&NR(t,n,i,s);for(var a=t,u,h;t.prev!==t.next;){if(u=t.prev,h=t.next,s?AR(t,n,i,s):CR(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),mu(t),t=h.next,a=h.next;continue}if(t=h,t===a){o?o===1?(t=PR(ao(t),e,r),fu(t,e,r,n,i,s,2)):o===2&&IR(t,e,r,n,i,s):fu(ao(t),e,r,n,i,s,1);break}}}}function CR(t){var e=t.prev,r=t,n=t.next;if(ot(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,h=n.y,f=i<s?i<o?i:o:s<o?s:o,m=a<u?a<h?a:h:u<h?u:h,p=i>s?i>o?i:o:s>o?s:o,d=a>u?a>h?a:h:u>h?u:h,g=n.next;g!==e;){if(g.x>=f&&g.x<=p&&g.y>=m&&g.y<=d&&oa(i,a,s,u,o,h,g.x,g.y)&&ot(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function AR(t,e,r,n){var i=t.prev,s=t,o=t.next;if(ot(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,h=o.x,f=i.y,m=s.y,p=o.y,d=a<u?a<h?a:h:u<h?u:h,g=f<m?f<p?f:p:m<p?m:p,y=a>u?a>h?a:h:u>h?u:h,x=f>m?f>p?f:p:m>p?m:p,w=Hg(d,g,e,r,n),T=Hg(y,x,e,r,n),S=t.prevZ,C=t.nextZ;S&&S.z>=w&&C&&C.z<=T;){if(S.x>=d&&S.x<=y&&S.y>=g&&S.y<=x&&S!==i&&S!==o&&oa(a,f,u,m,h,p,S.x,S.y)&&ot(S.prev,S,S.next)>=0||(S=S.prevZ,C.x>=d&&C.x<=y&&C.y>=g&&C.y<=x&&C!==i&&C!==o&&oa(a,f,u,m,h,p,C.x,C.y)&&ot(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;S&&S.z>=w;){if(S.x>=d&&S.x<=y&&S.y>=g&&S.y<=x&&S!==i&&S!==o&&oa(a,f,u,m,h,p,S.x,S.y)&&ot(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;C&&C.z<=T;){if(C.x>=d&&C.x<=y&&C.y>=g&&C.y<=x&&C!==i&&C!==o&&oa(a,f,u,m,h,p,C.x,C.y)&&ot(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function PR(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!rf(i,s)&&ST(i,n,n.next,s)&&pu(i,s)&&pu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),mu(n),mu(n.next),n=t=s),n=n.next}while(n!==t);return ao(n)}function IR(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&LR(o,a)){var u=ET(o,a);o=ao(o,o.next),u=ao(u,u.next),fu(o,e,r,n,i,s,0),fu(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function RR(t,e,r,n){var i=[],s,o,a,u,h;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,h=wT(t,a,u,n,!1),h===h.next&&(h.steiner=!0),i.push(OR(h));for(i.sort(MR),s=0;s<i.length;s++)r=kR(i[s],r);return r}function MR(t,e){return t.x-e.x}function kR(t,e){var r=DR(t,e);if(!r)return e;var n=ET(r,t);return ao(n,n.next),ao(r,r.next)}function DR(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,h=o.x,f=o.y,m=1/0,p;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&oa(i<f?n:s,i,h,f,i<f?s:n,i,r.x,r.y)&&(p=Math.abs(i-r.y)/(n-r.x),pu(r,t)&&(p<m||p===m&&(r.x>o.x||r.x===o.x&&FR(o,r)))&&(o=r,m=p)),r=r.next;while(r!==u);return o}function FR(t,e){return ot(t.prev,t,e.prev)<0&&ot(e.next,t,t.next)<0}function NR(t,e,r,n){var i=t;do i.z===0&&(i.z=Hg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,BR(i)}function BR(t){var e,r,n,i,s,o,a,u,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ,!!n);e++);for(u=h;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function Hg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function OR(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function oa(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function LR(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!UR(t,e)&&(pu(t,e)&&pu(e,t)&&GR(t,e)&&(ot(t.prev,t,e.prev)||ot(t,e.prev,e))||rf(t,e)&&ot(t.prev,t,t.next)>0&&ot(e.prev,e,e.next)>0)}function ot(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function rf(t,e){return t.x===e.x&&t.y===e.y}function ST(t,e,r,n){var i=Vc(ot(t,e,r)),s=Vc(ot(t,e,n)),o=Vc(ot(r,n,t)),a=Vc(ot(r,n,e));return!!(i!==s&&o!==a||i===0&&$c(t,r,e)||s===0&&$c(t,n,e)||o===0&&$c(r,t,n)||a===0&&$c(r,e,n))}function $c(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Vc(t){return t>0?1:t<0?-1:0}function UR(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&ST(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function pu(t,e){return ot(t.prev,t,t.next)<0?ot(t,e,t.next)>=0&&ot(t,t.prev,e)>=0:ot(t,e,t.prev)<0||ot(t,t.next,e)<0}function GR(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function ET(t,e){var r=new $g(t.i,t.x,t.y),n=new $g(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function f_(t,e,r,n){var i=new $g(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function mu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function $g(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}tf.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Vg(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,f=a<u-1?e[a+1]*r:t.length;o-=Math.abs(Vg(t,h,f,r))}var m=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,d=n[a+1]*r,g=n[a+2]*r;m+=Math.abs((t[p]-t[g])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[g+1]-t[p+1]))}return o===0&&m===0?0:Math.abs((m-o)/o)};function Vg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}tf.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var zR=Uv.exports;const HR=wu(zR);var gd={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */gd.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Qs=="object"&&Qs;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,h=1,f=26,m=38,p=700,d=72,g=128,y="-",x=/^xn--/,w=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=u-h,b=Math.floor,I=String.fromCharCode,R;function P(G){throw new RangeError(S[G])}function k(G,j){for(var Z=G.length,ge=[];Z--;)ge[Z]=j(G[Z]);return ge}function M(G,j){var Z=G.split("@"),ge="";Z.length>1&&(ge=Z[0]+"@",G=Z[1]),G=G.replace(T,".");var ue=G.split("."),be=k(ue,j).join(".");return ge+be}function B(G){for(var j=[],Z=0,ge=G.length,ue,be;Z<ge;)ue=G.charCodeAt(Z++),ue>=55296&&ue<=56319&&Z<ge?(be=G.charCodeAt(Z++),(be&64512)==56320?j.push(((ue&1023)<<10)+(be&1023)+65536):(j.push(ue),Z--)):j.push(ue);return j}function F(G){return k(G,function(j){var Z="";return j>65535&&(j-=65536,Z+=I(j>>>10&1023|55296),j=56320|j&1023),Z+=I(j),Z}).join("")}function N(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:u}function U(G,j){return G+22+75*(G<26)-((j!=0)<<5)}function H(G,j,Z){var ge=0;for(G=Z?b(G/p):G>>1,G+=b(G/j);G>C*f>>1;ge+=u)G=b(G/C);return b(ge+(C+1)*G/(G+m))}function Q(G){var j=[],Z=G.length,ge,ue=0,be=g,xe=d,Ce,Ue,St,Ze,Ae,$e,De,Wt,ut;for(Ce=G.lastIndexOf(y),Ce<0&&(Ce=0),Ue=0;Ue<Ce;++Ue)G.charCodeAt(Ue)>=128&&P("not-basic"),j.push(G.charCodeAt(Ue));for(St=Ce>0?Ce+1:0;St<Z;){for(Ze=ue,Ae=1,$e=u;St>=Z&&P("invalid-input"),De=N(G.charCodeAt(St++)),(De>=u||De>b((a-ue)/Ae))&&P("overflow"),ue+=De*Ae,Wt=$e<=xe?h:$e>=xe+f?f:$e-xe,!(De<Wt);$e+=u)ut=u-Wt,Ae>b(a/ut)&&P("overflow"),Ae*=ut;ge=j.length+1,xe=H(ue-Ze,ge,Ze==0),b(ue/ge)>a-be&&P("overflow"),be+=b(ue/ge),ue%=ge,j.splice(ue++,0,be)}return F(j)}function W(G){var j,Z,ge,ue,be,xe,Ce,Ue,St,Ze,Ae,$e=[],De,Wt,ut,wn;for(G=B(G),De=G.length,j=g,Z=0,be=d,xe=0;xe<De;++xe)Ae=G[xe],Ae<128&&$e.push(I(Ae));for(ge=ue=$e.length,ue&&$e.push(y);ge<De;){for(Ce=a,xe=0;xe<De;++xe)Ae=G[xe],Ae>=j&&Ae<Ce&&(Ce=Ae);for(Wt=ge+1,Ce-j>b((a-Z)/Wt)&&P("overflow"),Z+=(Ce-j)*Wt,j=Ce,xe=0;xe<De;++xe)if(Ae=G[xe],Ae<j&&++Z>a&&P("overflow"),Ae==j){for(Ue=Z,St=u;Ze=St<=be?h:St>=be+f?f:St-be,!(Ue<Ze);St+=u)wn=Ue-Ze,ut=u-Ze,$e.push(I(U(Ze+wn%ut,0))),Ue=b(wn/ut);$e.push(I(U(Ue,0))),be=H(Z,Wt,ge==ue),Z=0,++ge}++Z,++j}return $e.join("")}function O(G){return M(G,function(j){return x.test(j)?Q(j.slice(4).toLowerCase()):j})}function V(G){return M(G,function(j){return w.test(j)?"xn--"+W(j):j})}if(o={version:"1.4.1",ucs2:{decode:B,encode:F},decode:Q,encode:W,toASCII:V,toUnicode:O},n&&i)if(t.exports==n)i.exports=o;else for(R in o)o.hasOwnProperty(R)&&(n[R]=o[R]);else r.punycode=o})(Qs)})(gd,gd.exports);var $R=gd.exports,VR=Error,jR=EvalError,WR=RangeError,XR=ReferenceError,TT=SyntaxError,Pu=TypeError,YR=URIError,QR=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},p_=typeof Symbol<"u"&&Symbol,KR=QR,ZR=function(){return typeof p_!="function"||typeof Symbol!="function"||typeof p_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:KR()},sm={__proto__:null,foo:{}},qR=Object,JR=function(){return{__proto__:sm}.foo===sm.foo&&!(sm instanceof qR)},e2="Function.prototype.bind called on incompatible ",t2=Object.prototype.toString,r2=Math.max,n2="[object Function]",m_=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},i2=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},s2=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},o2=function(e){var r=this;if(typeof r!="function"||t2.apply(r)!==n2)throw new TypeError(e2+r);for(var n=i2(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,m_(n,arguments));return Object(f)===f?f:this}return r.apply(e,m_(n,arguments))},o=r2(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+s2(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},a2=o2,Gv=Function.prototype.bind||a2,l2=Function.prototype.call,u2=Object.prototype.hasOwnProperty,c2=Gv,h2=c2.call(l2,u2),Ie,d2=VR,f2=jR,p2=WR,m2=XR,Ma=TT,ga=Pu,g2=YR,bT=Function,om=function(t){try{return bT('"use strict"; return ('+t+").constructor;")()}catch{}},qs=Object.getOwnPropertyDescriptor;if(qs)try{qs({},"")}catch{qs=null}var am=function(){throw new ga},v2=qs?function(){try{return arguments.callee,am}catch{try{return qs(arguments,"callee").get}catch{return am}}}():am,Bo=ZR(),y2=JR(),kt=Object.getPrototypeOf||(y2?function(t){return t.__proto__}:null),zo={},x2=typeof Uint8Array>"u"||!kt?Ie:kt(Uint8Array),Js={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ie:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ie:ArrayBuffer,"%ArrayIteratorPrototype%":Bo&&kt?kt([][Symbol.iterator]()):Ie,"%AsyncFromSyncIteratorPrototype%":Ie,"%AsyncFunction%":zo,"%AsyncGenerator%":zo,"%AsyncGeneratorFunction%":zo,"%AsyncIteratorPrototype%":zo,"%Atomics%":typeof Atomics>"u"?Ie:Atomics,"%BigInt%":typeof BigInt>"u"?Ie:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ie:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ie:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ie:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":d2,"%eval%":eval,"%EvalError%":f2,"%Float32Array%":typeof Float32Array>"u"?Ie:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ie:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ie:FinalizationRegistry,"%Function%":bT,"%GeneratorFunction%":zo,"%Int8Array%":typeof Int8Array>"u"?Ie:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ie:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ie:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Bo&&kt?kt(kt([][Symbol.iterator]())):Ie,"%JSON%":typeof JSON=="object"?JSON:Ie,"%Map%":typeof Map>"u"?Ie:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Bo||!kt?Ie:kt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ie:Promise,"%Proxy%":typeof Proxy>"u"?Ie:Proxy,"%RangeError%":p2,"%ReferenceError%":m2,"%Reflect%":typeof Reflect>"u"?Ie:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ie:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Bo||!kt?Ie:kt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ie:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Bo&&kt?kt(""[Symbol.iterator]()):Ie,"%Symbol%":Bo?Symbol:Ie,"%SyntaxError%":Ma,"%ThrowTypeError%":v2,"%TypedArray%":x2,"%TypeError%":ga,"%Uint8Array%":typeof Uint8Array>"u"?Ie:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ie:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ie:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ie:Uint32Array,"%URIError%":g2,"%WeakMap%":typeof WeakMap>"u"?Ie:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ie:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ie:WeakSet};if(kt)try{null.error}catch(t){var _2=kt(kt(t));Js["%Error.prototype%"]=_2}var w2=function t(e){var r;if(e==="%AsyncFunction%")r=om("async function () {}");else if(e==="%GeneratorFunction%")r=om("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=om("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&kt&&(r=kt(i.prototype))}return Js[e]=r,r},g_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Iu=Gv,vd=h2,S2=Iu.call(Function.call,Array.prototype.concat),E2=Iu.call(Function.apply,Array.prototype.splice),v_=Iu.call(Function.call,String.prototype.replace),yd=Iu.call(Function.call,String.prototype.slice),T2=Iu.call(Function.call,RegExp.prototype.exec),b2=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C2=/\\(\\)?/g,A2=function(e){var r=yd(e,0,1),n=yd(e,-1);if(r==="%"&&n!=="%")throw new Ma("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ma("invalid intrinsic syntax, expected opening `%`");var i=[];return v_(e,b2,function(s,o,a,u){i[i.length]=a?v_(u,C2,"$1"):o||s}),i},P2=function(e,r){var n=e,i;if(vd(g_,n)&&(i=g_[n],n="%"+i[0]+"%"),vd(Js,n)){var s=Js[n];if(s===zo&&(s=w2(n)),typeof s>"u"&&!r)throw new ga("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ma("intrinsic "+e+" does not exist!")},La=function(e,r){if(typeof e!="string"||e.length===0)throw new ga("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ga('"allowMissing" argument must be a boolean');if(T2(/^%?[^%]*%?$/,e)===null)throw new Ma("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=A2(e),i=n.length>0?n[0]:"",s=P2("%"+i+"%",r),o=s.name,a=s.value,u=!1,h=s.alias;h&&(i=h[0],E2(n,S2([0,1],h)));for(var f=1,m=!0;f<n.length;f+=1){var p=n[f],d=yd(p,0,1),g=yd(p,-1);if((d==='"'||d==="'"||d==="`"||g==='"'||g==="'"||g==="`")&&d!==g)throw new Ma("property names with quotes must have matching quotes");if((p==="constructor"||!m)&&(u=!0),i+="."+p,o="%"+i+"%",vd(Js,o))a=Js[o];else if(a!=null){if(!(p in a)){if(!r)throw new ga("base intrinsic for "+e+" exists, but the property is not available.");return}if(qs&&f+1>=n.length){var y=qs(a,p);m=!!y,m&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[p]}else m=vd(a,p),a=a[p];m&&!u&&(Js[o]=a)}}return a},CT={exports:{}},lm,y_;function zv(){if(y_)return lm;y_=1;var t=La,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return lm=e,lm}var I2=La,Fh=I2("%Object.getOwnPropertyDescriptor%",!0);if(Fh)try{Fh([],"length")}catch{Fh=null}var AT=Fh,x_=zv(),R2=TT,Oo=Pu,__=AT,M2=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Oo("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Oo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Oo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Oo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Oo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Oo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!__&&__(e,r);if(x_)x_(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new R2("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},jg=zv(),PT=function(){return!!jg};PT.hasArrayLengthDefineBug=function(){if(!jg)return null;try{return jg([],"length",{value:1}).length!==1}catch{return!0}};var k2=PT,D2=La,w_=M2,F2=k2(),S_=AT,E_=Pu,N2=D2("%Math.floor%"),B2=function(e,r){if(typeof e!="function")throw new E_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||N2(r)!==r)throw new E_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&S_){var o=S_(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(F2?w_(e,"length",r,!0,!0):w_(e,"length",r)),e};(function(t){var e=Gv,r=La,n=B2,i=Pu,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),u=zv(),h=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var d=a(e,o,arguments);return n(d,1+h(0,p.length-(arguments.length-1)),!0)};var f=function(){return a(e,s,arguments)};u?u(t.exports,"apply",{value:f}):t.exports.apply=f})(CT);var O2=CT.exports,IT=La,RT=O2,L2=RT(IT("String.prototype.indexOf")),U2=function(e,r){var n=IT(e,!!r);return typeof n=="function"&&L2(e,".prototype.")>-1?RT(n):n};const G2={},z2=Object.freeze(Object.defineProperty({__proto__:null,default:G2},Symbol.toStringTag,{value:"Module"})),H2=sS(z2);var Hv=typeof Map=="function"&&Map.prototype,um=Object.getOwnPropertyDescriptor&&Hv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,xd=Hv&&um&&typeof um.get=="function"?um.get:null,T_=Hv&&Map.prototype.forEach,$v=typeof Set=="function"&&Set.prototype,cm=Object.getOwnPropertyDescriptor&&$v?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_d=$v&&cm&&typeof cm.get=="function"?cm.get:null,b_=$v&&Set.prototype.forEach,$2=typeof WeakMap=="function"&&WeakMap.prototype,jl=$2?WeakMap.prototype.has:null,V2=typeof WeakSet=="function"&&WeakSet.prototype,Wl=V2?WeakSet.prototype.has:null,j2=typeof WeakRef=="function"&&WeakRef.prototype,C_=j2?WeakRef.prototype.deref:null,W2=Boolean.prototype.valueOf,X2=Object.prototype.toString,Y2=Function.prototype.toString,Q2=String.prototype.match,Vv=String.prototype.slice,Ji=String.prototype.replace,K2=String.prototype.toUpperCase,A_=String.prototype.toLowerCase,MT=RegExp.prototype.test,P_=Array.prototype.concat,Hn=Array.prototype.join,Z2=Array.prototype.slice,I_=Math.floor,Wg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,hm=Object.getOwnPropertySymbols,Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ka=typeof Symbol=="function"&&typeof Symbol.iterator=="object",rr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ka||!0)?Symbol.toStringTag:null,kT=Object.prototype.propertyIsEnumerable,R_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function M_(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||MT.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-I_(-t):I_(t);if(n!==t){var i=String(n),s=Vv.call(e,i.length+1);return Ji.call(i,r,"$&_")+"."+Ji.call(Ji.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ji.call(e,r,"$&_")}var Yg=H2,k_=Yg.custom,D_=FT(k_)?k_:null,q2=function t(e,r,n,i){var s=r||{};if(Wi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Wi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Wi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Wi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Wi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return BT(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?M_(e,u):u}if(typeof e=="bigint"){var h=String(e)+"n";return a?M_(e,h):h}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return Qg(e)?"[Array]":"[Object]";var m=gM(s,n);if(typeof i>"u")i=[];else if(NT(i,e)>=0)return"[Circular]";function p(N,U,H){if(U&&(i=Z2.call(i),i.push(U)),H){var Q={depth:s.depth};return Wi(s,"quoteStyle")&&(Q.quoteStyle=s.quoteStyle),t(N,Q,n+1,i)}return t(N,s,n+1,i)}if(typeof e=="function"&&!F_(e)){var d=aM(e),g=jc(e,p);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(g.length>0?" { "+Hn.call(g,", ")+" }":"")}if(FT(e)){var y=ka?Ji.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Xg.call(e);return typeof e=="object"&&!ka?ml(y):y}if(fM(e)){for(var x="<"+A_.call(String(e.nodeName)),w=e.attributes||[],T=0;T<w.length;T++)x+=" "+w[T].name+"="+DT(J2(w[T].value),"double",s);return x+=">",e.childNodes&&e.childNodes.length&&(x+="..."),x+="</"+A_.call(String(e.nodeName))+">",x}if(Qg(e)){if(e.length===0)return"[]";var S=jc(e,p);return m&&!mM(S)?"["+Kg(S,m)+"]":"[ "+Hn.call(S,", ")+" ]"}if(tM(e)){var C=jc(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!kT.call(e,"cause")?"{ ["+String(e)+"] "+Hn.call(P_.call("[cause]: "+p(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Hn.call(C,", ")+" }"}if(typeof e=="object"&&o){if(D_&&typeof e[D_]=="function"&&Yg)return Yg(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(lM(e)){var b=[];return T_&&T_.call(e,function(N,U){b.push(p(U,e,!0)+" => "+p(N,e))}),N_("Map",xd.call(e),b,m)}if(hM(e)){var I=[];return b_&&b_.call(e,function(N){I.push(p(N,e))}),N_("Set",_d.call(e),I,m)}if(uM(e))return dm("WeakMap");if(dM(e))return dm("WeakSet");if(cM(e))return dm("WeakRef");if(nM(e))return ml(p(Number(e)));if(sM(e))return ml(p(Wg.call(e)));if(iM(e))return ml(W2.call(e));if(rM(e))return ml(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Qs)return"{ [object globalThis] }";if(!eM(e)&&!F_(e)){var R=jc(e,p),P=R_?R_(e)===Object.prototype:e instanceof Object||e.constructor===Object,k=e instanceof Object?"":"null prototype",M=!P&&rr&&Object(e)===e&&rr in e?Vv.call(xs(e),8,-1):k?"Object":"",B=P||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=B+(M||k?"["+Hn.call(P_.call([],M||[],k||[]),": ")+"] ":"");return R.length===0?F+"{}":m?F+"{"+Kg(R,m)+"}":F+"{ "+Hn.call(R,", ")+" }"}return String(e)};function DT(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function J2(t){return Ji.call(String(t),/"/g,"&quot;")}function Qg(t){return xs(t)==="[object Array]"&&(!rr||!(typeof t=="object"&&rr in t))}function eM(t){return xs(t)==="[object Date]"&&(!rr||!(typeof t=="object"&&rr in t))}function F_(t){return xs(t)==="[object RegExp]"&&(!rr||!(typeof t=="object"&&rr in t))}function tM(t){return xs(t)==="[object Error]"&&(!rr||!(typeof t=="object"&&rr in t))}function rM(t){return xs(t)==="[object String]"&&(!rr||!(typeof t=="object"&&rr in t))}function nM(t){return xs(t)==="[object Number]"&&(!rr||!(typeof t=="object"&&rr in t))}function iM(t){return xs(t)==="[object Boolean]"&&(!rr||!(typeof t=="object"&&rr in t))}function FT(t){if(ka)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Xg)return!1;try{return Xg.call(t),!0}catch{}return!1}function sM(t){if(!t||typeof t!="object"||!Wg)return!1;try{return Wg.call(t),!0}catch{}return!1}var oM=Object.prototype.hasOwnProperty||function(t){return t in this};function Wi(t,e){return oM.call(t,e)}function xs(t){return X2.call(t)}function aM(t){if(t.name)return t.name;var e=Q2.call(Y2.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function NT(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function lM(t){if(!xd||!t||typeof t!="object")return!1;try{xd.call(t);try{_d.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function uM(t){if(!jl||!t||typeof t!="object")return!1;try{jl.call(t,jl);try{Wl.call(t,Wl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function cM(t){if(!C_||!t||typeof t!="object")return!1;try{return C_.call(t),!0}catch{}return!1}function hM(t){if(!_d||!t||typeof t!="object")return!1;try{_d.call(t);try{xd.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function dM(t){if(!Wl||!t||typeof t!="object")return!1;try{Wl.call(t,Wl);try{jl.call(t,jl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function fM(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function BT(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return BT(Vv.call(t,0,e.maxStringLength),e)+n}var i=Ji.call(Ji.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,pM);return DT(i,"single",e)}function pM(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+K2.call(e.toString(16))}function ml(t){return"Object("+t+")"}function dm(t){return t+" { ? }"}function N_(t,e,r,n){var i=n?Kg(r,n):Hn.call(r,", ");return t+" ("+e+") {"+i+"}"}function mM(t){for(var e=0;e<t.length;e++)if(NT(t[e],`
`)>=0)return!1;return!0}function gM(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Hn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Hn.call(Array(e+1),r)}}function Kg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Hn.call(t,","+r)+`
`+e.prev}function jc(t,e){var r=Qg(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Wi(t,i)?e(t[i],t):""}var s=typeof hm=="function"?hm(t):[],o;if(ka){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)Wi(t,u)&&(r&&String(Number(u))===u&&u<t.length||ka&&o["$"+u]instanceof Symbol||(MT.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof hm=="function")for(var h=0;h<s.length;h++)kT.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var OT=La,Ua=U2,vM=q2,yM=Pu,Wc=OT("%WeakMap%",!0),Xc=OT("%Map%",!0),xM=Ua("WeakMap.prototype.get",!0),_M=Ua("WeakMap.prototype.set",!0),wM=Ua("WeakMap.prototype.has",!0),SM=Ua("Map.prototype.get",!0),EM=Ua("Map.prototype.set",!0),TM=Ua("Map.prototype.has",!0),jv=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},bM=function(t,e){var r=jv(t,e);return r&&r.value},CM=function(t,e,r){var n=jv(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},AM=function(t,e){return!!jv(t,e)},PM=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new yM("Side channel does not contain "+vM(s))},get:function(s){if(Wc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return xM(e,s)}else if(Xc){if(r)return SM(r,s)}else if(n)return bM(n,s)},has:function(s){if(Wc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return wM(e,s)}else if(Xc){if(r)return TM(r,s)}else if(n)return AM(n,s);return!1},set:function(s,o){Wc&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Wc),_M(e,s,o)):Xc?(r||(r=new Xc),EM(r,s,o)):(n||(n={key:{},next:null}),CM(n,s,o))}};return i},IM=String.prototype.replace,RM=/%20/g,fm={RFC1738:"RFC1738",RFC3986:"RFC3986"},Wv={default:fm.RFC3986,formatters:{RFC1738:function(t){return IM.call(t,RM,"+")},RFC3986:function(t){return String(t)}},RFC1738:fm.RFC1738,RFC3986:fm.RFC3986},MM=Wv,pm=Object.prototype.hasOwnProperty,Vs=Array.isArray,Dn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),kM=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Vs(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},LT=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},DM=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Vs(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!pm.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Vs(e)&&!Vs(r)&&(i=LT(e,n)),Vs(e)&&Vs(r)?(r.forEach(function(s,o){if(pm.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return pm.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},FM=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},NM=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},mm=1024,BM=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;u+=mm){for(var h=o.length>=mm?o.slice(u,u+mm):o,f=[],m=0;m<h.length;++m){var p=h.charCodeAt(m);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===MM.RFC1738&&(p===40||p===41)){f[f.length]=h.charAt(m);continue}if(p<128){f[f.length]=Dn[p];continue}if(p<2048){f[f.length]=Dn[192|p>>6]+Dn[128|p&63];continue}if(p<55296||p>=57344){f[f.length]=Dn[224|p>>12]+Dn[128|p>>6&63]+Dn[128|p&63];continue}m+=1,p=65536+((p&1023)<<10|h.charCodeAt(m)&1023),f[f.length]=Dn[240|p>>18]+Dn[128|p>>12&63]+Dn[128|p>>6&63]+Dn[128|p&63]}a+=f.join("")}return a},OM=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var h=a[u],f=o[h];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:h}),n.push(f))}return kM(r),e},LM=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},UM=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},GM=function(e,r){return[].concat(e,r)},zM=function(e,r){if(Vs(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},UT={arrayToObject:LT,assign:FM,combine:GM,compact:OM,decode:NM,encode:BM,isBuffer:UM,isRegExp:LM,maybeMap:zM,merge:DM},GT=PM,Nh=UT,Xl=Wv,HM=Object.prototype.hasOwnProperty,zT={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Gn=Array.isArray,$M=Array.prototype.push,HT=function(t,e){$M.apply(t,Gn(e)?e:[e])},VM=Date.prototype.toISOString,B_=Xl.default,Tt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Nh.encode,encodeValuesOnly:!1,format:B_,formatter:Xl.formatters[B_],indices:!1,serializeDate:function(e){return VM.call(e)},skipNulls:!1,strictNullHandling:!1},jM=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},gm={},WM=function t(e,r,n,i,s,o,a,u,h,f,m,p,d,g,y,x,w,T){for(var S=e,C=T,b=0,I=!1;(C=C.get(gm))!==void 0&&!I;){var R=C.get(e);if(b+=1,typeof R<"u"){if(R===b)throw new RangeError("Cyclic object value");I=!0}typeof C.get(gm)>"u"&&(b=0)}if(typeof f=="function"?S=f(r,S):S instanceof Date?S=d(S):n==="comma"&&Gn(S)&&(S=Nh.maybeMap(S,function(G){return G instanceof Date?d(G):G})),S===null){if(o)return h&&!x?h(r,Tt.encoder,w,"key",g):r;S=""}if(jM(S)||Nh.isBuffer(S)){if(h){var P=x?r:h(r,Tt.encoder,w,"key",g);return[y(P)+"="+y(h(S,Tt.encoder,w,"value",g))]}return[y(r)+"="+y(String(S))]}var k=[];if(typeof S>"u")return k;var M;if(n==="comma"&&Gn(S))x&&h&&(S=Nh.maybeMap(S,h)),M=[{value:S.length>0?S.join(",")||null:void 0}];else if(Gn(f))M=f;else{var B=Object.keys(S);M=m?B.sort(m):B}var F=u?r.replace(/\./g,"%2E"):r,N=i&&Gn(S)&&S.length===1?F+"[]":F;if(s&&Gn(S)&&S.length===0)return N+"[]";for(var U=0;U<M.length;++U){var H=M[U],Q=typeof H=="object"&&typeof H.value<"u"?H.value:S[H];if(!(a&&Q===null)){var W=p&&u?H.replace(/\./g,"%2E"):H,O=Gn(S)?typeof n=="function"?n(N,W):N:N+(p?"."+W:"["+W+"]");T.set(e,b);var V=GT();V.set(gm,T),HT(k,t(Q,O,n,i,s,o,a,u,n==="comma"&&x&&Gn(S)?null:h,f,m,p,d,g,y,x,w,V))}}return k},XM=function(e){if(!e)return Tt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Tt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Xl.default;if(typeof e.format<"u"){if(!HM.call(Xl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Xl.formatters[n],s=Tt.filter;(typeof e.filter=="function"||Gn(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in zT?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Tt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Tt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Tt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Tt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Tt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Tt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Tt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Tt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Tt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Tt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Tt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Tt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Tt.strictNullHandling}},YM=function(t,e){var r=t,n=XM(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Gn(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=zT[n.arrayFormat],u=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=GT(),f=0;f<i.length;++f){var m=i[f];n.skipNulls&&r[m]===null||HT(o,WM(r[m],m,a,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var p=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),p.length>0?d+p:""},Da=UT,Zg=Object.prototype.hasOwnProperty,QM=Array.isArray,pt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Da.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},KM=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$T=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ZM="utf8=%26%2310003%3B",qM="utf8=%E2%9C%93",JM=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,h=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===qM?h="utf-8":o[u]===ZM&&(h="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var f=o[u],m=f.indexOf("]="),p=m===-1?f.indexOf("="):m+1,d,g;p===-1?(d=r.decoder(f,pt.decoder,h,"key"),g=r.strictNullHandling?null:""):(d=r.decoder(f.slice(0,p),pt.decoder,h,"key"),g=Da.maybeMap($T(f.slice(p+1),r),function(x){return r.decoder(x,pt.decoder,h,"value")})),g&&r.interpretNumericEntities&&h==="iso-8859-1"&&(g=KM(g)),f.indexOf("[]=")>-1&&(g=QM(g)?[g]:g);var y=Zg.call(n,d);y&&r.duplicates==="combine"?n[d]=Da.combine(n[d],g):(!y||r.duplicates==="last")&&(n[d]=g)}return n},ek=function(t,e,r,n){for(var i=n?e:$T(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,f=parseInt(h,10);!r.parseArrays&&h===""?o={0:i}:!isNaN(f)&&a!==h&&String(f)===h&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):h!=="__proto__"&&(o[h]=i)}i=o}return i},tk=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),h=u?s.slice(0,u.index):s,f=[];if(h){if(!n.plainObjects&&Zg.call(Object.prototype,h)&&!n.allowPrototypes)return;f.push(h)}for(var m=0;n.depth>0&&(u=a.exec(s))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&Zg.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+s.slice(u.index)+"]"),ek(f,r,n,i)}},rk=function(e){if(!e)return pt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?pt.charset:e.charset,n=typeof e.duplicates>"u"?pt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:pt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:pt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:pt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:pt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:pt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:pt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:pt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:pt.decoder,delimiter:typeof e.delimiter=="string"||Da.isRegExp(e.delimiter)?e.delimiter:pt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:pt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:pt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:pt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:pt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pt.strictNullHandling}},nk=function(t,e){var r=rk(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?JM(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=tk(a,n[a],r,typeof t=="string");i=Da.merge(i,u,r)}return r.allowSparse===!0?i:Da.compact(i)},ik=YM,sk=nk,ok=Wv,ak={formats:ok,parse:sk,stringify:ik},lk=$R;function xi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var uk=/^([a-z0-9.+-]+:)/i,ck=/:[0-9]*$/,hk=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,dk=["<",">",'"',"`"," ","\r",`
`,"	"],fk=["{","}","|","\\","^","`"].concat(dk),qg=["'"].concat(fk),O_=["%","/","?",";","#"].concat(qg),L_=["/","?","#"],pk=255,U_=/^[+a-z0-9A-Z_-]{0,63}$/,mk=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,gk={javascript:!0,"javascript:":!0},Jg={javascript:!0,"javascript:":!0},va={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},e0=ak;function vk(t,e,r){if(t&&typeof t=="object"&&t instanceof xi)return t;var n=new xi;return n.parse(t,e,r),n}xi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var u=hk.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=e0.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=uk.exec(a);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,a=a.substr(h.length)}if(r||h||a.match(/^\/\/[^@/]+@[^@/]+/)){var m=a.substr(0,2)==="//";m&&!(h&&Jg[h])&&(a=a.substr(2),this.slashes=!0)}if(!Jg[h]&&(m||h&&!va[h])){for(var p=-1,d=0;d<L_.length;d++){var g=a.indexOf(L_[d]);g!==-1&&(p===-1||g<p)&&(p=g)}var y,x;p===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",p),x!==-1&&(y=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(y)),p=-1;for(var d=0;d<O_.length;d++){var g=a.indexOf(O_[d]);g!==-1&&(p===-1||g<p)&&(p=g)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var T=this.hostname.split(/\./),d=0,S=T.length;d<S;d++){var C=T[d];if(C&&!C.match(U_)){for(var b="",I=0,R=C.length;I<R;I++)C.charCodeAt(I)>127?b+="x":b+=C[I];if(!b.match(U_)){var P=T.slice(0,d),k=T.slice(d+1),M=C.match(mk);M&&(P.push(M[1]),k.unshift(M[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=P.join(".");break}}}this.hostname.length>pk?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=lk.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!gk[f])for(var d=0,S=qg.length;d<S;d++){var N=qg[d];if(a.indexOf(N)!==-1){var U=encodeURIComponent(N);U===N&&(U=escape(N)),a=a.split(N).join(U)}}var H=a.indexOf("#");H!==-1&&(this.hash=a.substr(H),a=a.slice(0,H));var Q=a.indexOf("?");if(Q!==-1?(this.search=a.substr(Q),this.query=a.substr(Q+1),e&&(this.query=e0.parse(this.query)),a=a.slice(0,Q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),va[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",W=this.search||"";this.path=B+W}return this.href=this.format(),this};xi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=e0.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||va[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};xi.prototype.resolve=function(t){return this.resolveObject(vk(t,!1,!0)).format()};xi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new xi;e.parse(t,!1,!0),t=e}for(var r=new xi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=t[u])}return va[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!va[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var m=h[f];r[m]=t[m]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Jg[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",d=r.search||"";r.path=p+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&r.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=y||g||r.host&&t.pathname,w=x,T=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],C=r.protocol&&!va[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(T[0]===""?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),x=x&&(S[0]===""||T[0]==="")),y)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=S;else if(S.length)T||(T=[]),T.pop(),T=T.concat(S),r.search=t.search,r.query=t.query;else if(t.search!=null){if(C){r.host=T.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=T.slice(-1)[0],R=(r.host||t.host||T.length>1)&&(I==="."||I==="..")||I==="",P=0,k=T.length;k>=0;k--)I=T[k],I==="."?T.splice(k,1):I===".."?(T.splice(k,1),P++):P&&(T.splice(k,1),P--);if(!x&&!w)for(;P--;P)T.unshift("..");x&&T[0]!==""&&(!T[0]||T[0].charAt(0)!=="/")&&T.unshift(""),R&&T.join("/").substr(-1)!=="/"&&T.push("");var M=T[0]===""||T[0]&&T[0].charAt(0)==="/";if(C){r.hostname=M?"":T.length?T.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return x=x||r.host&&T.length,x&&!M&&T.unshift(""),T.length>0?r.pathname=T.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};xi.prototype.parseHost=function(){var t=this.host,e=ck.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const G_={};function Re(t,e,r=3){if(G_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),G_[e]=!0}function sn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function gl(t){return t.split("?")[0].split("#")[0]}function yk(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xk(t,e,r){return t.replace(new RegExp(yk(e),"g"),r)}function _k(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ot={toPosix(t){return xk(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){sn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(sn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=gl(this.toPosix(e??le.ADAPTER.getBaseUrl())),i=gl(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ot.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(sn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=_k(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return sn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(sn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(sn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){sn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){sn(t),e&&sn(e),t=gl(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){sn(t),t=gl(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){sn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=gl(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,h=t.length-1,f=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!u){o=h+1;break}continue}a===-1&&(u=!1,a=h+1),r===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||a===-1||f===0||f===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let vm;async function wk(){return vm??(vm=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return gr.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return gr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?gr.PMA:gr.UNPACK})()),vm}let ym;function Sk(){return typeof ym>"u"&&(ym=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!le.ADAPTER.getWebGLRenderingContext())return!1;const r=le.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),ym}var Ek={grad:.9,turn:360,rad:360/(2*Math.PI)},li=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ft=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Yr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},VT=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},z_=function(t){return{r:Yr(t.r,0,255),g:Yr(t.g,0,255),b:Yr(t.b,0,255),a:Yr(t.a)}},xm=function(t){return{r:Ft(t.r),g:Ft(t.g),b:Ft(t.b),a:Ft(t.a,3)}},Tk=/^#([0-9a-f]{3,8})$/i,Yc=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},jT=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},WT=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),u=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,a,o,o,u,n][h],g:255*[u,n,n,a,o,o][h],b:255*[o,o,u,n,n,a][h],a:i}},H_=function(t){return{h:VT(t.h),s:Yr(t.s,0,100),l:Yr(t.l,0,100),a:Yr(t.a)}},$_=function(t){return{h:Ft(t.h),s:Ft(t.s),l:Ft(t.l),a:Ft(t.a,3)}},V_=function(t){return WT((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Yl=function(t){return{h:(e=jT(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},bk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ck=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ak=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pk=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t0={string:[[function(t){var e=Tk.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ft(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ft(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Ak.exec(t)||Pk.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:z_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=bk.exec(t)||Ck.exec(t);if(!e)return null;var r,n,i=H_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Ek[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return V_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return li(e)&&li(r)&&li(n)?z_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!li(e)||!li(r)||!li(n))return null;var o=H_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return V_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!li(e)||!li(r)||!li(n))return null;var o=function(a){return{h:VT(a.h),s:Yr(a.s,0,100),v:Yr(a.v,0,100),a:Yr(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return WT(o)},"hsv"]]},j_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Ik=function(t){return typeof t=="string"?j_(t.trim(),t0.string):typeof t=="object"&&t!==null?j_(t,t0.object):[null,void 0]},_m=function(t,e){var r=Yl(t);return{h:r.h,s:Yr(r.s+100*e,0,100),l:r.l,a:r.a}},wm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},W_=function(t,e){var r=Yl(t);return{h:r.h,s:r.s,l:Yr(r.l+100*e,0,100),a:r.a}},r0=function(){function t(e){this.parsed=Ik(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ft(wm(this.rgba),2)},t.prototype.isDark=function(){return wm(this.rgba)<.5},t.prototype.isLight=function(){return wm(this.rgba)>=.5},t.prototype.toHex=function(){return e=xm(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Yc(Ft(255*s)):"","#"+Yc(r)+Yc(n)+Yc(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return xm(this.rgba)},t.prototype.toRgbString=function(){return e=xm(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return $_(Yl(this.rgba))},t.prototype.toHslString=function(){return e=$_(Yl(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=jT(this.rgba),{h:Ft(e.h),s:Ft(e.s),v:Ft(e.v),a:Ft(e.a,3)};var e},t.prototype.invert=function(){return Fn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Fn(_m(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Fn(_m(this.rgba,-e))},t.prototype.grayscale=function(){return Fn(_m(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Fn(W_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Fn(W_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Fn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Ft(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Yl(this.rgba);return typeof e=="number"?Fn({h:e,s:r.s,l:r.l,a:r.a}):Ft(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Fn(e).toHex()},t}(),Fn=function(t){return t instanceof r0?t:new r0(t)},X_=[],Rk=function(t){t.forEach(function(e){X_.indexOf(e)<0&&(e(r0,t0),X_.push(e))})};function Mk(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var f=this.toRgb(),m=1/0,p="black";if(!s.length)for(var d in r)s[d]=new t(r[d]).toRgb();for(var g in r){var y=(a=f,u=s[g],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));y<m&&(m=y,p=g)}return p}},e.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new t(u).toRgb():null},"name"])}Rk([Mk]);const Ho=class Bh{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Bh)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Bh.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Bh.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Fn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Ho.shared=new Ho,Ho.temp=new Ho,Ho.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let We=Ho;function kk(t){return Re("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),We.shared.setValue(t).toHex()}function Dk(t){return Re("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),We.shared.setValue(t).toNumber()}function Fk(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[fe.NORMAL_NPM]=fe.NORMAL,t[fe.ADD_NPM]=fe.ADD,t[fe.SCREEN_NPM]=fe.SCREEN,e[fe.NORMAL]=fe.NORMAL_NPM,e[fe.ADD]=fe.ADD_NPM,e[fe.SCREEN]=fe.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const XT=Fk();function YT(t,e){return XT[e?1:0][t]}function Nk(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function QT(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function wd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Y_(t){return!(t&t-1)&&!!t}function Q_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ya(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function es(t){return t===0?0:t<0?-1:1}let Bk=0;function lo(){return++Bk}const n0=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};n0.EMPTY=new n0(0,0,0,0);let K_=n0;const Z_={},Nn=Object.create(null),zi=Object.create(null);class Ok{constructor(e,r,n){this._canvas=le.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||le.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function q_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function J_(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function Lk(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,u=r-1;for(;o<r&&q_(i,e,o);)++o;if(o===r)return K_.EMPTY;for(;q_(i,e,u);)--u;for(;J_(i,e,s,o,u);)++s;for(;J_(i,e,a,o,u);)--a;return++a,++u,new K_(s,o,a,u)}function Uk(t){const e=Lk(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function Gk(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function Ti(t,e=1){var n;const r=(n=le.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var oe=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(oe||{});const i0=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},ew=(t,e)=>i0(t).priority??e,me={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(i0).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(i0).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>ew(s,r)-ew(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class s0{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const zk=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Hk(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function $k(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=zk.replace(/%forloop%/gi,Hk(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Sm=0,Em=1,Tm=2,bm=3,Cm=4,Am=5;class ei{constructor(){this.data=0,this.blendMode=fe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Sm)}set blend(e){!!(this.data&1<<Sm)!==e&&(this.data^=1<<Sm)}get offsets(){return!!(this.data&1<<Em)}set offsets(e){!!(this.data&1<<Em)!==e&&(this.data^=1<<Em)}get culling(){return!!(this.data&1<<Tm)}set culling(e){!!(this.data&1<<Tm)!==e&&(this.data^=1<<Tm)}get depthTest(){return!!(this.data&1<<bm)}set depthTest(e){!!(this.data&1<<bm)!==e&&(this.data^=1<<bm)}get depthMask(){return!!(this.data&1<<Am)}set depthMask(e){!!(this.data&1<<Am)!==e&&(this.data^=1<<Am)}get clockwiseFrontFace(){return!!(this.data&1<<Cm)}set clockwiseFrontFace(e){!!(this.data&1<<Cm)!==e&&(this.data^=1<<Cm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==fe.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new ei;return e.depthTest=!1,e.blend=!0,e}}ei.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const o0=[];function KT(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=o0.length-1;n>=0;--n){const i=o0[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class vn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:f}=this;this._aliasCount++;for(let m=0,p=f.length;m<p;m++)f[m][h](e,r,n,i,s,o,a,u);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(vn.prototype,{dispatch:{value:vn.prototype.emit},run:{value:vn.prototype.emit}});class gu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new vn("setRealSize"),this.onUpdate=new vn("update"),this.onError=new vn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class nf extends gu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===gr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Vk={scaleMode:pi.NEAREST,alphaMode:gr.NPM},a0=class $o extends Au{constructor(e=null,r=null){super(),r=Object.assign({},$o.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:u,wrapMode:h,format:f,type:m,target:p,resolution:d,resourceOptions:g}=r;e&&!(e instanceof gu)&&(e=KT(e,g),e.internal=!0),this.resolution=d||le.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=h,this._scaleMode=o,this.format=f,this.type=m,this.target=p,this.alphaMode=n,this.uid=lo(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Y_(this.realWidth)&&Y_(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete zi[this.cacheId],delete Nn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),$o.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=le.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${lo()}`}s=e._pixiId}let o=zi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new $o(e,r),o.cacheId=s,$o.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new nf(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=ne.RGBA,a=_e.FLOAT):e instanceof Int32Array?(o=ne.RGBA_INTEGER,a=_e.INT):e instanceof Uint32Array?(o=ne.RGBA_INTEGER,a=_e.UNSIGNED_INT):e instanceof Int16Array?(o=ne.RGBA_INTEGER,a=_e.SHORT):e instanceof Uint16Array?(o=ne.RGBA_INTEGER,a=_e.UNSIGNED_SHORT):e instanceof Int8Array?(o=ne.RGBA,a=_e.BYTE):(o=ne.RGBA,a=_e.UNSIGNED_BYTE),s.internal=!0,new $o(s,Object.assign({},Vk,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),zi[r]&&zi[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),zi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=zi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete zi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete zi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};a0.defaultOptions={mipmap:Zn.POW2,anisotropicLevel:0,scaleMode:pi.LINEAR,wrapMode:yi.CLAMP,alphaMode:gr.UNPACK,target:ma.TEXTURE_2D,format:ne.RGBA,type:_e.UNSIGNED_BYTE},a0._globalBatch=0;let Ee=a0;class l0{constructor(){this.texArray=null,this.blend=0,this.type=fn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let jk=0;class gt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=jk++,this.disposeRunner=new vn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Qn.ELEMENT_ARRAY_BUFFER:Qn.ARRAY_BUFFER}get index(){return this.type===Qn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new gt(e)}}class Sd{constructor(e,r=0,n=!1,i=_e.FLOAT,s,o,a,u=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Sd(e,r,n,i,s)}}const Wk={Float32Array,Uint32Array,Int32Array,Uint8Array};function Xk(t,e){let r=0,n=0;const i={};for(let u=0;u<t.length;u++)n+=e[u],r+=t[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<t.length;u++){const h=e[u],f=t[u],m=QT(f);i[m]||(i[m]=new Wk[m](s)),o=i[m];for(let p=0;p<f.length;p++){const d=(p/h|0)*n+a,g=p%h;o[d+g]=f[p]}a+=h}return new Float32Array(s)}const tw={5126:4,5123:2,5121:1};let Yk=0;const Qk={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ps{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Yk++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new vn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof gt||(r instanceof Array&&(r=new Float32Array(r)),r=new gt(r));const h=e.split("|");if(h.length>1){for(let m=0;m<h.length;m++)this.addAttribute(h[m],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new Sd(f,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof gt||(e instanceof Array&&(e=new Uint16Array(e)),e=new gt(e)),e.type=Qn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new gt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*tw[s.type]/4),s.buffer=0}for(n.data=Xk(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ps;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new gt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Sd(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Qn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ps,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new Qk[QT(o.buffers[a].data)](i[a]),r.buffers[a]=new gt(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Qn.ELEMENT_ARRAY_BUFFER;let a=0,u=0,h=0,f=0;for(let m=0;m<o.buffers.length;m++)if(o.buffers[m]!==o.indexBuffer){f=m;break}for(const m in o.attributes){const p=o.attributes[m];(p.buffer|0)===f&&(u+=p.size*tw[p.type]/4)}for(let m=0;m<e.length;m++){const p=e[m].indexBuffer.data;for(let d=0;d<p.length;d++)r.indexBuffer.data[d+h]+=a;a+=e[m].buffers[f].data.length/u,h+=p.length}}return r}}class ZT extends ps{constructor(e=!1){super(),this._buffer=new gt(null,e,!1),this._indexBuffer=new gt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,_e.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,_e.FLOAT).addAttribute("aColor",this._buffer,4,!0,_e.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,_e.FLOAT).addIndex(this._indexBuffer)}}const Ed=Math.PI*2,Kk=180/Math.PI,Zk=Math.PI/180;var $t=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))($t||{});class Me{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Me(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Me.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Qc=[new Me,new Me,new Me,new Me];class Te{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=$t.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Te(0,0,0,0)}clone(){return new Te(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const P=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=P)return!1;const k=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>k}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Qc[0].set(e.left,e.top),u=Qc[1].set(e.left,e.bottom),h=Qc[2].set(e.right,e.top),f=Qc[3].set(e.right,e.bottom);if(h.x<=a.x||u.y<=a.y)return!1;const m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(a,a),r.apply(u,u),r.apply(h,h),r.apply(f,f),Math.max(a.x,u.x,h.x,f.x)<=n||Math.min(a.x,u.x,h.x,f.x)>=i||Math.max(a.y,u.y,h.y,f.y)<=s||Math.min(a.y,u.y,h.y,f.y)>=o))return!1;const p=m*(u.y-a.y),d=m*(a.x-u.x),g=p*n+d*s,y=p*i+d*s,x=p*n+d*o,w=p*i+d*o;if(Math.max(g,y,x,w)<=p*a.x+d*a.y||Math.min(g,y,x,w)>=p*f.x+d*f.y)return!1;const T=m*(a.y-h.y),S=m*(h.x-a.x),C=T*n+S*s,b=T*i+S*s,I=T*n+S*o,R=T*i+S*o;return!(Math.max(C,b,I,R)<=T*a.x+S*a.y||Math.min(C,b,I,R)>=T*f.x+S*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Te.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class sf{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=$t.CIRC}clone(){return new sf(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Te(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}sf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class of{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=$t.ELIP}clone(){return new of(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Te(this.x-this.width,this.y-this.height,this.width,this.height)}}of.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class eo{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=$t.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new eo(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],h=this.points[o*2],f=this.points[o*2+1];u>r!=f>r&&e<(h-a)*((r-u)/(f-u))+a&&(n=!n)}return n}}eo.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class af{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=$t.RREC}clone(){return new af(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}af.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ke{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Me;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Me;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,u,h){return this.a=Math.cos(a+h)*s,this.b=Math.sin(a+h)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),h=Math.abs(a+u);return h<1e-5||Math.abs(Ed-h)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ke;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ke}static get TEMP_MATRIX(){return new Ke}}Ke.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Ls=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Us=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Gs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],zs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u0=[],qT=[],Kc=Math.sign;function qk(){for(let t=0;t<16;t++){const e=[];u0.push(e);for(let r=0;r<16;r++){const n=Kc(Ls[t]*Ls[r]+Gs[t]*Us[r]),i=Kc(Us[t]*Ls[r]+zs[t]*Us[r]),s=Kc(Ls[t]*Gs[r]+Gs[t]*zs[r]),o=Kc(Us[t]*Gs[r]+zs[t]*zs[r]);for(let a=0;a<16;a++)if(Ls[a]===n&&Us[a]===i&&Gs[a]===s&&zs[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ke;e.set(Ls[t],Us[t],Gs[t],zs[t],0,0),qT.push(e)}}qk();const it={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ls[t],uY:t=>Us[t],vX:t=>Gs[t],vY:t=>zs[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>u0[t][e],sub:(t,e)=>u0[t][it.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?it.S:it.N:Math.abs(e)*2<=Math.abs(t)?t>0?it.E:it.W:e>0?t>0?it.SE:it.SW:t>0?it.NE:it.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=qT[it.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class jn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new jn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}jn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const c0=class{constructor(){this.worldTransform=new Ke,this.localTransform=new Ke,this.position=new jn(this.onChange,this,0,0),this.scale=new jn(this.onChange,this,1,1),this.pivot=new jn(this.onChange,this,0,0),this.skew=new jn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};c0.IDENTITY=new c0;let lf=c0;lf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Jk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,eD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function rw(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Pm(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function JT(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Pm(2*e);case"bvec3":return Pm(3*e);case"bvec4":return Pm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const xa=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],tD={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},rD={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function nD(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let u=0;u<xa.length;u++)if(xa[u].test(s,o)){r.push(xa[u].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?tD:rD)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const eb={};let Lo=eb;function iD(){if(Lo===eb||Lo!=null&&Lo.isContextLost()){const t=le.ADAPTER.createCanvas();let e;le.PREFER_ENV>=ho.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Lo=e}return Lo}let Zc;function sD(){if(!Zc){Zc=Xr.MEDIUM;const t=iD();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Zc=e.precision?Xr.HIGH:Xr.MEDIUM)}}return Zc}function nw(t,e){const r=t.getShaderSource(e).split(`
`).map((h,f)=>`${f}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),a=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function oD(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||nw(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||nw(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const aD={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function tb(t){return aD[t]}let qc=null;const iw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function rb(t,e){if(!qc){const r=Object.keys(iw);qc={};for(let n=0;n<r.length;++n){const i=r[n];qc[t[i]]=iw[i]}}return qc[e]}function sw(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Xr.HIGH&&r!==Xr.HIGH&&(n=Xr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Xr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let vl;function lD(){if(typeof vl=="boolean")return vl;try{vl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{vl=!1}return vl}let uD=0;const Jc={},h0=class Vo{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=uD++,this.vertexSrc=e||Vo.defaultVertexSrc,this.fragmentSrc=r||Vo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Jc[n]?(Jc[n]++,n+=`-${Jc[n]}`):Jc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=sw(this.vertexSrc,Vo.defaultVertexPrecision,Xr.HIGH),this.fragmentSrc=sw(this.fragmentSrc,Vo.defaultFragmentPrecision,sD())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return eD}static get defaultFragmentSrc(){return Jk}static from(e,r,n){const i=e+r;let s=Z_[i];return s||(Z_[i]=s=new Vo(e,r,n)),s}};h0.defaultVertexPrecision=Xr.HIGH,h0.defaultFragmentPrecision=mi.apple.device?Xr.HIGH:Xr.MEDIUM;let gi=h0,cD=0;class yn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=cD++,this.static=!!r,this.ubo=!!n,e instanceof gt?(this.buffer=e,this.buffer.type=Qn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new gt(new Float32Array(1)),this.buffer.type=Qn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new yn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new yn(e,r,n)}static uboFrom(e,r){return new yn(e,r??!0,!0)}}class Kn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof yn?this.uniformGroup=r:this.uniformGroup=new yn(r):this.uniformGroup=new yn({}),this.disposeRunner=new vn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=gi.from(e,r);return new Kn(i,n)}}class hD{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=yn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new gi(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:this.defaultGroupCache[e]};return new Kn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class d0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function dD(){return!mi.apple.device}function fD(t){let e=!0;const r=le.ADAPTER.getNavigator();if(mi.tablet||mi.phone){if(mi.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(mi.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class uf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var pD=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,mD=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const bl=class an extends uf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=ZT,this.vertexSize=6,this.state=ei.for2d(),this.size=an.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??fD(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??dD(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Re("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return mD}static get defaultFragmentTemplate(){return pD}setShaderGenerator({vertex:e=an.defaultVertexSrc,fragment:r=an.defaultFragmentTemplate}={}){this.shaderGenerator=new hD(e,r)}contextChange(){const e=this.renderer.gl;le.PREFER_ENV===ho.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),an.defaultMaxTextures),this.maxTextures=$k(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=an,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new l0);for(;r.length<i;)r.push(new d0);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=an._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Ee._globalBatch,u=0,h=n[0],f=0;i.copyBoundTextures(s,r);for(let m=0;m<this._bufferSize;++m){const p=e[m];e[m]=null,p._batchEnabled!==a&&(h.count>=r&&(i.boundArray(h,s,a,r),this.buildDrawCalls(h,f,m),f=m,h=n[++u],++a),p._batchEnabled=a,p.touched=o,h.elements[h.count++]=p)}h.count>0&&(i.boundArray(h,s,a,r),this.buildDrawCalls(h,f,this._bufferSize),++u,++a);for(let m=0;m<s.length;m++)s[m]=null;Ee._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,u=an._drawCallPool;let h=this._dcIndex,f=this._aIndex,m=this._iIndex,p=u[h];p.start=this._iIndex,p.texArray=e;for(let d=r;d<n;++d){const g=i[d],y=g._texture.baseTexture,x=XT[y.alphaMode?1:0][g.blendMode];i[d]=null,r<d&&p.blend!==x&&(p.size=m-p.start,r=d,p=u[++h],p.texArray=e,p.start=m),this.packInterleavedGeometry(g,s,o,f,m),f+=g.vertexData.length/2*a,m+=g.indices.length,p.blend=x}r<n&&(p.size=m-p.start,++h),this._dcIndex=h,this._aIndex=f,this._iIndex=m}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;an.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=an._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:u,size:h,start:f,blend:m}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=m,n.set(this.state),r.drawElements(u,h,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),an.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=wd(Math.ceil(e/8)),n=Q_(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new s0(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=wd(Math.ceil(e/12)),n=Q_(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,u=i/this.vertexSize,h=e.uvs,f=e.indices,m=e.vertexData,p=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),g=We.shared.setValue(e._tintRGB).toPremultiplied(d,e._texture.baseTexture.alphaMode>0);for(let y=0;y<m.length;y+=2)a[i++]=m[y],a[i++]=m[y+1],a[i++]=h[y],a[i++]=h[y+1],o[i++]=g,a[i++]=p;for(let y=0;y<f.length;y++)n[s++]=u+f[y]}};bl.defaultBatchSize=4096,bl.extension={name:"batch",type:oe.RendererPlugin},bl._drawCallPool=[],bl._textureArrayPool=[];let Hs=bl;me.add(Hs);var gD=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,vD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const f0=class Cl extends Kn{constructor(e,r,n){const i=gi.from(e||Cl.defaultVertexSrc,r||Cl.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Cl.defaultResolution,this.multisample=Cl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ei}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return vD}static get defaultFragmentSrc(){return gD}};f0.defaultResolution=1,f0.defaultMultisample=_t.NONE;let er=f0;class Td{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new We(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Td.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Td.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"background"};me.add(Td);class nb{constructor(e){this.renderer=e,this.emptyRenderer=new uf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let h=0;h<a;h++){const f=s[h],m=f._batchLocation;if(m>=0&&m<i&&r[m]===f){o[h]=m;continue}for(;u<i;){const p=r[u];if(p&&p._batchEnabled===n&&p._batchLocation===u){u++;continue}o[h]=u,f._batchLocation=u,r[u]=f;break}}}destroy(){this.renderer=null}}nb.extension={type:oe.RendererSystem,name:"batch"};me.add(nb);let ow=0;class bd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ow++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ow++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(le.PREFER_ENV>=ho.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}bd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},bd.extension={type:oe.RendererSystem,name:"context"};me.add(bd);class p0{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new vn("disposeFramebuffer"),this.multisample=_t.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ee(null,{scaleMode:pi.NEAREST,resolution:1,mipmap:Zn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ee(null,{scaleMode:pi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Zn.OFF,format:ne.DEPTH_COMPONENT,type:_e.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class ib extends Ee{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=_t.NONE),super(null,e),this.mipmap=Zn.OFF,this.valid=!0,this._clear=new We([0,0,0,0]),this.framebuffer=new p0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class bi extends gu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=Gk(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===gr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class sb extends bi{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;bi.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??le.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===gr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Xv{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,h=e.y/s+a;n=it.add(n,it.NW),this.x0=u+o*it.uX(n),this.y0=h+a*it.uY(n),n=it.add(n,2),this.x1=u+o*it.uX(n),this.y1=h+a*it.uY(n),n=it.add(n,2),this.x2=u+o*it.uX(n),this.y2=h+a*it.uY(n),n=it.add(n,2),this.x3=u+o*it.uX(n),this.y3=h+a*it.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Xv.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const aw=new Xv;function eh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class se extends Au{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Te(0,0,1,1)),e instanceof se&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=aw,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Me(o.x,o.y):new Me(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Nn[r.url]&&se.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,se.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new se(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===aw&&(this._uvs=new Xv),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=le.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ee){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${lo()}`,Ee.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${lo()}`}s=e._pixiId}let o=Nn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ee)?(r.resolution||(r.resolution=Ti(e)),o=new se(new Ee(e,r)),o.baseTexture.cacheId=s,Ee.addToCache(o.baseTexture,s),se.addToCache(o,s)):!o&&e instanceof Ee&&(o=new se(e),se.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=se.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new se(Ee.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ee(e,Object.assign({scaleMode:Ee.defaultOptions.scaleMode,resolution:Ti(r)},i)),{resource:o}=s;o instanceof sb&&(o.url=r);const a=new se(s);return n||(n=r),Ee.addToCache(a.baseTexture,n),se.addToCache(a,n),n!==r&&(Ee.addToCache(a.baseTexture,r),se.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Nn[r]&&Nn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Nn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Nn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Nn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Nn[e.textureCacheIds[r]]===e&&delete Nn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${u} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return se._EMPTY||(se._EMPTY=new se(new Ee),eh(se._EMPTY),eh(se._EMPTY.baseTexture)),se._EMPTY}static get WHITE(){if(!se._WHITE){const e=le.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),se._WHITE=new se(Ee.from(e)),eh(se._WHITE),eh(se._WHITE.baseTexture)}return se._WHITE}}class fo extends se{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new fo(new ib(e))}}class ob{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=_t.NONE){const i=new ib(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new fo(i)}getOptimalTexture(e,r,n=1,i=_t.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=wd(e),r=wd(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||_t.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}ob.SCREEN_KEY=-1;class yD extends ps{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class ab extends ps{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new gt(this.vertices),this.uvBuffer=new gt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class xD{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=_t.NONE,this.sourceFrame=new Te,this.destinationFrame=new Te,this.bindingSourceFrame=new Te,this.bindingDestinationFrame=new Te,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const th=[new Me,new Me,new Me,new Me],Im=new Ke;class lb{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new ob,this.statePool=[],this.quad=new yD,this.quadUv=new ab,this.tempRect=new Te,this.activeState={},this.globalUniforms=new yn({outputFrame:new Te,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new xD,o=n.renderTexture;let a,u;if(o.current){const x=o.current;a=x.resolution,u=x.multisample}else a=n.resolution,u=n.multisample;let h=r[0].resolution||a,f=r[0].multisample??u,m=r[0].padding,p=r[0].autoFit,d=r[0].legacy??!0;for(let x=1;x<r.length;x++){const w=r[x];h=Math.min(h,w.resolution||a),f=Math.min(f,w.multisample??u),m=this.useMaxPadding?Math.max(m,w.padding):m+w.padding,p=p&&w.autoFit,d=d||(w.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=h,s.multisample=f,s.legacy=d,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(m);const g=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Im.copyFrom(n.projection.transform).invert(),g),p?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,h,f),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const y=this.tempRect;y.x=0,y.y=0,y.width=s.sourceFrame.width,y.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,y),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,zn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,r.resolution);f.filterFrame=h.filterFrame;let m=0;for(m=0;m<n.length-1;++m){m===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(h.width,h.height,r.resolution),f.filterFrame=h.filterFrame),n[m].apply(this,h,f,zn.CLEAR,r);const p=h;h=f,f=p}n[m].apply(this,h,u.renderTexture,zn.BLEND,r),m>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=zn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===zn.CLEAR||r===zn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(fn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(fn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Ke.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=_t.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||_t.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=th[0],i=th[1],s=th[2],o=th[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=h-a,r.height=f-u}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:h}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?Im.copyFrom(s):Im.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}lb.extension={type:oe.RendererSystem,name:"filter"};me.add(lb);class _D{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=_t.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const wD=new Te;class ub{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new p0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Te,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;le.PREFER_ENV===ho.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=zg.COLOR|zg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new _D(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const h=s[u],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,h.target,f._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let u,h;this.renderer.context.webGLVersion===1?(u=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH_STENCIL):e.depth&&e.stencil?(u=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH24_STENCIL8):e.depth?(u=n.DEPTH_ATTACHMENT,h=n.DEPTH_COMPONENT24):(u=n.STENCIL_ATTACHMENT,h=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,h,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,u,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=_t.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=_t.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;u.blitFramebuffer||(u.blitFramebuffer=new p0(i.width,i.height),u.blitFramebuffer.addColorTexture(0,f)),e=u.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=wD,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,u;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,u=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,u,n,i):s.renderbufferStorage(s.RENDERBUFFER,u,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Te}destroy(){this.renderer=null}}ub.extension={type:oe.RendererSystem,name:"framebuffer"};me.add(ub);const Rm={5126:4,5123:2,5121:1};class cb{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;le.PREFER_ENV===ho.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const u=this.getSignature(e,a),h=e.glVertexArrayObjects[this.CONTEXT_UID];let f=h[u];if(f)return h[a.id]=f,f;const m=e.buffers,p=e.attributes,d={},g={};for(const y in m)d[y]=0,g[y]=0;for(const y in p)!p[y].size&&a.attributeData[y]?p[y].size=a.attributeData[y].size:p[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),d[p[y].buffer]+=p[y].size*Rm[p[y].type];for(const y in p){const x=p[y],w=x.size;x.stride===void 0&&(d[x.buffer]===w*Rm[x.type]?x.stride=0:x.stride=d[x.buffer]),x.start===void 0&&(x.start=g[x.buffer],g[x.buffer]+=w*Rm[x.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let y=0;y<m.length;y++){const x=m[y];o.bind(x),n&&x._glBuffers[s].refCount++}return this.activateVao(e,a),h[a.id]=f,h[u]=f,i.bindVertexArray(null),o.unbind(Qn.ARRAY_BUFFER),f}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const h=s[u]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const h=n[u];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const h in a){const f=a[h],m=o[f.buffer],p=m._glBuffers[i];if(r.attributeData[h]){u!==p&&(s.bind(m),u=p);const d=r.attributeData[h].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(d,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}cb.extension={type:oe.RendererSystem,name:"geometry"};me.add(cb);const lw=new Ke;class Yv{constructor(e,r){this._texture=e,this.mapCoord=new Ke,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(lw.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(lw));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return a[0]=(r._frame.x+u+h)/o.width,a[1]=(r._frame.y+u+h)/o.height,a[2]=(r._frame.x+r._frame.width-u+h)/o.width,a[3]=(r._frame.y+r._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var SD=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ED=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class TD extends er{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||ED,r||SD,n),this.maskSprite=i,this.maskMatrix=new Ke}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Yv(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class bD{constructor(e=null){this.type=bt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=er.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=bt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class hb{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new bD;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==bt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case bt.SCISSOR:this.renderer.scissor.push(n);break;case bt.STENCIL:this.renderer.stencil.push(n);break;case bt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case bt.COLOR:this.pushColorMask(n);break}n.type===bt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case bt.SCISSOR:this.renderer.scissor.pop(r);break;case bt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case bt.SPRITE:this.popSpriteMask(r);break;case bt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===bt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=bt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=bt.SCISSOR:e.type=bt.STENCIL:e.type=bt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new TD])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}hb.extension={type:oe.RendererSystem,name:"mask"};me.add(hb);class db{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const uw=new Ke,cw=[],fb=class Oh extends db{constructor(e){super(e),this.glConst=le.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,cw.pop()??new Te);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Oh.isMatrixRotated(r.worldTransform)||Oh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Oh.isMatrixRotated(s)||(s=s?uw.copyFrom(s):uw.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&cw.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};fb.extension={type:oe.RendererSystem,name:"scissor"};let CD=fb;me.add(CD);class pb extends db{constructor(e){super(e),this.glConst=le.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}pb.extension={type:oe.RendererSystem,name:"stencil"};me.add(pb);class mb{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}mb.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"_plugin"};me.add(mb);class gb{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ke,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}gb.extension={type:oe.RendererSystem,name:"projection"};me.add(gb);const AD=new lf,hw=new Te;class vb{constructor(e){this.renderer=e,this._tempMatrix=new Ke}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(hw))||e.getLocalBounds(hw,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=fo.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=AD,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,a}destroy(){}}vb.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"textureGenerator"};me.add(vb);const Ds=new Te,yl=new Te;class yb{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Te,this.destinationFrame=new Te,this.viewportFrame=new Te}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Ds.width=e.frame.width,Ds.height=e.frame.height,r=Ds),n||(yl.x=e.frame.x,yl.y=e.frame.y,yl.width=r.width,yl.height=r.height,n=yl),o=s.framebuffer):(a=i.resolution,r||(Ds.width=i._view.screen.width,Ds.height=i._view.screen.height,r=Ds),n||(n=Ds,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=We.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:u,y:h,width:f,height:m}=this.viewportFrame;u=Math.round(u),h=Math.round(h),f=Math.round(f),m=Math.round(m),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,h,f,m)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}yb.extension={type:oe.RendererSystem,name:"renderTexture"};me.add(yb);class PD{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function ID(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=rb(e,s.type),a={type:o,name:s.name,size:tb(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function RD(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=rb(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:JT(u,s.size)}}return r}function MD(t,e){var a;const r=rw(t,t.VERTEX_SHADER,e.vertexSrc),n=rw(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||oD(t,i,r,n),e.attributeData=ID(i,t),e.uniformData=RD(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((h,f)=>h>f?1:-1);for(let h=0;h<u.length;h++)e.attributeData[u[h]].location=h,t.bindAttribLocation(i,h,u[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const h=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:JT(h.type,h.size)}}return new PD(i,o)}function kD(t,e,r,n,i){r.buffer.update(i)}const DD={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},xb={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function FD(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=xb[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function ND(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function BD(t,e){if(!t.autoManage)return{size:0,syncFunc:kD};const r=ND(t.uniforms,e),{uboElements:n,size:i}=FD(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=t.uniforms[a.data.name],h=a.data.name;let f=!1;for(let m=0;m<xa.length;m++){const p=xa[m];if(p.codeUbo&&p.test(a.data,u)){s.push(`offset = ${a.offset/4};`,xa[m].codeUbo(a.data.name,u)),f=!0;break}}if(!f)if(a.data.size>1){const m=tb(a.data.type),p=Math.max(xb[a.data.type]/16,1),d=m/p,g=(4-d%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${d}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const m=DD[a.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};
                ${m};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let OD=0;const rh={textureCount:0,uboCount:0};class _b{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=OD++}systemCheck(){if(!lD())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(rh.textureCount=0,rh.uboCount=0,this.syncUniformGroup(e.uniformGroup,rh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=nD(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,rh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=BD(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=MD(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}_b.extension={type:oe.RendererSystem,name:"shader"};me.add(_b);class Cd{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Cd.defaultOptions={hello:!1},Cd.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"startup"};me.add(Cd);function LD(t,e=[]){return e[fe.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.ADD]=[t.ONE,t.ONE],e[fe.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.NONE]=[0,0],e[fe.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[fe.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[fe.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[fe.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[fe.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[fe.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[fe.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[fe.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[fe.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[fe.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const UD=0,GD=1,zD=2,HD=3,$D=4,VD=5,wb=class m0{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=fe.NONE,this._blendEq=!1,this.map=[],this.map[UD]=this.setBlend,this.map[GD]=this.setOffset,this.map[zD]=this.setCullFace,this.map[HD]=this.setDepthTest,this.map[$D]=this.setFrontFace,this.map[VD]=this.setDepthMask,this.checks=[],this.defaultState=new ei,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=LD(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(m0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(m0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};wb.extension={type:oe.RendererSystem,name:"state"};let jD=wb;me.add(jD);class WD extends Au{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new vn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Al=class Lh{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Lh.defaultMaxIdle,this.checkCountMax=Lh.defaultCheckCountMax,this.mode=Lh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Lv.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Al.defaultMode=Lv.AUTO,Al.defaultMaxIdle=60*60,Al.defaultCheckCountMax=60*10,Al.extension={type:oe.RendererSystem,name:"textureGC"};let $s=Al;me.add($s);class Mm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=_e.UNSIGNED_BYTE,this.internalFormat=ne.RGBA,this.samplerType=0}}function XD(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:ae.FLOAT,[t.RGBA]:ae.FLOAT,[t.ALPHA]:ae.FLOAT,[t.LUMINANCE]:ae.FLOAT,[t.LUMINANCE_ALPHA]:ae.FLOAT,[t.R8]:ae.FLOAT,[t.R8_SNORM]:ae.FLOAT,[t.RG8]:ae.FLOAT,[t.RG8_SNORM]:ae.FLOAT,[t.RGB8]:ae.FLOAT,[t.RGB8_SNORM]:ae.FLOAT,[t.RGB565]:ae.FLOAT,[t.RGBA4]:ae.FLOAT,[t.RGB5_A1]:ae.FLOAT,[t.RGBA8]:ae.FLOAT,[t.RGBA8_SNORM]:ae.FLOAT,[t.RGB10_A2]:ae.FLOAT,[t.RGB10_A2UI]:ae.FLOAT,[t.SRGB8]:ae.FLOAT,[t.SRGB8_ALPHA8]:ae.FLOAT,[t.R16F]:ae.FLOAT,[t.RG16F]:ae.FLOAT,[t.RGB16F]:ae.FLOAT,[t.RGBA16F]:ae.FLOAT,[t.R32F]:ae.FLOAT,[t.RG32F]:ae.FLOAT,[t.RGB32F]:ae.FLOAT,[t.RGBA32F]:ae.FLOAT,[t.R11F_G11F_B10F]:ae.FLOAT,[t.RGB9_E5]:ae.FLOAT,[t.R8I]:ae.INT,[t.R8UI]:ae.UINT,[t.R16I]:ae.INT,[t.R16UI]:ae.UINT,[t.R32I]:ae.INT,[t.R32UI]:ae.UINT,[t.RG8I]:ae.INT,[t.RG8UI]:ae.UINT,[t.RG16I]:ae.INT,[t.RG16UI]:ae.UINT,[t.RG32I]:ae.INT,[t.RG32UI]:ae.UINT,[t.RGB8I]:ae.INT,[t.RGB8UI]:ae.UINT,[t.RGB16I]:ae.INT,[t.RGB16UI]:ae.UINT,[t.RGB32I]:ae.INT,[t.RGB32UI]:ae.UINT,[t.RGBA8I]:ae.INT,[t.RGBA8UI]:ae.UINT,[t.RGBA16I]:ae.INT,[t.RGBA16UI]:ae.UINT,[t.RGBA32I]:ae.INT,[t.RGBA32UI]:ae.UINT,[t.DEPTH_COMPONENT16]:ae.FLOAT,[t.DEPTH_COMPONENT24]:ae.FLOAT,[t.DEPTH_COMPONENT32F]:ae.FLOAT,[t.DEPTH_STENCIL]:ae.FLOAT,[t.DEPTH24_STENCIL8]:ae.FLOAT,[t.DEPTH32F_STENCIL8]:ae.FLOAT}:e={[t.RGB]:ae.FLOAT,[t.RGBA]:ae.FLOAT,[t.ALPHA]:ae.FLOAT,[t.LUMINANCE]:ae.FLOAT,[t.LUMINANCE_ALPHA]:ae.FLOAT,[t.DEPTH_STENCIL]:ae.FLOAT},e}function YD(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[_e.UNSIGNED_BYTE]:{[ne.RGBA]:t.RGBA8,[ne.RGB]:t.RGB8,[ne.RG]:t.RG8,[ne.RED]:t.R8,[ne.RGBA_INTEGER]:t.RGBA8UI,[ne.RGB_INTEGER]:t.RGB8UI,[ne.RG_INTEGER]:t.RG8UI,[ne.RED_INTEGER]:t.R8UI,[ne.ALPHA]:t.ALPHA,[ne.LUMINANCE]:t.LUMINANCE,[ne.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[_e.BYTE]:{[ne.RGBA]:t.RGBA8_SNORM,[ne.RGB]:t.RGB8_SNORM,[ne.RG]:t.RG8_SNORM,[ne.RED]:t.R8_SNORM,[ne.RGBA_INTEGER]:t.RGBA8I,[ne.RGB_INTEGER]:t.RGB8I,[ne.RG_INTEGER]:t.RG8I,[ne.RED_INTEGER]:t.R8I},[_e.UNSIGNED_SHORT]:{[ne.RGBA_INTEGER]:t.RGBA16UI,[ne.RGB_INTEGER]:t.RGB16UI,[ne.RG_INTEGER]:t.RG16UI,[ne.RED_INTEGER]:t.R16UI,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[_e.SHORT]:{[ne.RGBA_INTEGER]:t.RGBA16I,[ne.RGB_INTEGER]:t.RGB16I,[ne.RG_INTEGER]:t.RG16I,[ne.RED_INTEGER]:t.R16I},[_e.UNSIGNED_INT]:{[ne.RGBA_INTEGER]:t.RGBA32UI,[ne.RGB_INTEGER]:t.RGB32UI,[ne.RG_INTEGER]:t.RG32UI,[ne.RED_INTEGER]:t.R32UI,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[_e.INT]:{[ne.RGBA_INTEGER]:t.RGBA32I,[ne.RGB_INTEGER]:t.RGB32I,[ne.RG_INTEGER]:t.RG32I,[ne.RED_INTEGER]:t.R32I},[_e.FLOAT]:{[ne.RGBA]:t.RGBA32F,[ne.RGB]:t.RGB32F,[ne.RG]:t.RG32F,[ne.RED]:t.R32F,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[_e.HALF_FLOAT]:{[ne.RGBA]:t.RGBA16F,[ne.RGB]:t.RGB16F,[ne.RG]:t.RG16F,[ne.RED]:t.R16F},[_e.UNSIGNED_SHORT_5_6_5]:{[ne.RGB]:t.RGB565},[_e.UNSIGNED_SHORT_4_4_4_4]:{[ne.RGBA]:t.RGBA4},[_e.UNSIGNED_SHORT_5_5_5_1]:{[ne.RGBA]:t.RGB5_A1},[_e.UNSIGNED_INT_2_10_10_10_REV]:{[ne.RGBA]:t.RGB10_A2,[ne.RGBA_INTEGER]:t.RGB10_A2UI},[_e.UNSIGNED_INT_10F_11F_11F_REV]:{[ne.RGB]:t.R11F_G11F_B10F},[_e.UNSIGNED_INT_5_9_9_9_REV]:{[ne.RGB]:t.RGB9_E5},[_e.UNSIGNED_INT_24_8]:{[ne.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[_e.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ne.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[_e.UNSIGNED_BYTE]:{[ne.RGBA]:t.RGBA,[ne.RGB]:t.RGB,[ne.ALPHA]:t.ALPHA,[ne.LUMINANCE]:t.LUMINANCE,[ne.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[_e.UNSIGNED_SHORT_5_6_5]:{[ne.RGB]:t.RGB},[_e.UNSIGNED_SHORT_4_4_4_4]:{[ne.RGBA]:t.RGBA},[_e.UNSIGNED_SHORT_5_5_5_1]:{[ne.RGBA]:t.RGBA}},e}class Sb{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ee,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=YD(e),this.samplerTypes=XD(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Mm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Mm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==ae.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Mm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??ae.FLOAT,this.webGLVersion===2&&e.type===_e.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==ae.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&ya(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Zn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=yi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Zn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===pi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===pi.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===pi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===pi.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}Sb.extension={type:oe.RendererSystem,name:"texture"};me.add(Sb);class Eb{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Eb.extension={type:oe.RendererSystem,name:"transformFeedback"};me.add(Eb);class Ad{constructor(e){this.renderer=e}init(e){this.screen=new Te(0,0,e.width,e.height),this.element=e.view||le.ADAPTER.createCanvas(),this.resolution=e.resolution||le.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Ad.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Ad.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"_view"};me.add(Ad);le.PREFER_ENV=ho.WEBGL2;le.STRICT_TEXTURE_CACHE=!1;le.RENDER_OPTIONS={...bd.defaultOptions,...Td.defaultOptions,...Ad.defaultOptions,...Cd.defaultOptions};Object.defineProperties(le,{WRAP_MODE:{get(){return Ee.defaultOptions.wrapMode},set(t){Re("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ee.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ee.defaultOptions.scaleMode},set(t){Re("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ee.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ee.defaultOptions.mipmap},set(t){Re("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ee.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ee.defaultOptions.anisotropicLevel},set(t){Re("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ee.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Re("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),er.defaultResolution},set(t){er.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Re("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),er.defaultMultisample},set(t){er.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Hs.defaultMaxTextures},set(t){Re("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Hs.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Hs.defaultBatchSize},set(t){Re("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Hs.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Hs.canUploadSameBuffer},set(t){Re("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Hs.canUploadSameBuffer=t}},GC_MODE:{get(){return $s.defaultMode},set(t){Re("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),$s.defaultMode=t}},GC_MAX_IDLE:{get(){return $s.defaultMaxIdle},set(t){Re("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),$s.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return $s.defaultCheckCountMax},set(t){Re("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),$s.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return gi.defaultVertexPrecision},set(t){Re("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),gi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return gi.defaultFragmentPrecision},set(t){Re("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),gi.defaultFragmentPrecision=t}}});const QD={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Qv={ADAPTER:QD,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},KD=md.default??md;KD(globalThis.navigator);Qv.RETINA_PREFIX=/@([0-9\.]+)x/;Qv.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ZD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function s(u,h,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new i(f,m||u,p),g=r?r+h:h;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],d]:u._events[g].push(d):(u._events[g]=d,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)e.call(f,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},a.prototype.listeners=function(h){var f=r?r+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,d=m.length,g=new Array(d);p<d;p++)g[p]=m[p].fn;return g},a.prototype.listenerCount=function(h){var f=r?r+h:h,m=this._events[f];return m?m.fn?1:m.length:0},a.prototype.emit=function(h,f,m,p,d,g){var y=r?r+h:h;if(!this._events[y])return!1;var x=this._events[y],w=arguments.length,T,S;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,m),!0;case 4:return x.fn.call(x.context,f,m,p),!0;case 5:return x.fn.call(x.context,f,m,p,d),!0;case 6:return x.fn.call(x.context,f,m,p,d,g),!0}for(S=1,T=new Array(w-1);S<w;S++)T[S-1]=arguments[S];x.fn.apply(x.context,T)}else{var C=x.length,b;for(S=0;S<C;S++)switch(x[S].once&&this.removeListener(h,x[S].fn,void 0,!0),w){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,f);break;case 3:x[S].fn.call(x[S].context,f,m);break;case 4:x[S].fn.call(x[S].context,f,m,p);break;default:if(!T)for(b=1,T=new Array(w-1);b<w;b++)T[b-1]=arguments[b];x[S].fn.apply(x[S].context,T)}}return!0},a.prototype.on=function(h,f,m){return s(this,h,f,m,!1)},a.prototype.once=function(h,f,m){return s(this,h,f,m,!0)},a.prototype.removeListener=function(h,f,m,p){var d=r?r+h:h;if(!this._events[d])return this;if(!f)return o(this,d),this;var g=this._events[d];if(g.fn)g.fn===f&&(!p||g.once)&&(!m||g.context===m)&&o(this,d);else{for(var y=0,x=[],w=g.length;y<w;y++)(g[y].fn!==f||p&&!g[y].once||m&&g[y].context!==m)&&x.push(g[y]);x.length?this._events[d]=x.length===1?x[0]:x:o(this,d)}return this},a.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(ZD);const dw={};function qD(t,e,r=3){if(dw[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),dw[e]=!0}function JD(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[fe.NORMAL_NPM]=fe.NORMAL,t[fe.ADD_NPM]=fe.ADD,t[fe.SCREEN_NPM]=fe.SCREEN,e[fe.NORMAL]=fe.NORMAL_NPM,e[fe.ADD]=fe.ADD_NPM,e[fe.SCREEN]=fe.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}JD();var ms=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ms||{});class km{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Tb=class Cr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new km(null,null,1/0),this.deltaMS=1/Cr.targetFPMS,this.elapsedMS=1/Cr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=ms.NORMAL){return this._addListener(new km(e,r,n))}addOnce(e,r,n=ms.NORMAL){return this._addListener(new km(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Cr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Cr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Cr._shared){const e=Cr._shared=new Cr;e.autoStart=!0,e._protected=!0}return Cr._shared}static get system(){if(!Cr._system){const e=Cr._system=new Cr;e.autoStart=!0,e._protected=!0}return Cr._system}};Tb.targetFPMS=.06;let Nt=Tb;Object.defineProperties(Qv,{TARGET_FPMS:{get(){return Nt.targetFPMS},set(t){qD("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Nt.targetFPMS=t}}});class bb{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ms.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Nt.shared:new Nt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}bb.extension=oe.Application;me.add(bb);const Cb=[];me.handleByList(oe.Renderer,Cb);function e3(t){for(const e of Cb)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var t3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,r3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const n3=t3,Ab=r3;class Pb{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=_t.HIGH?this.multisample=_t.HIGH:r>=_t.MEDIUM?this.multisample=_t.MEDIUM:r>=_t.LOW?this.multisample=_t.LOW:this.multisample=_t.NONE}destroy(){}}Pb.extension={type:oe.RendererSystem,name:"_multisample"};me.add(Pb);class i3{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Ib{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new i3(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}Ib.extension={type:oe.RendererSystem,name:"buffer"};me.add(Ib);class Rb{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Rb.extension={type:oe.RendererSystem,name:"objectRenderer"};me.add(Rb);const Uh=class g0 extends WD{constructor(e){super(),this.type=xT.WEBGL,e=Object.assign({},le.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new yn({projectionMatrix:new Ke},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:g0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Re("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=g0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Sk()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Re("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Re("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Re("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Re("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Uh.extension={type:oe.Renderer,priority:1},Uh.__plugins={},Uh.__systems={};let Kv=Uh;me.handleByMap(oe.RendererPlugin,Kv.__plugins);me.handleByMap(oe.RendererSystem,Kv.__systems);me.add(Kv);class Mb extends gu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ee;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof gu?this.addResourceAt(e[n],n):this.addResourceAt(KT(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class s3 extends Mb{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ma.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const h=o[u];s[u]<h.dirtyId&&(s[u]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class o3 extends bi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const kb=class Pl extends Mb{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Pl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Pl.SIDES;a++)this.items[a].target=ma.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=ma.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ma.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<Pl.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Pl.SIDES}};kb.SIDES=6;let a3=kb;class aa extends bi{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=aa.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await le.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===gr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return aa._EMPTY=aa._EMPTY??le.ADAPTER.createCanvas(0,0),aa._EMPTY}}const v0=class Gh extends bi{constructor(e,r){r=r||{},super(le.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Gh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;bi.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${lo()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Gh.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Gh.SVG_XML.test(e)}};v0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,v0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let y0=v0;class l3 extends bi{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const x0=class _0 extends bi{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];bi.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:u}=e[s];if(a=a||e[s],a.startsWith("data:"))u=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const h=a.split("?").shift().toLowerCase(),f=h.slice(h.lastIndexOf(".")+1);u=u||_0.MIME_TYPES[f]||`video/${f}`}o.src=a,u&&(o.type=u),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Nt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Nt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Nt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Nt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||_0.TYPES.includes(r)}};x0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],x0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Db=x0;o0.push(aa,sb,o3,Db,l3,y0,nf,a3,s3);let Pd=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Te.EMPTY:(e=e||new Te(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:u}=e,h=n*r.x+s*r.y+a,f=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,u=e.c,h=e.d,f=e.tx,m=e.ty;let p=this.minX,d=this.minY,g=this.maxX,y=this.maxY,x=o*r+u*n+f,w=a*r+h*n+m;p=x<p?x:p,d=w<d?w:d,g=x>g?x:g,y=w>y?w:y,x=o*i+u*n+f,w=a*i+h*n+m,p=x<p?x:p,d=w<d?w:d,g=x>g?x:g,y=w>y?w:y,x=o*r+u*s+f,w=a*r+h*s+m,p=x<p?x:p,d=w<d?w:d,g=x>g?x:g,y=w>y?w:y,x=o*i+u*s+f,w=a*i+h*s+m,p=x<p?x:p,d=w<d?w:d,g=x>g?x:g,y=w>y?w:y,this.minX=p,this.minY=d,this.maxX=g,this.maxY=y}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=r;u<n;u+=2){const h=e[u],f=e[u+1];i=h<i?h:i,s=f<s?f:s,o=h>o?h:o,a=f>a?f:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,u=e.b,h=e.c,f=e.d,m=e.tx,p=e.ty;let d=this.minX,g=this.minY,y=this.maxX,x=this.maxY;for(let w=n;w<i;w+=2){const T=r[w],S=r[w+1],C=a*T+h*S+m,b=f*S+u*T+p;d=Math.min(d,C-s),y=Math.max(y,C+s),g=Math.min(g,b-o),x=Math.max(x,b+o)}this.minX=d,this.minY=g,this.maxX=y,this.maxY=x}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,u=this.minY,h=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,u=this.minY,h=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}};class rt extends Au{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new lf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Pd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(rt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Te),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Te),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Pd);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,u=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new u3),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Kk}set angle(e){this.transform.rotation=e*Zk}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class u3 extends rt{constructor(){super(...arguments),this.sortDirty=null}}rt.prototype.displayObjectUpdateTransform=rt.prototype.updateTransform;const c3=new Ke;function h3(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const Fb=class w0 extends rt{constructor(){super(),this.children=[],this.sortableChildren=w0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);ya(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,ya(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,ya(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(h3),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==w0.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=c3.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const u=this.children[o],h=u.cullable;u.cullable=h||!this.cullArea,u.render(e),u.cullable=h}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<r.length;u++)r[u].enabled&&this._enabledFilters.push(r[u])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==bt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let u=0,h=this.children.length;u<h;++u)this.children[u].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};Fb.defaultSortableChildren=!1;let ar=Fb;ar.prototype.containerUpdateTransform=ar.prototype.updateTransform;Object.defineProperties(le,{SORTABLE_CHILDREN:{get(){return ar.defaultSortableChildren},set(t){Re("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ar.defaultSortableChildren=t}}});var cf=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(cf||{});const xl=new Me,d3=new Uint16Array([0,1,2,0,2,3]);class ti extends ar{constructor(e){super(),this._anchor=new jn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new We(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=fe.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||se.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=d3,this.pluginName="batch",this.isSprite=!0,this._roundPixels=le.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=es(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=es(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,h=this.vertexData,f=e.trim,m=e.orig,p=this._anchor;let d=0,g=0,y=0,x=0;if(f?(g=f.x-p._x*m.width,d=g+f.width,x=f.y-p._y*m.height,y=x+f.height):(g=-p._x*m.width,d=g+m.width,x=-p._y*m.height,y=x+m.height),h[0]=n*g+s*x+a,h[1]=o*x+i*g+u,h[2]=n*d+s*x+a,h[3]=o*x+i*d+u,h[4]=n*d+s*y+a,h[5]=o*y+i*d+u,h[6]=n*g+s*y+a,h[7]=o*y+i*g+u,this._roundPixels){const w=le.RESOLUTION;for(let T=0;T<h.length;++T)h[T]=Math.round(h[T]*w)/w}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,h=s.d,f=s.tx,m=s.ty,p=-i._x*n.width,d=p+n.width,g=-i._y*n.height,y=g+n.height;if(r[0]=o*p+u*g+f,r[1]=h*g+a*p+m,r[2]=o*d+u*g+f,r[3]=h*g+a*d+m,r[4]=o*d+u*y+f,r[5]=h*y+a*d+m,r[6]=o*p+u*y+f,r[7]=h*y+a*p+m,this._roundPixels){const x=le.RESOLUTION;for(let w=0;w<r.length;++w)r[w]=Math.round(r[w]*x)/x}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Pd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Te),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return xl.x>=i&&xl.x<i+r&&(s=-n*this.anchor.y,xl.y>=s&&xl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof se?e:se.from(e,r);return new ti(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=es(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=es(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const nh={willReadFrequently:!0},Bn=class ye{static get experimentalLetterSpacingSupported(){let e=ye._experimentalLetterSpacingSupported;if(e!==void 0){const r=le.ADAPTER.getCanvasRenderingContext2D().prototype;e=ye._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,u,h){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=h}static measureText(e,r,n,i=ye._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=ye.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",nh);a.font=s;const u=(n?ye.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length);let f=0;for(let g=0;g<u.length;g++){const y=ye._measureText(u[g],r.letterSpacing,a);h[g]=y,f=Math.max(f,y)}let m=f+r.strokeThickness;r.dropShadow&&(m+=r.dropShadowDistance);const p=r.lineHeight||o.fontSize+r.strokeThickness;let d=Math.max(p,o.fontSize+r.strokeThickness*2)+r.leading+(u.length-1)*(p+r.leading);return r.dropShadow&&(d+=r.dropShadowDistance),new ye(e,r,m,d,u,h,p+r.leading,f,o)}static _measureText(e,r,n){let i=!1;ye.experimentalLetterSpacingSupported&&(ye.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(ye.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=ye._canvas){const i=n.getContext("2d",nh);let s=0,o="",a="";const u=Object.create(null),{letterSpacing:h,whiteSpace:f}=r,m=ye.collapseSpaces(f),p=ye.collapseNewlines(f);let d=!m;const g=r.wordWrapWidth+h,y=ye.tokenize(e);for(let x=0;x<y.length;x++){let w=y[x];if(ye.isNewline(w)){if(!p){a+=ye.addLine(o),d=!m,o="",s=0;continue}w=" "}if(m){const S=ye.isBreakingSpace(w),C=ye.isBreakingSpace(o[o.length-1]);if(S&&C)continue}const T=ye.getFromCache(w,h,u,i);if(T>g)if(o!==""&&(a+=ye.addLine(o),o="",s=0),ye.canBreakWords(w,r.breakWords)){const S=ye.wordWrapSplit(w);for(let C=0;C<S.length;C++){let b=S[C],I=b,R=1;for(;S[C+R];){const k=S[C+R];if(!ye.canBreakChars(I,k,w,C,r.breakWords))b+=k;else break;I=k,R++}C+=R-1;const P=ye.getFromCache(b,h,u,i);P+s>g&&(a+=ye.addLine(o),d=!1,o="",s=0),o+=b,s+=P}}else{o.length>0&&(a+=ye.addLine(o),o="",s=0);const S=x===y.length-1;a+=ye.addLine(w,!S),d=!1,o="",s=0}else T+s>g&&(d=!1,a+=ye.addLine(o),o="",s=0),(o.length>0||!ye.isBreakingSpace(w)||d)&&(o+=w,s+=T)}return a+=ye.addLine(o,!1),a}static addLine(e,r=!0){return e=ye.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=ye._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ye.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ye._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ye._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(ye.isBreakingSpace(s,o)||ye.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return ye.graphemeSegmenter(e)}static measureFont(e){if(ye._fonts[e])return ye._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=ye._canvas,i=ye._context;i.font=e;const s=ye.METRICS_STRING+ye.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(ye.BASELINE_SYMBOL).width);const u=Math.ceil(ye.HEIGHT_MULTIPLIER*a);if(a=a*ye.BASELINE_MULTIPLIER|0,o===0||u===0)return ye._fonts[e]=r,r;n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const h=i.getImageData(0,0,o,u).data,f=h.length,m=o*4;let p=0,d=0,g=!1;for(p=0;p<a;++p){for(let y=0;y<m;y+=4)if(h[d+y]!==255){g=!0;break}if(!g)d+=m;else break}for(r.ascent=a-p,d=f-m,g=!1,p=u;p>a;--p){for(let y=0;y<m;y+=4)if(h[d+y]!==255){g=!0;break}if(!g)d-=m;else break}return r.descent=p-a,r.fontSize=r.ascent+r.descent,ye._fonts[e]=r,r}static clearMetrics(e=""){e?delete ye._fonts[e]:ye._fonts={}}static get _canvas(){var e;if(!ye.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",nh))!=null&&e.measureText)return ye.__canvas=n,n;r=le.ADAPTER.createCanvas()}catch{r=le.ADAPTER.createCanvas()}r.width=r.height=10,ye.__canvas=r}return ye.__canvas}static get _context(){return ye.__context||(ye.__context=ye._canvas.getContext("2d",nh)),ye.__context}};Bn.METRICS_STRING="|q",Bn.BASELINE_SYMBOL="M",Bn.BASELINE_MULTIPLIER=1.4,Bn.HEIGHT_MULTIPLIER=2,Bn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Bn.experimentalLetterSpacing=!1,Bn._fonts={},Bn._newlines=[10,13],Bn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Xi=Bn;const f3=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Nb=class Il{constructor(e){this.styleID=0,this.reset(),Fm(this,e,e)}clone(){const e={};return Fm(e,this,Il.defaultStyle),new Il(e)}reset(){Fm(this,Il.defaultStyle,Il.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Dm(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Dm(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){p3(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Dm(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!f3.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};Nb.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:cf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let _r=Nb;function Dm(t){const e=We.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function p3(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Fm(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const m3={texture:!0,children:!1,baseTexture:!0},Bb=class S0 extends ti{constructor(e,r,n){let i=!1;n||(n=le.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=se.from(n);s.orig=new Te,s.trim=new Te,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=S0.defaultResolution??le.RESOLUTION,this._autoResolution=S0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Xi.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Re("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Xi.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Xi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,u=i.lineHeight,h=i.lineWidths,f=i.maxLineWidth,m=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let p,d;const g=r.dropShadow?2:1;for(let y=0;y<g;++y){const x=r.dropShadow&&y===0,w=x?Math.ceil(Math.max(1,o)+r.padding*2):0,T=w*this._resolution;if(x){n.fillStyle="black",n.strokeStyle="black";const C=r.dropShadowColor,b=r.dropShadowBlur*this._resolution,I=r.dropShadowDistance*this._resolution;n.shadowColor=We.shared.setValue(C).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=b,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*I,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*I+T}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(u-m.fontSize)/2;u-m.fontSize<0&&(S=0);for(let C=0;C<a.length;C++)p=r.strokeThickness/2,d=r.strokeThickness/2+C*u+m.ascent+S,r.align==="right"?p+=f-h[C]:r.align==="center"&&(p+=(f-h[C])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[C],p+r.padding,d+r.padding-w,!0),r.fill&&this.drawLetterSpacing(a[C],p+r.padding,d+r.padding-w)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Xi.experimentalLetterSpacingSupported&&(Xi.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const u=Xi.graphemeSegmenter(e);let h=this.context.measureText(e).width,f=0;for(let m=0;m<u.length;++m){const p=u[m];i?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let d="";for(let g=m+1;g<u.length;++g)d+=u[g];f=this.context.measureText(d).width,a+=h-f+s,h=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=Uk(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,u=this.canvas.width/this._resolution-o-a*2,h=this.canvas.height/this._resolution-o-a*2,f=i.slice(),m=e.fillGradientStops.slice();if(!m.length){const p=f.length+1;for(let d=1;d<p;++d)m.push(d/p)}if(f.unshift(i[0]),m.unshift(0),f.push(i[i.length-1]),m.push(1),e.fillGradientType===cf.LINEAR_VERTICAL){s=this.context.createLinearGradient(u/2,a,u/2,h+a);const p=n.fontProperties.fontSize+e.strokeThickness;for(let d=0;d<r.length;d++){const g=n.lineHeight*(d-1)+p,y=n.lineHeight*d;let x=y;d>0&&g>y&&(x=(y+g)/2);const w=y+p,T=n.lineHeight*(d+1);let S=w;d+1<r.length&&T<w&&(S=(w+T)/2);const C=(S-x)/h;for(let b=0;b<f.length;b++){let I=0;typeof m[b]=="number"?I=m[b]:I=b/f.length;let R=Math.min(1,Math.max(0,x/h+I*C));R=Number(R.toFixed(5)),s.addColorStop(R,f[b])}}}else{s=this.context.createLinearGradient(a,h/2,u+a,h/2);const p=f.length+1;let d=1;for(let g=0;g<f.length;g++){let y;typeof m[g]=="number"?y=m[g]:y=d/p,s.addColorStop(y,f[g]),d++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},m3,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=es(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=es(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof _r?this._style=e:this._style=new _r(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};Bb.defaultAutoResolution=!0;let Zv=Bb;class Id{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class zh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const h in a){const f=a[h].split("="),m=f[0],p=f[1].replace(/"/gm,""),d=parseFloat(p),g=isNaN(d)?p:d;u[m]=g}n[o].push(u)}const i=new Id;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class E0{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Id,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const f=o[h];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let h=0;h<a.length;h++)r.kerning.push({first:parseInt(a[h].getAttribute("first"),10),second:parseInt(a[h].getAttribute("second"),10),amount:parseInt(a[h].getAttribute("amount"),10)});for(let h=0;h<u.length;h++)r.distanceField.push({fieldType:u[h].getAttribute("fieldType"),distanceRange:parseInt(u[h].getAttribute("distanceRange"),10)});return r}}class T0{static test(e){return typeof e=="string"&&e.includes("<font>")?E0.test(le.ADAPTER.parseXML(e)):!1}static parse(e){return E0.parse(le.ADAPTER.parseXML(e))}}const Nm=[zh,E0,T0];function g3(t){for(let e=0;e<Nm.length;e++)if(Nm[e].test(t))return Nm[e];return null}function v3(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,f=t.width/n-u-h*2,m=t.height/n-u-h*2,p=o.slice(),d=r.fillGradientStops.slice();if(!d.length){const g=p.length+1;for(let y=1;y<g;++y)d.push(y/g)}if(p.unshift(o[0]),d.unshift(0),p.push(o[o.length-1]),d.push(1),r.fillGradientType===cf.LINEAR_VERTICAL){a=e.createLinearGradient(f/2,h,f/2,m+h);let g=0;const y=(s.fontProperties.fontSize+r.strokeThickness)/m;for(let x=0;x<i.length;x++){const w=s.lineHeight*x;for(let T=0;T<p.length;T++){let S=0;typeof d[T]=="number"?S=d[T]:S=T/p.length;const C=w/m+S*y;let b=Math.max(g,C);b=Math.min(b,1),a.addColorStop(b,p[T]),g=b}}}else{a=e.createLinearGradient(h,m/2,f+h,m/2);const g=p.length+1;let y=1;for(let x=0;x<p.length;x++){let w;typeof d[x]=="number"?w=d[x]:w=y/g,a.addColorStop(w,p[x]),y++}}return a}function y3(t,e,r,n,i,s,o){const a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=v3(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const m=o.dropShadowColor,p=o.dropShadowBlur*s,d=o.dropShadowDistance*s;e.shadowColor=We.shared.setValue(m).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,h,f+r.lineHeight-u.descent),o.fill&&e.fillText(a,h,f+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Hh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Ob(t){return Array.from?Array.from(t):t.split("")}function x3(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...Ob(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Hi=class On{constructor(e,r,n){var f;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,u=Ti(o.file),h={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=h;for(let m=0;m<e.page.length;m++){const{id:p,file:d}=e.page[m];h[p]=r instanceof Array?r[m]:r[d],a!=null&&a.fieldType&&a.fieldType!=="none"&&(h[p].baseTexture.alphaMode=gr.NO_PREMULTIPLIED_ALPHA,h[p].baseTexture.mipmap=Zn.OFF)}for(let m=0;m<e.char.length;m++){const{id:p,page:d}=e.char[m];let{x:g,y,width:x,height:w,xoffset:T,yoffset:S,xadvance:C}=e.char[m];g/=u,y/=u,x/=u,w/=u,T/=u,S/=u,C/=u;const b=new Te(g+h[d].frame.x/u,y+h[d].frame.y/u,x,w);this.chars[p]={xOffset:T,yOffset:S,xAdvance:C,kerning:{},texture:new se(h[d].baseTexture,b),page:d}}for(let m=0;m<e.kerning.length;m++){let{first:p,second:d,amount:g}=e.kerning[m];p/=u,d/=u,g/=u,this.chars[d]&&(this.chars[d].kerning[p]=g)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((f=a==null?void 0:a.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Id)i=e;else{const o=g3(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof se&&(r=[r]);const s=new On(i,r,n);return On.available[s.font]=s,s}static uninstall(e){const r=On.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete On.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:u,...h}=Object.assign({},On.defaultOptions,n),f=x3(i),m=r instanceof _r?r:new _r(r),p=a,d=new Id;d.info[0]={face:m.fontFamily,size:m.fontSize},d.common[0]={lineHeight:m.fontSize};let g=0,y=0,x,w,T,S=0;const C=[];for(let I=0;I<f.length;I++){x||(x=le.ADAPTER.createCanvas(),x.width=a,x.height=u,w=x.getContext("2d"),T=new Ee(x,{resolution:o,...h}),C.push(new se(T)),d.page.push({id:C.length-1,file:""}));const R=f[I],P=Xi.measureText(R,m,!1,x),k=P.width,M=Math.ceil(P.height),B=Math.ceil((m.fontStyle==="italic"?2:1)*k);if(y>=u-M*o){if(y===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${R}')`);--I,x=null,w=null,T=null,y=0,g=0,S=0;continue}if(S=Math.max(M+P.fontProperties.descent,S),B*o+g>=p){if(g===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${R}')`);--I,y+=S*o,y=Math.ceil(y),g=0,S=0;continue}y3(x,w,P,g,y,o,m);const F=Hh(P.text);d.char.push({id:F,page:C.length-1,x:g/o,y:y/o,width:B,height:M,xoffset:0,yoffset:0,xadvance:k-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),g+=(B+2*s)*o,g=Math.ceil(g)}if(!(n!=null&&n.skipKerning))for(let I=0,R=f.length;I<R;I++){const P=f[I];for(let k=0;k<R;k++){const M=f[k],B=w.measureText(P).width,F=w.measureText(M).width,N=w.measureText(P+M).width-(B+F);N&&d.kerning.push({first:Hh(P),second:Hh(M),amount:N})}}const b=new On(d,C,!0);return On.available[e]!==void 0&&On.uninstall(e),On.available[e]=b,b}};Hi.ALPHA=[["a","z"],["A","Z"]," "],Hi.NUMERIC=[["0","9"]],Hi.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Hi.ASCII=[[" ","~"]],Hi.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Hi.ALPHANUMERIC},Hi.available={};let $i=Hi;class _3{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Bm=new Me,fw=new eo,Lb=class Ub extends ar{constructor(e,r,n,i=fn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||ei.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=le.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===fn.TRIANGLES&&r.length<Ub.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,u=i.d,h=i.tx,f=i.ty,m=this.vertexData;for(let p=0;p<m.length/2;p++){const d=r[p*2],g=r[p*2+1];m[p*2]=s*d+a*g+h,m[p*2+1]=o*d+u*g+f}if(this._roundPixels){const p=le.RESOLUTION;for(let d=0;d<m.length;++d)m[d]=Math.round(m[d]*p)/p}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new _3(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Bm);const r=this.geometry.getBuffer("aVertexPosition").data,n=fw.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const u=i[a]*2,h=i[a+1]*2,f=i[a+2]*2;if(n[0]=r[u],n[1]=r[u+1],n[2]=r[h],n[3]=r[h+1],n[4]=r[f],n[5]=r[f+1],fw.contains(Bm.x,Bm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};Lb.BATCHABLE_SIZE=100;let vu=Lb;class hf extends ps{constructor(e,r,n){super();const i=new gt(e),s=new gt(r,!0),o=new gt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,_e.FLOAT).addAttribute("aTextureCoord",s,2,!1,_e.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var w3=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,S3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class yu extends Kn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ke.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||gi.from(S3,w3),n),this._colorDirty=!1,this.uvMatrix=new Yv(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new We(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;We.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var E3=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,T3=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const pw=[],mw=[],gw=[],Gb=class zb extends ar{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:u}=Object.assign({},zb.styleDefaults,r);if(!$i.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new We(i),this._font=void 0,this._fontName=a,this._fontSize=u,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new jn(()=>{this.dirty=!0},this,0,0),this._roundPixels=le.ROUND_PIXELS,this.dirty=!0,this._resolution=le.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var B;const e=$i.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Me,s=[],o=[],a=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=Ob(u),f=this._maxWidth*e.size/r,m=e.distanceFieldType==="none"?pw:mw;let p=null,d=0,g=0,y=0,x=-1,w=0,T=0,S=0,C=0;for(let F=0;F<h.length;F++){const N=h[F],U=Hh(N);if(/(?:\s)/.test(N)&&(x=F,w=d,C++),N==="\r"||N===`
`){o.push(d),a.push(-1),g=Math.max(g,d),++y,++T,i.x=0,i.y+=e.lineHeight,p=null,C=0;continue}const H=e.chars[U];if(!H)continue;p&&H.kerning[p]&&(i.x+=H.kerning[p]);const Q=gw.pop()||{texture:se.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Me};Q.texture=H.texture,Q.line=y,Q.charCode=U,Q.position.x=Math.round(i.x+H.xOffset+this._letterSpacing/2),Q.position.y=Math.round(i.y+H.yOffset),Q.prevSpaces=C,s.push(Q),d=Q.position.x+Math.max(H.xAdvance-H.xOffset,H.texture.orig.width),i.x+=H.xAdvance+this._letterSpacing,S=Math.max(S,H.yOffset+H.texture.height),p=U,x!==-1&&f>0&&i.x>f&&(++T,ya(s,1+x-T,1+F-x),F=x,x=-1,o.push(w),a.push(s.length>0?s[s.length-1].prevSpaces:0),g=Math.max(g,w),y++,i.x=0,i.y+=e.lineHeight,p=null,C=0)}const b=h[h.length-1];b!=="\r"&&b!==`
`&&(/(?:\s)/.test(b)&&(d=w),o.push(d),g=Math.max(g,d),a.push(-1));const I=[];for(let F=0;F<=y;F++){let N=0;this._align==="right"?N=g-o[F]:this._align==="center"?N=(g-o[F])/2:this._align==="justify"&&(N=a[F]<0?0:(g-o[F])/a[F]),I.push(N)}const R=s.length,P={},k=[],M=this._activePagesMeshData;m.push(...M);for(let F=0;F<R;F++){const N=s[F].texture,U=N.baseTexture.uid;if(!P[U]){let H=m.pop();if(!H){const W=new hf;let O,V;e.distanceFieldType==="none"?(O=new yu(se.EMPTY),V=fe.NORMAL):(O=new yu(se.EMPTY,{program:gi.from(T3,E3),uniforms:{uFWidth:0}}),V=fe.NORMAL_NPM);const G=new vu(W,O);G.blendMode=V,H={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}H.index=0,H.indexCount=0,H.vertexCount=0,H.uvsCount=0,H.total=0;const{_textureCache:Q}=this;Q[U]=Q[U]||new se(N.baseTexture),H.mesh.texture=Q[U],H.mesh.tint=this._tintColor.value,k.push(H),P[U]=H}P[U].total++}for(let F=0;F<M.length;F++)k.includes(M[F])||this.removeChild(M[F].mesh);for(let F=0;F<k.length;F++)k[F].mesh.parent!==this&&this.addChild(k[F].mesh);this._activePagesMeshData=k;for(const F in P){const N=P[F],U=N.total;if(!(((B=N.indices)==null?void 0:B.length)>6*U)||N.vertices.length<vu.BATCHABLE_SIZE*2)N.vertices=new Float32Array(4*2*U),N.uvs=new Float32Array(4*2*U),N.indices=new Uint16Array(6*U);else{const H=N.total,Q=N.vertices;for(let W=H*4*2;W<Q.length;W++)Q[W]=0}N.mesh.size=6*U}for(let F=0;F<R;F++){const N=s[F];let U=N.position.x+I[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(U=Math.round(U));const H=U*n,Q=N.position.y*n,W=N.texture,O=P[W.baseTexture.uid],V=W.frame,G=W._uvs,j=O.index++;O.indices[j*6+0]=0+j*4,O.indices[j*6+1]=1+j*4,O.indices[j*6+2]=2+j*4,O.indices[j*6+3]=0+j*4,O.indices[j*6+4]=2+j*4,O.indices[j*6+5]=3+j*4,O.vertices[j*8+0]=H,O.vertices[j*8+1]=Q,O.vertices[j*8+2]=H+V.width*n,O.vertices[j*8+3]=Q,O.vertices[j*8+4]=H+V.width*n,O.vertices[j*8+5]=Q+V.height*n,O.vertices[j*8+6]=H,O.vertices[j*8+7]=Q+V.height*n,O.uvs[j*8+0]=G.x0,O.uvs[j*8+1]=G.y0,O.uvs[j*8+2]=G.x1,O.uvs[j*8+3]=G.y1,O.uvs[j*8+4]=G.x2,O.uvs[j*8+5]=G.y2,O.uvs[j*8+6]=G.x3,O.uvs[j*8+7]=G.y3}this._textWidth=g*n,this._textHeight=(i.y+e.lineHeight)*n;for(const F in P){const N=P[F];if(this.anchor.x!==0||this.anchor.y!==0){let W=0;const O=this._textWidth*this.anchor.x,V=this._textHeight*this.anchor.y;for(let G=0;G<N.total;G++)N.vertices[W++]-=O,N.vertices[W++]-=V,N.vertices[W++]-=O,N.vertices[W++]-=V,N.vertices[W++]-=O,N.vertices[W++]-=V,N.vertices[W++]-=O,N.vertices[W++]-=V}this._maxLineHeight=S*n;const U=N.mesh.geometry.getBuffer("aVertexPosition"),H=N.mesh.geometry.getBuffer("aTextureCoord"),Q=N.mesh.geometry.getIndex();U.data=N.vertices,H.data=N.uvs,Q.data=N.indices,U.update(),H.update(),Q.update()}for(let F=0;F<s.length;F++)gw.push(s[F]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=$i.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:u}=this.worldTransform,h=Math.sqrt(s*s+o*o),f=Math.sqrt(a*a+u*u),m=(Math.abs(h)+Math.abs(f))/2,p=this.fontSize/i,d=e._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=m*r*p*d}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=$i.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!$i.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??$i.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=$i.available[this._fontName].distanceFieldType==="none"?pw:mw;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=se.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Gb.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let b3=Gb;const vw={loader:oe.LoadParser,resolver:oe.ResolveParser,cache:oe.CacheParser,detection:oe.DetectionParser};me.handle(oe.Asset,t=>{const e=t.ref;Object.entries(vw).filter(([r])=>!!e[r]).forEach(([r,n])=>me.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(vw).filter(r=>!!e[r]).forEach(r=>me.remove(e[r]))});class C3{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Ga(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function _s(t,e){const r=t.split("?")[0],n=Ot.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const dn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),b0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function Hb(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?Hb(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function A3(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),Hb(t,i,0,r,n)}else n.push(t);return n}const Rd=t=>!Array.isArray(t);class P3{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=dn(e);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){i=u.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof se){const a=r;n.forEach(u=>{a.baseTexture!==se.EMPTY.baseTexture&&Ee.addToCache(a.baseTexture,u),se.addToCache(a,u)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const js=new P3;let I3=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];h.parse&&h.parse&&await((a=h.testParse)==null?void 0:a.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Rd(e),o=dn(e,h=>({alias:[h],src:h})),a=o.length,u=o.map(async h=>{const f=Ot.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,h)),i[h.src]=await this.promiseCache[f].promise,r&&r(++n/a)}catch(m){throw delete this.promiseCache[f],delete i[h.src],new Error(`[Loader.load] Failed to load ${f}.
${m}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const r=dn(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Ot.toAbsolute(n.src),s=this.promiseCache[i];if(s){const u=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,u,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}};var _n=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(_n||{});const R3=".json",M3="application/json",k3={extension:{type:oe.LoadParser,priority:_n.Low},name:"loadJson",test(t){return Ga(t,M3)||_s(t,R3)},async load(t){return await(await le.ADAPTER.fetch(t)).json()}};me.add(k3);const D3=".txt",F3="text/plain",N3={name:"loadTxt",extension:{type:oe.LoadParser,priority:_n.Low},test(t){return Ga(t,F3)||_s(t,D3)},async load(t){return await(await le.ADAPTER.fetch(t)).text()}};me.add(N3);const B3=["normal","bold","100","200","300","400","500","600","700","800","900"],O3=[".ttf",".otf",".woff",".woff2"],L3=["font/ttf","font/otf","font/woff","font/woff2"],U3=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function G3(t){const e=Ot.extname(t),r=Ot.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(U3)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const z3=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function H3(t){return z3.test(t)?t:encodeURI(t)}const $3={extension:{type:oe.LoadParser,priority:_n.Low},name:"loadWebFont",test(t){return Ga(t,L3)||_s(t,O3)},async load(t,e){var n,i,s;const r=le.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??G3(t),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>B3.includes(f)))??["normal"],h=e.data??{};for(let f=0;f<u.length;f++){const m=u[f],p=new FontFace(a,`url(${H3(t)})`,{...h,weight:m});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>le.ADAPTER.getFontFaceSet().delete(e))}};me.add($3);const V3=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let _a=null,C0=class{constructor(){_a||(_a=URL.createObjectURL(new Blob([V3],{type:"application/javascript"}))),this.worker=new Worker(_a)}};C0.revokeObjectURL=function(){_a&&(URL.revokeObjectURL(_a),_a=null)};const j3=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let wa=null;class $b{constructor(){wa||(wa=URL.createObjectURL(new Blob([j3],{type:"application/javascript"}))),this.worker=new Worker(wa)}}$b.revokeObjectURL=function(){wa&&(URL.revokeObjectURL(wa),wa=null)};let yw=0,Om;class W3{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new C0;r.addEventListener("message",n=>{r.terminate(),C0.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Om===void 0&&(Om=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Om&&(this._createdWorkers++,e=new $b().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[yw]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:yw++,id:n})}}const xw=new W3;function Ru(t,e,r){t.resource.internal=!0;const n=new se(t),i=()=>{delete e.promiseCache[r],js.has(r)&&js.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const X3=[".jpeg",".jpg",".png",".webp",".avif"],Y3=["image/jpeg","image/png","image/webp","image/avif"];async function Q3(t){const e=await le.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const df={name:"loadTextures",extension:{type:oe.LoadParser,priority:_n.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Ga(t,Y3)||_s(t,X3)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await xw.isImageBitmapSupported()?i=await xw.loadImageBitmap(t):i=await Q3(t):i=await new Promise((u,h)=>{const f=new Image;f.crossOrigin=this.config.crossOrigin,f.src=t,f.complete?u(f):(f.onload=()=>u(f),f.onerror=m=>h(m))});const s={...e.data};s.resolution??(s.resolution=Ti(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Ee(i,s);return o.resource.src=t,Ru(o,r,t)},unload(t){t.destroy(!0)}};me.add(df);const K3=".svg",Z3="image/svg+xml",q3={extension:{type:oe.LoadParser,priority:_n.High},name:"loadSVG",test(t){return Ga(t,Z3)||_s(t,K3)},async testParse(t){return y0.test(t)},async parse(t,e,r){var s;const n=new y0(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ee(n,{resolution:Ti(t),...e==null?void 0:e.data});return i.resource.src=e.src,Ru(i,r,e.src)},async load(t,e){return(await le.ADAPTER.fetch(t)).text()},unload:df.unload};me.add(q3);const J3=[".mp4",".m4v",".webm",".ogv"],eF=["video/mp4","video/webm","video/ogg"],tF={name:"loadVideo",extension:{type:oe.LoadParser,priority:_n.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return Ga(t,eF)||_s(t,J3)},async load(t,e,r){var o;let n;const i=await(await le.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},u=new Db(s,a);await u.load();const h=new Ee(u,{alphaMode:await wk(),resolution:Ti(t),...e==null?void 0:e.data});h.resource.src=t,n=Ru(h,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};me.add(tF);class rF{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return dn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const u=this._createBundleAssetId(e,o);n.push(u),a=[o,u]}else{const u=o.map(h=>this._createBundleAssetId(e,h));n.push(...u),a=[...o,...u]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Re("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=u=>{this.hasKey(u)&&console.warn(`[Resolver] already has key: ${u} overwriting`)},dn(o).forEach(u=>{const{src:h,srcs:f}=u;let{data:m,format:p,loadParser:d}=u;const g=dn(h||f).map(w=>typeof w=="string"?A3(w):Array.isArray(w)?w:[w]),y=this.getAlias(u);Array.isArray(y)?y.forEach(a):a(y);const x=[];g.forEach(w=>{w.forEach(T=>{let S={};if(typeof T!="object"){S.src=T;for(let C=0;C<this._parsers.length;C++){const b=this._parsers[C];if(b.test(T)){S=b.parse(T);break}}}else m=T.data??m,p=T.format??p,d=T.loadParser??d,S={...S,...T};if(!y)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this.buildResolvedAsset(S,{aliases:y,data:m,format:p,loadParser:d}),x.push(S)})}),y.forEach(w=>{this._assetMap[w]=x})})}resolveBundle(e){const r=Rd(e);e=dn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const h=o[u];a[this._extractAssetIdFromBundle(i,u)]=h}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Rd(e);e=dn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(u=>{a.params[u].forEach(h=>{const f=s.filter(m=>m[u]?m[u]===h:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ot.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Ot.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class nF{constructor(){this._detections=[],this._initialized=!1,this.resolver=new rF,this.loader=new I3,this.cache=js,this._backgroundLoader=new C3(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Rd(e),i=dn(e).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(h=>!this.resolver.hasKey(h))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const h=()=>{r==null||r(++a/u)},f=o.map(m=>{const p=i[m];return u+=Object.keys(p).length,this._mapLoadToResolve(p,h).then(d=>{s[m]=d})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return js.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=js.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,u)=>{const h=s[a.src],f=[a.src];a.alias&&f.push(...a.alias),o[i[u]]=h,js.set(f,h)}),o}async unload(e){this._initialized||await this.init();const r=dn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=dn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{js.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return df.config.preferWorkers}set preferWorkers(e){Re("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const $n=new nF;me.handleByList(oe.LoadParser,$n.loader.parsers).handleByList(oe.ResolveParser,$n.resolver.parsers).handleByList(oe.CacheParser,$n.cache.parsers).handleByList(oe.DetectionParser,$n.detections);const iF={extension:oe.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof se),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};me.add(iF);async function Vb(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const sF={extension:{type:oe.DetectionParser,priority:1},test:async()=>Vb("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};me.add(sF);const oF={extension:{type:oe.DetectionParser,priority:0},test:async()=>Vb("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};me.add(oF);const _w=["png","jpg","jpeg"],aF={extension:{type:oe.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,..._w],remove:async t=>t.filter(e=>!_w.includes(e))};me.add(aF);const lF="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function qv(t){return lF?!1:document.createElement("video").canPlayType(t)!==""}const uF={extension:{type:oe.DetectionParser,priority:0},test:async()=>qv("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};me.add(uF);const cF={extension:{type:oe.DetectionParser,priority:0},test:async()=>qv("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};me.add(cF);const hF={extension:{type:oe.DetectionParser,priority:0},test:async()=>qv("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};me.add(hF);const dF={extension:oe.ResolveParser,test:df.test,parse:t=>{var e;return{resolution:parseFloat(((e=le.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ot.extname(t).slice(1),src:t}}};me.add(dF);const fF=[".xml",".fnt"],pF={extension:{type:oe.LoadParser,priority:_n.Normal},name:"loadBitmapFont",test(t){return fF.includes(Ot.extname(t).toLowerCase())},async testParse(t){return zh.test(t)||T0.test(t)},async parse(t,e,r){const n=zh.test(t)?zh.parse(t):T0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const f=s[h].file;let m=Ot.join(Ot.dirname(i),f);m=b0(m,i),o.push(m)}const a=await r.load(o),u=o.map(h=>a[h]);return $i.install(n,u,!0)},async load(t,e){return(await le.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};me.add(pF);const Md={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===$t.CIRC){const g=t.shape;r=g.x,n=g.y,o=a=g.radius,i=s=0}else if(t.type===$t.ELIP){const g=t.shape;r=g.x,n=g.y,o=g.width,a=g.height,i=s=0}else{const g=t.shape,y=g.width/2,x=g.height/2;r=g.x+y,n=g.y+x,o=a=Math.max(0,Math.min(g.radius,Math.min(y,x))),i=y-o,s=x-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),h=u*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(u===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,m=u*4+(i?2:0)+2,p=m,d=h;{const g=i+o,y=s,x=r+g,w=r-g,T=n+y;if(e[f++]=x,e[f++]=T,e[--m]=T,e[--m]=w,s){const S=n-y;e[p++]=w,e[p++]=S,e[--d]=S,e[--d]=x}}for(let g=1;g<u;g++){const y=Math.PI/2*(g/u),x=i+Math.cos(y)*o,w=s+Math.sin(y)*a,T=r+x,S=r-x,C=n+w,b=n-w;e[f++]=T,e[f++]=C,e[--m]=C,e[--m]=S,e[p++]=S,e[p++]=b,e[--d]=b,e[--d]=T}{const g=i,y=s+a,x=r+g,w=r-g,T=n+y,S=n-y;e[f++]=x,e[f++]=T,e[--d]=S,e[--d]=x,i&&(e[f++]=w,e[f++]=T,e[--d]=S,e[--d]=w)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,u;if(t.type!==$t.RREC){const f=t.shape;a=f.x,u=f.y}else{const f=t.shape;a=f.x+f.width/2,u=f.y+f.height/2}const h=t.matrix;n.push(t.matrix?h.a*a+h.c*u+h.tx:a,t.matrix?h.b*a+h.d*u+h.ty:u),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function ww(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],u=t[i+1];n+=(a-s)*(u+o),s=a,o=u}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,u=s,h=s+1;[t[o],t[u]]=[t[u],t[o]],[t[a],t[h]]=[t[h],t[a]]}}}const jb={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){ww(r,!1);const o=[];for(let h=0;h<n.length;h++){const f=n[h];ww(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const a=HR(r,o,2);if(!a)return;const u=i.length/2;for(let h=0;h<a.length;h+=3)s.push(a[h]+u),s.push(a[h+1]+u),s.push(a[h+2]+u);for(let h=0;h<r.length;h++)i.push(r[h])}}},mF={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},gF={build(t){Md.build(t)},triangulate(t,e){Md.triangulate(t,e)}};var $r=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))($r||{}),ts=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(ts||{});const Fa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Sw{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,h=a-e,f=i-r,m=n-e,p=Math.abs(u*m-h*f);if(p<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const d=u*u+h*h,g=f*f+m*m,y=u*f+h*m,x=s*Math.sqrt(d)/p,w=s*Math.sqrt(g)/p,T=x*y/d,S=w*y/g,C=x*m+w*h,b=x*f+w*u,I=h*(w+T),R=u*(w+T),P=m*(x+S),k=f*(x+S),M=Math.atan2(R-b,I-C),B=Math.atan2(k-b,P-C);return{cx:C+e,cy:b+r,radius:s,startAngle:M,endAngle:B,anticlockwise:h*f>m*u}}static arc(e,r,n,i,s,o,a,u,h){const f=a-o,m=Fa._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/Ed)*40),p=f/(m*2),d=p*2,g=Math.cos(p),y=Math.sin(p),x=m-1,w=x%1/x;for(let T=0;T<=x;++T){const S=T+w*T,C=p+o+d*S,b=Math.cos(C),I=-Math.sin(C);h.push((g*b+y*I)*s+n,(g*-I+y*b)*s+i)}}}class vF{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Jv{static curveLength(e,r,n,i,s,o,a,u){let h=0,f=0,m=0,p=0,d=0,g=0,y=0,x=0,w=0,T=0,S=0,C=e,b=r;for(let I=1;I<=10;++I)f=I/10,m=f*f,p=m*f,d=1-f,g=d*d,y=g*d,x=y*e+3*g*f*n+3*d*m*s+p*a,w=y*r+3*g*f*i+3*d*m*o+p*u,T=C-x,S=b-w,C=x,b=w,h+=Math.sqrt(T*T+S*S);return h}static curveTo(e,r,n,i,s,o,a){const u=a[a.length-2],h=a[a.length-1];a.length-=2;const f=Fa._segmentsCount(Jv.curveLength(u,h,e,r,n,i,s,o));let m=0,p=0,d=0,g=0,y=0;a.push(u,h);for(let x=1,w=0;x<=f;++x)w=x/f,m=1-w,p=m*m,d=p*m,g=w*w,y=g*w,a.push(d*u+3*p*w*e+3*m*g*n+y*s,d*h+3*p*w*r+3*m*g*i+y*o)}}function Ew(t,e,r,n,i,s,o,a){const u=t-r*i,h=e-n*i,f=t+r*s,m=e+n*s;let p,d;o?(p=n,d=-r):(p=-n,d=r);const g=u+p,y=h+d,x=f+p,w=m+d;return a.push(g,y,x,w),2}function Fs(t,e,r,n,i,s,o,a){const u=r-t,h=n-e;let f=Math.atan2(u,h),m=Math.atan2(i-t,s-e);a&&f<m?f+=Math.PI*2:!a&&f>m&&(m+=Math.PI*2);let p=f;const d=m-f,g=Math.abs(d),y=Math.sqrt(u*u+h*h),x=(15*g*Math.sqrt(y)/Math.PI>>0)+1,w=d/x;if(p+=w,a){o.push(t,e,r,n);for(let T=1,S=p;T<x;T++,S+=w)o.push(t,e,t+Math.sin(S)*y,e+Math.cos(S)*y);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let T=1,S=p;T<x;T++,S+=w)o.push(t+Math.sin(S)*y,e+Math.cos(S)*y,t,e);o.push(i,s,t,e)}return x*2}function yF(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Me(n[0],n[1]),a=new Me(n[n.length-2],n[n.length-1]),u=r.type!==$t.POLY||r.closeStroke,h=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),h&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const W=(o.x+a.x)*.5,O=(a.y+o.y)*.5;n.unshift(W,O),n.push(W,O)}const f=e.points,m=n.length/2;let p=n.length;const d=f.length/2,g=s.width/2,y=g*g,x=s.miterLimit*s.miterLimit;let w=n[0],T=n[1],S=n[2],C=n[3],b=0,I=0,R=-(T-C),P=w-S,k=0,M=0,B=Math.sqrt(R*R+P*P);R/=B,P/=B,R*=g,P*=g;const F=s.alignment,N=(1-F)*2,U=F*2;u||(s.cap===ts.ROUND?p+=Fs(w-R*(N-U)*.5,T-P*(N-U)*.5,w-R*N,T-P*N,w+R*U,T+P*U,f,!0)+2:s.cap===ts.SQUARE&&(p+=Ew(w,T,R,P,N,U,!0,f))),f.push(w-R*N,T-P*N,w+R*U,T+P*U);for(let W=1;W<m-1;++W){w=n[(W-1)*2],T=n[(W-1)*2+1],S=n[W*2],C=n[W*2+1],b=n[(W+1)*2],I=n[(W+1)*2+1],R=-(T-C),P=w-S,B=Math.sqrt(R*R+P*P),R/=B,P/=B,R*=g,P*=g,k=-(C-I),M=S-b,B=Math.sqrt(k*k+M*M),k/=B,M/=B,k*=g,M*=g;const O=S-w,V=T-C,G=S-b,j=I-C,Z=O*G+V*j,ge=V*G-j*O,ue=ge<0;if(Math.abs(ge)<.001*Math.abs(Z)){f.push(S-R*N,C-P*N,S+R*U,C+P*U),Z>=0&&(s.join===$r.ROUND?p+=Fs(S,C,S-R*N,C-P*N,S-k*N,C-M*N,f,!1)+4:p+=2,f.push(S-k*U,C-M*U,S+k*N,C+M*N));continue}const be=(-R+w)*(-P+C)-(-R+S)*(-P+T),xe=(-k+b)*(-M+C)-(-k+S)*(-M+I),Ce=(O*xe-G*be)/ge,Ue=(j*be-V*xe)/ge,St=(Ce-S)*(Ce-S)+(Ue-C)*(Ue-C),Ze=S+(Ce-S)*N,Ae=C+(Ue-C)*N,$e=S-(Ce-S)*U,De=C-(Ue-C)*U,Wt=Math.min(O*O+V*V,G*G+j*j),ut=ue?N:U,wn=Wt+ut*ut*y,Ss=St<=wn;let ri=s.join;if(ri===$r.MITER&&St/y>x&&(ri=$r.BEVEL),Ss)switch(ri){case $r.MITER:{f.push(Ze,Ae,$e,De);break}case $r.BEVEL:{ue?f.push(Ze,Ae,S+R*U,C+P*U,Ze,Ae,S+k*U,C+M*U):f.push(S-R*N,C-P*N,$e,De,S-k*N,C-M*N,$e,De),p+=2;break}case $r.ROUND:{ue?(f.push(Ze,Ae,S+R*U,C+P*U),p+=Fs(S,C,S+R*U,C+P*U,S+k*U,C+M*U,f,!0)+4,f.push(Ze,Ae,S+k*U,C+M*U)):(f.push(S-R*N,C-P*N,$e,De),p+=Fs(S,C,S-R*N,C-P*N,S-k*N,C-M*N,f,!1)+4,f.push(S-k*N,C-M*N,$e,De));break}}else{switch(f.push(S-R*N,C-P*N,S+R*U,C+P*U),ri){case $r.MITER:{ue?f.push($e,De,$e,De):f.push(Ze,Ae,Ze,Ae),p+=2;break}case $r.ROUND:{ue?p+=Fs(S,C,S+R*U,C+P*U,S+k*U,C+M*U,f,!0)+2:p+=Fs(S,C,S-R*N,C-P*N,S-k*N,C-M*N,f,!1)+2;break}}f.push(S-k*N,C-M*N,S+k*U,C+M*U),p+=2}}w=n[(m-2)*2],T=n[(m-2)*2+1],S=n[(m-1)*2],C=n[(m-1)*2+1],R=-(T-C),P=w-S,B=Math.sqrt(R*R+P*P),R/=B,P/=B,R*=g,P*=g,f.push(S-R*N,C-P*N,S+R*U,C+P*U),u||(s.cap===ts.ROUND?p+=Fs(S-R*(N-U)*.5,C-P*(N-U)*.5,S-R*N,C-P*N,S+R*U,C+P*U,f,!1)+2:s.cap===ts.SQUARE&&(p+=Ew(S,C,R,P,N,U,!1,f)));const H=e.indices,Q=Fa.epsilon*Fa.epsilon;for(let W=d;W<p+d-2;++W)w=f[W*2],T=f[W*2+1],S=f[(W+1)*2],C=f[(W+1)*2+1],b=f[(W+2)*2],I=f[(W+2)*2+1],!(Math.abs(w*(C-I)+S*(I-T)+b*(T-C))<Q)&&H.push(W,W+1,W+2)}function xF(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==$t.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,u=i.length/2,h=o.length/2;let f=h;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(f,f+1),f++;s&&a.push(f,h)}function Tw(t,e){t.lineStyle.native?xF(t,e):yF(t,e)}class ey{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,u=r-2*i+o,h=2*n-2*e,f=2*i-2*r,m=4*(a*a+u*u),p=4*(a*h+u*f),d=h*h+f*f,g=2*Math.sqrt(m+p+d),y=Math.sqrt(m),x=2*m*y,w=2*Math.sqrt(d),T=p/y;return(x*g+y*p*(g-w)+(4*d*m-p*p)*Math.log((2*y+T+g)/(T+w)))/(4*x)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],u=Fa._segmentsCount(ey.curveLength(o,a,e,r,n,i));let h=0,f=0;for(let m=1;m<=u;++m){const p=m/u;h=o+(e-o)*p,f=a+(r-a)*p,s.push(h+(e+(n-e)*p-h)*p,f+(r+(i-r)*p-f)*p)}}}const Lm={[$t.POLY]:jb,[$t.CIRC]:Md,[$t.ELIP]:Md,[$t.RECT]:mF,[$t.RREC]:gF},bw=[],ih=[];class kd{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new kd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Uo=new Me,Wb=class Xb extends ZT{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Pd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ih.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),bw.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new kd(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new kd(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,Uo):Uo.copyFrom(e),i.shape.contains(Uo.x,Uo.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Uo.x,Uo.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let u=this.shapeIndex;u<r.length;u++){this.shapeIndex++;const h=r[u],f=h.fillStyle,m=h.lineStyle;Lm[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(f.visible||m.visible)&&this.processHoles(h.holes);for(let p=0;p<2;p++){const d=p===0?f:m;if(!d.visible)continue;const g=d.texture.baseTexture,y=this.indices.length,x=this.points.length/2;g.wrapMode=yi.REPEAT,p===0?this.processFill(h):this.processLine(h);const w=this.points.length/2-x;w!==0&&(n&&!this._compareStyles(i,d)&&(n.end(y,x),n=null),n||(n=bw.pop()||new vF,n.begin(d,y,x),this.batches.push(n),i=d),this.addUvs(this.points,e,d.texture,x,w,d.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<Xb.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ee._globalBatch;for(let m=0;m<this.drawCalls.length;m++)this.drawCalls[m].texArray.clear(),ih.push(this.drawCalls[m]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=ih.pop();i||(i=new l0,i.texArray=new d0),i.texArray.count=0,i.start=0,i.size=0,i.type=fn.TRIANGLES;let s=0,o=null,a=0,u=!1,h=fn.TRIANGLES,f=0;this.drawCalls.push(i);for(let m=0;m<this.batches.length;m++){const p=this.batches[m],d=8,g=p.style,y=g.texture.baseTexture;u!==!!g.native&&(u=!!g.native,h=u?fn.LINES:fn.TRIANGLES,o=null,s=d,e++),o!==y&&(o=y,y._batchEnabled!==e&&(s===d&&(e++,s=0,i.size>0&&(i=ih.pop(),i||(i=new l0,i.texArray=new d0),this.drawCalls.push(i)),i.start=f,i.size=0,i.texArray.count=0,i.type=h),y.touched=1,y._batchEnabled=e,y._batchLocation=s,y.wrapMode=yi.REPEAT,i.texArray.elements[i.texArray.count++]=y,s++)),i.size+=p.size,f+=p.size,a=y._batchLocation,this.addColors(r,g.color,g.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,a,p.attribSize,p.attribStart)}Ee._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let u=0;for(let h=0;h<e.length/2;h++)o[u++]=e[h*2],o[u++]=e[h*2+1],o[u++]=r[h*2],o[u++]=r[h*2+1],a[u++]=n[h],o[u++]=i[h];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?jb.triangulate(e,this):Lm[e.type].triangulate(e,this)}processLine(e){Tw(e,this);for(let r=0;r<e.holes.length;r++)Tw(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Lm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=We.shared.setValue(r).toLittleEndianNumber(),a=We.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let u=0;u<i;u++)e[s+u]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const u=r.length,h=n.frame;for(;a<s;){let m=e[(i+a)*2],p=e[(i+a)*2+1];if(o){const d=o.a*m+o.c*p+o.tx;p=o.b*m+o.d*p+o.ty,m=d}a++,r.push(m/h.width,p/h.height)}const f=n.baseTexture;(h.width<f.width||h.height<f.height)&&this.adjustUvs(r,n,u,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,u=r.frame,h=u.width/s.width,f=u.height/s.height;let m=u.x/u.width,p=u.y/u.height,d=Math.floor(e[n]+o),g=Math.floor(e[n+1]+o);for(let y=n+2;y<a;y+=2)d=Math.min(d,Math.floor(e[y]+o)),g=Math.min(g,Math.floor(e[y+1]+o));m-=d,p-=g;for(let y=n;y<a;y+=2)e[y]=(e[y]+m)*h,e[y+1]=(e[y+1]+p)*f}};Wb.BATCHABLE_SIZE=100;let _F=Wb;class ff{constructor(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new ff;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class ty extends ff{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ts.BUTT,this.join=$r.MITER,this.miterLimit=10}clone(){const e=new ty;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=ts.BUTT,this.join=$r.MITER,this.miterLimit=10}}const Um={},A0=class $h extends ar{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new ff,this._lineStyle=new ty,this._matrix=null,this._holeMode=!1,this.state=ei.for2d(),this._geometry=e||new _F,this._geometry.refCount++,this._transformID=-1,this._tintColor=new We(16777215),this.blendMode=fe.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new $h(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:se.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ts.BUTT,join:$r.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new eo,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new eo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),ey.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),Jv.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=Sw.curveTo(e,r,n,i,s,o);if(a){const{cx:u,cy:h,radius:f,startAngle:m,endAngle:p,anticlockwise:d}=a;this.arc(u,h,f,m,p,d)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Ed:o&&i<=s&&(i+=Ed),s-i===0)return this;const a=e+Math.cos(i)*n,u=r+Math.sin(i)*n,h=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const m=Math.abs(f[f.length-2]-a),p=Math.abs(f[f.length-1]-u);m<h&&p<h||f.push(a,u)}else this.moveTo(a,u),f=this.currentPath.points;return Sw.arc(a,u,e,r,n,i,s,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:se.WHITE,color:e,alpha:r})}normalizeColor(e){const r=We.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:se.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Te(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new af(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new sf(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new of(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new eo(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===$t.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),u=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),h=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),f={vertexData:a,blendMode:r,indices:h,uvs:u,_batchRGB:We.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,We.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,u=o.length;a<u;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let u=0;u<a;u++)e.texture.bind(n.elements[u],u);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Um[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=u;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:yn.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;Um[n]=new Kn(a,o)}r=Um[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,$h._TEMP_POINT),this._geometry.containsPoint($h._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=We.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,h=this._geometry.points,f=this.vertexData;let m=0;for(let p=0;p<h.length;p+=2){const d=h[p],g=h[p+1];f[m++]=n*d+s*g+a,f[m++]=o*g+i*d+u}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};A0.curves=Fa,A0._TEMP_POINT=new Me;let Ql=A0;class wF extends hf{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let f=0;f<e;f++){const m=f%this.segWidth,p=f/this.segWidth|0;r.push(m*a,p*u),n.push(m/s,p/o)}const h=s*o;for(let f=0;f<h;f++){const m=f%s,p=f/s|0,d=p*this.segWidth+m,g=p*this.segWidth+m+1,y=(p+1)*this.segWidth+m,x=(p+1)*this.segWidth+m+1;i.push(d,g,y,g,x,y)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class SF extends hf{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const h=this._width*this.textureScale,f=e.length;for(let p=0;p<f;p++){const d=p*4;if(this.textureScale>0){const g=u.x-e[p].x,y=u.y-e[p].y,x=Math.sqrt(g*g+y*y);u=e[p],a+=x/h}else a=p/(f-1);s[d]=a,s[d+1]=0,s[d+2]=a,s[d+3]=1}let m=0;for(let p=0;p<f-1;p++){const d=p*2;o[m++]=d,o[m++]=d+1,o[m++]=d+2,o[m++]=d+2,o[m++]=d+1,o[m++]=d+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<a;h++){const f=e[h],m=h*4;h<e.length-1?n=e[h+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=u,s*=u),o[m]=f.x+i,o[m+1]=f.y+s,o[m+2]=f.x-i,o[m+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class EF extends vu{constructor(e,r,n){const i=new wF(e.width,e.height,r,n),s=new yu(se.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const sh=10;class TF extends EF{constructor(e,r,n,i,s){var o,a,u,h;super(se.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??sh,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??sh,this._topHeight=n??((u=e.defaultBorders)==null?void 0:u.top)??sh,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??sh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class bF extends vu{constructor(e=se.EMPTY,r,n,i,s){const o=new hf(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new yu(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class CF extends vu{constructor(e,r,n=0){const i=new SF(e.height,r,n),s=new yu(e);n>0&&(e.baseTexture.wrapMode=yi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class AF extends ar{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=fe.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new We(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Cw{constructor(e,r,n){this.geometry=new ps,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||_e.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new gt(Nk(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new gt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new gt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===_e.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===_e.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===_e.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===_e.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var PF=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,IF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Yb extends uf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ke,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:_e.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Kn.from(IF,PF,{}),this.state=ei.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const u=r[0]._texture.baseTexture,h=u.alphaMode>0;this.state.blendMode=YT(e.blendMode,h),s.state.set(this.state);const f=s.gl,m=e.worldTransform.copyTo(this.tempMatrix);m.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=m.toArray(!0),this.shader.uniforms.uColor=We.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let p=!1;for(let d=0,g=0;d<o;d+=i,g+=1){let y=o-d;y>i&&(y=i),g>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[g];x.uploadDynamic(r,d,y);const w=e._bufferUpdateIDs[g]||0;p=p||x._updateID<w,p&&(x._updateID=e._updateID,x.uploadStatic(r,d,y)),s.geometry.bind(x.geometry),f.drawElements(f.TRIANGLES,y*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Cw(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Cw(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,u=0,h=0,f=0;for(let m=0;m<n;++m){const p=e[r+m],d=p._texture,g=p.scale.x,y=p.scale.y,x=d.trim,w=d.orig;x?(u=x.x-p.anchor.x*w.width,a=u+x.width,f=x.y-p.anchor.y*w.height,h=f+x.height):(a=w.width*(1-p.anchor.x),u=w.width*-p.anchor.x,h=w.height*(1-p.anchor.y),f=w.height*-p.anchor.y),i[o]=u*g,i[o+1]=f*y,i[o+s]=a*g,i[o+s+1]=f*y,i[o+s*2]=a*g,i[o+s*2+1]=h*y,i[o+s*3]=u*g,i[o+s*3+1]=h*y,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a],h=We.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Yb.extension={name:"particle",type:oe.RendererPlugin};me.add(Yb);class xu extends ti{constructor(e,r=!0){super(e[0]instanceof se?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Nt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Nt.shared.add(this.update,this,ms.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(se.from(e[n]));return new xu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(se.from(e[n]));return new xu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof se)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Nt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Nt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const _l=new Me;class ry extends ti{constructor(e,r=100,n=100){super(e),this.tileTransform=new lf,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Yv(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Te),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,_l);const r=this._width,n=this._height,i=-r*this.anchor._x;if(_l.x>=i&&_l.x<i+r){const s=-n*this.anchor._y;if(_l.y>=s&&_l.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof se?e:se.from(e,r);return new ry(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var RF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,MF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,kF=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Aw=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,DF=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const oh=new Ke;class Qb extends uf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new ab,this.state=ei.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Kn.from(Aw,DF,r),this.shader=e.context.webGLVersion>1?Kn.from(MF,RF,r):Kn.from(Aw,kF,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,u=a.baseTexture,h=u.alphaMode>0,f=e.tileTransform.localTransform,m=e.uvMatrix;let p=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;p&&(u._glTextures[r.CONTEXT_UID]?p=u.wrapMode!==yi.CLAMP:u.wrapMode===yi.CLAMP&&(u.wrapMode=yi.REPEAT));const d=p?this.simpleShader:this.shader,g=a.width,y=a.height,x=e._width,w=e._height;oh.set(f.a*g/x,f.b*g/w,f.c*y/x,f.d*y/w,f.tx/x,f.ty/w),oh.invert(),p?oh.prepend(m.mapCoord):(d.uniforms.uMapCoord=m.mapCoord.toArray(!0),d.uniforms.uClampFrame=m.uClampFrame,d.uniforms.uClampOffset=m.uClampOffset),d.uniforms.uTransform=oh.toArray(!0),d.uniforms.uColor=We.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(d.uniforms.uColor),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,r.shader.bind(d),r.geometry.bind(n),this.state.blendMode=YT(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Qb.extension={name:"tilingSprite",type:oe.RendererPlugin};me.add(Qb);const Kb=class P0{constructor(e){this.stage=new ar,e=Object.assign({forceCanvas:!1},e),this.renderer=e3(e),P0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=P0._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Kb._plugins=[];let pf=Kb;me.handleByList(oe.Application,pf._plugins);class Zb{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Zb.extension=oe.Application;me.add(Zb);var qb={exports:{}},FF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NF=FF,BF=NF;function Jb(){}function eC(){}eC.resetWarningCache=Jb;var OF=function(){function t(n,i,s,o,a,u){if(u!==BF){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eC,resetWarningCache:Jb};return r.PropTypes=r,r};qb.exports=OF();var LF=qb.exports;const Ye=wu(LF);function Rr(t){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(t)}function tC(t){var e=function(r,n){if(Rr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Rr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Rr(e)==="symbol"?e:String(e)}function mt(t,e,r){return(e=tC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gm(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ci(t){return function(e){if(Array.isArray(e))return Gm(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Gm(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gm(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var UF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zF=function(t){return t==null};function Rl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Ci(t);else{if(t===null||Rr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!zF(r)&&!isNaN(r)}).map(Number)}function Pw(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function zm(t){return t instanceof Me||t instanceof jn}var Dd=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Hm(t,e,r){if(zm(t[e])&&zm(r))t[e].copyFrom(r);else if(zm(t[e])){var n=Rl(r);dt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Rr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Go,rC=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},nC=function(t){return function(){return!t.apply(void 0,arguments)}},I0="children",HF=(mt(Go={},I0,!0),mt(Go,"parent",!0),mt(Go,"worldAlpha",!0),mt(Go,"worldTransform",!0),mt(Go,"worldVisible",!0),Go),R0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},qn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,h;a==null||(u=a.__reactpixi)===null||u===void 0||(h=u.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return dt(u.typeofs.some(function(h){return Rr(r[a])===h})||u.instanceofs.some(function(h){return r[a]instanceof h}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return dt(r.texture instanceof se,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,se]});dt(!!s,"".concat(t," could not get texture from props"));var o=se.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},$F=nC(rC([].concat(Ci(Object.keys(HF)),Ci(Dd))));function Jn(t,e,r){var n=!1;if(dt(rt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Rr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Dd.length;o++){var a=Dd[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var u=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<u.length;h++){var f=u[h];e[f]!==r[f]&&(n=!0,Hm(t,f,r[f]))}return n}for(var m=u.filter($F),p=0;p<m.length;p++){var d=m[p],g=r[d];r[d]!==e[d]&&(n=!0),g!==void 0?Hm(t,d,g):d in R0?(console.warn("setting default value: ".concat(d,", from: ").concat(t[d]," to: ").concat(g," for"),t),n=!0,Hm(t,d,R0[d])):console.warn("ignoring prop: ".concat(d,", from ").concat(t[d]," to ").concat(g," for"),t)}return n}var VF=function(t,e){var r=e.text,n=e.style;return new b3(r,n)},jF=function(){return new ar};function ws(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,h,f={},m=Object.keys(o);for(h=0;h<m.length;h++)u=m[h],a.indexOf(u)>=0||(f[u]=o[u]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var WF=["draw","geometry"],XF=function(t,e){var r=e.geometry;dt(!r||r instanceof Ql,"Graphics geometry needs to be a `Graphics`");var n=r?new Ql(r.geometry):new Ql;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=Jn(i,s,ws(o,WF));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},YF=["image","texture"],QF=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,u=e.bottomHeight,h=u===void 0?10:u,f=qn("NineSlicePlane",t,e),m=new TF(f,n,s,a,h);return m.applyProps=function(p,d,g){var y=g.image,x=g.texture,w=Jn(p,d,ws(g,YF));return(y||x)&&(x!==d.texture&&(w=!0),p.texture=qn("NineSlicePlane",t,g)),w},m};function Iw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ah(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Iw(Object(r),!0).forEach(function(n){mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KF=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,u=ah(ah({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=ah(ah({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new AF(n,u,s,a);return f.willUnmount=function(m,p,d){m.destroy(h)},f},ZF=["image","texture"],qF=function(t,e){var r=new ti(qn("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=Jn(n,i,ws(s,ZF));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=qn("Sprite",t,s)),u},r},JF=["textures","isPlaying","initialFrame","images"],eN=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(h){return h.map(function(f){return dt(f instanceof se||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),f})},u=n?xu.fromImages(n):new xu(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(h,f,m){var p=m.textures,d=m.isPlaying,g=m.initialFrame,y=m.images,x=Jn(h,f,ws(m,JF));if(y&&f.images!==y){for(var w=[],T=0;T<y.length;++T)w.push(se.from(y[T]));h.textures=w,x=!0}if(p&&f.textures!==p&&(h.textures=a(p),x=!0),d!==f.isPlaying||g!==f.initialFrame){var S=typeof g=="number"?g:u.currentFrame||0;u[d?"gotoAndPlay":"gotoAndStop"](S),x=!0}return x},u},tN=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new Zv(n,s);return o?(a.updateText(),new ti(a.texture)):a},rN=["tileScale","tilePosition","image","texture"],nN=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=qn("TilingSprite",t,e),a=new ry(o,n,s);return a.applyProps=function(u,h,f){var m=f.tileScale,p=f.tilePosition,d=f.image,g=f.texture,y=Jn(u,h,ws(f,rN));if(p){var x,w=Rl(p);(x=u.tilePosition).set.apply(x,Ci(w)),y=!Pw(Rl(h.tilePosition),w)||y}if(m){var T,S=Rl(m);(T=u.tileScale).set.apply(T,Ci(S)),y=!Pw(Rl(h.tileScale),S)||y}return(d||g)&&(g!==h.texture&&(y=!0),u.texture=qn("Sprite",t,f)),y},a},iN=["image","texture"],sN=function(t,e){var r=qn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?fn.TRIANGLES:o,u=new bF(r,n,i,s,a);return u.applyProps=function(h,f,m){var p=m.image,d=m.texture,g=Jn(h,f,ws(m,iN));return(p||d)&&(d!==f.texture&&(g=!0),h.texture=qn("Mesh",t,m)),g},u},oN=["image","texture"],aN=function(t,e){var r=qn("SimpleRope",t,e),n=e.points,i=new CF(r,n);return i.applyProps=function(s,o,a){var u=a.image,h=a.texture,f=ws(a,oN);dt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<Point>");var m=Jn(s,o,f);return(u||h)&&(h!==o.texture&&(m=!0),s.texture=qn("SimpleRope",t,a)),m},i},lN=Object.freeze({__proto__:null,BitmapText:VF,Container:jF,Graphics:XF,NineSlicePlane:QF,ParticleContainer:KF,Sprite:qF,Text:tN,TilingSprite:nN,SimpleMesh:sN,SimpleRope:aN,AnimatedSprite:eN});function Rw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rw(Object(r),!0).forEach(function(n){mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},uN=Object.keys(wr).reduce(function(t,e){return Mw(Mw({},t),{},mt({},e,lN[e]))},{}),iC={};function cN(t,e){return dt(!!t,"Expect type to be defined, got `%s`",t),dt(!wr[t],"Component `%s` could not be created, already exists in default components.",t),iC[t]=e,t}var kw,Dw,Fw,Nw,M0={},k0={},hN={get exports(){return k0},set exports(t){k0=t}},Bw={};function dN(){return Dw||(Dw=1,hN.exports=(kw||(kw=1,function(t){function e(O,V){var G=O.length;O.push(V);e:for(;0<G;){var j=G-1>>>1,Z=O[j];if(!(0<i(Z,V)))break e;O[j]=V,O[G]=Z,G=j}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var V=O[0],G=O.pop();if(G!==V){O[0]=G;e:for(var j=0,Z=O.length,ge=Z>>>1;j<ge;){var ue=2*(j+1)-1,be=O[ue],xe=ue+1,Ce=O[xe];if(0>i(be,G))xe<Z&&0>i(Ce,be)?(O[j]=Ce,O[xe]=G,j=xe):(O[j]=be,O[ue]=G,j=ue);else{if(!(xe<Z&&0>i(Ce,G)))break e;O[j]=Ce,O[xe]=G,j=xe}}}return V}function i(O,V){var G=O.sortIndex-V.sortIndex;return G!==0?G:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],h=[],f=1,m=null,p=3,d=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function S(O){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else{if(!(V.startTime<=O))break;n(h),V.sortIndex=V.expirationTime,e(u,V)}V=r(h)}}function C(O){if(y=!1,S(O),!g)if(r(u)!==null)g=!0,Q(b);else{var V=r(h);V!==null&&W(C,V.startTime-O)}}function b(O,V){g=!1,y&&(y=!1,w(k),k=-1),d=!0;var G=p;try{for(S(V),m=r(u);m!==null&&(!(m.expirationTime>V)||O&&!F());){var j=m.callback;if(typeof j=="function"){m.callback=null,p=m.priorityLevel;var Z=j(m.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?m.callback=Z:m===r(u)&&n(u),S(V)}else n(u);m=r(u)}if(m!==null)var ge=!0;else{var ue=r(h);ue!==null&&W(C,ue.startTime-V),ge=!1}return ge}finally{m=null,p=G,d=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,R=!1,P=null,k=-1,M=5,B=-1;function F(){return!(t.unstable_now()-B<M)}function N(){if(P!==null){var O=t.unstable_now();B=O;var V=!0;try{V=P(!0,O)}finally{V?I():(R=!1,P=null)}}else R=!1}if(typeof T=="function")I=function(){T(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=N,I=function(){H.postMessage(null)}}else I=function(){x(N,0)};function Q(O){P=O,R||(R=!0,I())}function W(O,V){k=x(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,Q(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return O()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=p;p=O;try{return V()}finally{p=G}},t.unstable_scheduleCallback=function(O,V,G){var j=t.unstable_now();switch(G=typeof G=="object"&&G!==null&&typeof(G=G.delay)=="number"&&0<G?j+G:j,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return O={id:f++,callback:V,priorityLevel:O,startTime:G,expirationTime:Z=G+Z,sortIndex:-1},G>j?(O.sortIndex=G,e(h,O),r(u)===null&&O===r(h)&&(y?(w(k),k=-1):y=!0,W(C,G-j))):(O.sortIndex=Z,e(u,O),g||d||(g=!0,Q(b))),O},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(O){var V=p;return function(){var G=p;p=V;try{return O.apply(this,arguments)}finally{p=G}}}}(Bw)),Bw)),k0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function fN(){return Nw||(Nw=1,Fw=function(t){var e={},r=Wn,n=dN(),i=Object.assign;function s(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,v=1;v<arguments.length;v++)c+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),C=Symbol.iterator;function b(l){return l===null||typeof l!="object"?null:typeof(l=C&&l[C]||l["@@iterator"])=="function"?l:null}function I(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case h:return"Fragment";case u:return"Portal";case m:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case d:return(l.displayName||"Context")+".Consumer";case p:return(l._context.displayName||"Context")+".Provider";case g:var c=l.render;return(l=l.displayName)||(l=(l=c.displayName||c.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case w:return(c=l.displayName||null)!==null?c:I(l.type)||"Memo";case T:c=l._payload,l=l._init;try{return I(l(c))}catch{}}return null}function R(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=c.render).displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(c);case 8:return c===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function P(l){var c=l,v=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do 4098&(c=l).flags&&(v=c.return),l=c.return;while(l)}return c.tag===3?v:null}function k(l){if(P(l)!==l)throw Error(s(188))}function M(l){var c=l.alternate;if(!c){if((c=P(l))===null)throw Error(s(188));return c!==l?null:l}for(var v=l,_=c;;){var E=v.return;if(E===null)break;var A=E.alternate;if(A===null){if((_=E.return)!==null){v=_;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===v)return k(E),l;if(A===_)return k(E),c;A=A.sibling}throw Error(s(188))}if(v.return!==_.return)v=E,_=A;else{for(var D=!1,L=E.child;L;){if(L===v){D=!0,v=E,_=A;break}if(L===_){D=!0,_=E,v=A;break}L=L.sibling}if(!D){for(L=A.child;L;){if(L===v){D=!0,v=A,_=E;break}if(L===_){D=!0,_=A,v=E;break}L=L.sibling}if(!D)throw Error(s(189))}}if(v.alternate!==_)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?l:c}function B(l){return(l=M(l))!==null?F(l):null}function F(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=F(l);if(c!==null)return c;l=l.sibling}return null}function N(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var c=N(l);if(c!==null)return c}l=l.sibling}return null}var U,H=Array.isArray,Q=t.getPublicInstance,W=t.getRootHostContext,O=t.getChildHostContext,V=t.prepareForCommit,G=t.resetAfterCommit,j=t.createInstance,Z=t.appendInitialChild,ge=t.finalizeInitialChildren,ue=t.prepareUpdate,be=t.shouldSetTextContent,xe=t.createTextInstance,Ce=t.scheduleTimeout,Ue=t.cancelTimeout,St=t.noTimeout,Ze=t.isPrimaryRenderer,Ae=t.supportsMutation,$e=t.supportsPersistence,De=t.supportsHydration,Wt=t.getInstanceFromNode,ut=t.preparePortalMount,wn=t.getCurrentEventPriority,Ss=t.detachDeletedInstance,ri=t.supportsMicrotasks,Fu=t.scheduleMicrotask,Pi=t.supportsTestSelectors,Nu=t.findFiberRoot,go=t.getBoundingRect,gf=t.getTextContent,Es=t.isHiddenSubtree,vo=t.matchAccessibilityRole,yo=t.setFocusIfFocusable,FC=t.setupIntersectionObserver,NC=t.appendChild,BC=t.appendChildToContainer,OC=t.commitTextUpdate,LC=t.commitMount,UC=t.commitUpdate,GC=t.insertBefore,zC=t.insertInContainerBefore,HC=t.removeChild,$C=t.removeChildFromContainer,ny=t.resetTextContent,VC=t.hideInstance,jC=t.hideTextInstance,WC=t.unhideInstance,XC=t.unhideTextInstance,YC=t.clearContainer,QC=t.cloneInstance,iy=t.createContainerChildSet,sy=t.appendChildToContainerChildSet,KC=t.finalizeContainerChildren,vf=t.replaceContainerChildren,oy=t.cloneHiddenInstance,ay=t.cloneHiddenTextInstance,ZC=t.canHydrateInstance,qC=t.canHydrateTextInstance,JC=t.canHydrateSuspenseInstance,ly=t.isSuspenseInstancePending,yf=t.isSuspenseInstanceFallback,eA=t.getSuspenseInstanceFallbackErrorDetails,tA=t.registerSuspenseInstanceRetry,Bu=t.getNextHydratableSibling,rA=t.getFirstHydratableChild,nA=t.getFirstHydratableChildWithinContainer,iA=t.getFirstHydratableChildWithinSuspenseInstance,sA=t.hydrateInstance,oA=t.hydrateTextInstance,aA=t.hydrateSuspenseInstance,lA=t.getNextHydratableInstanceAfterSuspenseInstance,uA=t.commitHydratedContainer,cA=t.commitHydratedSuspenseInstance,hA=t.clearSuspenseBoundary,dA=t.clearSuspenseBoundaryFromContainer,fA=t.shouldDeleteUnhydratedTailInstances,pA=t.didNotMatchHydratedContainerTextInstance,mA=t.didNotMatchHydratedTextInstance;function Ha(l){if(U===void 0)try{throw Error()}catch(v){var c=v.stack.trim().match(/\n( *(at )?)/);U=c&&c[1]||""}return`
`+U+l}var xf=!1;function _f(l,c){if(!l||xf)return"";xf=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Y){var _=Y}Reflect.construct(l,[],c)}else{try{c.call()}catch(Y){_=Y}l.call(c.prototype)}else{try{throw Error()}catch(Y){_=Y}l()}}catch(Y){if(Y&&_&&typeof Y.stack=="string"){for(var E=Y.stack.split(`
`),A=_.stack.split(`
`),D=E.length-1,L=A.length-1;1<=D&&0<=L&&E[D]!==A[L];)L--;for(;1<=D&&0<=L;D--,L--)if(E[D]!==A[L]){if(D!==1||L!==1)do if(D--,0>--L||E[D]!==A[L]){var $=`
`+E[D].replace(" at new "," at ");return l.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",l.displayName)),$}while(1<=D&&0<=L);break}}}finally{xf=!1,Error.prepareStackTrace=v}return(l=l?l.displayName||l.name:"")?Ha(l):""}var gA=Object.prototype.hasOwnProperty,wf=[],xo=-1;function Ii(l){return{current:l}}function qe(l){0>xo||(l.current=wf[xo],wf[xo]=null,xo--)}function Ve(l,c){xo++,wf[xo]=l.current,l.current=c}var Ri={},Xt=Ii(Ri),cr=Ii(!1),Ts=Ri;function _o(l,c){var v=l.type.contextTypes;if(!v)return Ri;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===c)return _.__reactInternalMemoizedMaskedChildContext;var E,A={};for(E in v)A[E]=c[E];return _&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=A),A}function Sr(l){return(l=l.childContextTypes)!=null}function Sf(){qe(cr),qe(Xt)}function uy(l,c,v){if(Xt.current!==Ri)throw Error(s(168));Ve(Xt,c),Ve(cr,v)}function cy(l,c,v){var _=l.stateNode;if(c=c.childContextTypes,typeof _.getChildContext!="function")return v;for(var E in _=_.getChildContext())if(!(E in c))throw Error(s(108,R(l)||"Unknown",E));return i({},v,_)}function Ou(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ri,Ts=Xt.current,Ve(Xt,l),Ve(cr,cr.current),!0}function hy(l,c,v){var _=l.stateNode;if(!_)throw Error(s(169));v?(l=cy(l,c,Ts),_.__reactInternalMemoizedMergedChildContext=l,qe(cr),qe(Xt),Ve(Xt,l)):qe(cr),Ve(cr,v)}var qr=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(vA(l)/yA|0)|0},vA=Math.log,yA=Math.LN2,Ef=64,Tf=4194304;function $a(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Lu(l,c){var v=l.pendingLanes;if(v===0)return 0;var _=0,E=l.suspendedLanes,A=l.pingedLanes,D=268435455&v;if(D!==0){var L=D&~E;L!==0?_=$a(L):(A&=D)!==0&&(_=$a(A))}else(D=v&~E)!==0?_=$a(D):A!==0&&(_=$a(A));if(_===0)return 0;if(c!==0&&c!==_&&!(c&E)&&((E=_&-_)>=(A=c&-c)||E===16&&4194240&A))return c;if(4&_&&(_|=16&v),(c=l.entangledLanes)!==0)for(l=l.entanglements,c&=_;0<c;)E=1<<(v=31-qr(c)),_|=l[v],c&=~E;return _}function xA(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;default:return-1}}function bf(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function dy(){var l=Ef;return!(4194240&(Ef<<=1))&&(Ef=64),l}function Cf(l){for(var c=[],v=0;31>v;v++)c.push(l);return c}function Va(l,c,v){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[c=31-qr(c)]=v}function Af(l,c){var v=l.entangledLanes|=c;for(l=l.entanglements;v;){var _=31-qr(v),E=1<<_;E&c|l[_]&c&&(l[_]|=c),v&=~E}}var Oe=0;function fy(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var Pf=n.unstable_scheduleCallback,py=n.unstable_cancelCallback,_A=n.unstable_shouldYield,wA=n.unstable_requestPaint,Pt=n.unstable_now,If=n.unstable_ImmediatePriority,SA=n.unstable_UserBlockingPriority,my=n.unstable_NormalPriority,EA=n.unstable_IdlePriority,Uu=null,Sn=null,Jr=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},ni=null,Gu=!1,Rf=!1;function gy(l){ni===null?ni=[l]:ni.push(l)}function En(){if(!Rf&&ni!==null){Rf=!0;var l=0,c=Oe;try{var v=ni;for(Oe=1;l<v.length;l++){var _=v[l];do _=_(!0);while(_!==null)}ni=null,Gu=!1}catch(E){throw ni!==null&&(ni=ni.slice(l+1)),Pf(If,En),E}finally{Oe=c,Rf=!1}}return null}var wo=[],So=0,zu=null,Hu=0,Fr=[],Nr=0,bs=null,Tn=1,ii="";function Cs(l,c){wo[So++]=Hu,wo[So++]=zu,zu=l,Hu=c}function vy(l,c,v){Fr[Nr++]=Tn,Fr[Nr++]=ii,Fr[Nr++]=bs,bs=l;var _=Tn;l=ii;var E=32-qr(_)-1;_&=~(1<<E),v+=1;var A=32-qr(c)+E;if(30<A){var D=E-E%5;A=(_&(1<<D)-1).toString(32),_>>=D,E-=D,Tn=1<<32-qr(c)+E|v<<E|_,ii=A+l}else Tn=1<<A|v<<E|_,ii=l}function Mf(l){l.return!==null&&(Cs(l,1),vy(l,1,0))}function kf(l){for(;l===zu;)zu=wo[--So],wo[So]=null,Hu=wo[--So],wo[So]=null;for(;l===bs;)bs=Fr[--Nr],Fr[Nr]=null,ii=Fr[--Nr],Fr[Nr]=null,Tn=Fr[--Nr],Fr[Nr]=null}var Er=null,Br=null,Je=!1,ja=!1,en=null;function yy(l,c){var v=zr(5,null,null,0);v.elementType="DELETED",v.stateNode=c,v.return=l,(c=l.deletions)===null?(l.deletions=[v],l.flags|=16):c.push(v)}function xy(l,c){switch(l.tag){case 5:return(c=ZC(c,l.type,l.pendingProps))!==null&&(l.stateNode=c,Er=l,Br=rA(c),!0);case 6:return(c=qC(c,l.pendingProps))!==null&&(l.stateNode=c,Er=l,Br=null,!0);case 13:if((c=JC(c))!==null){var v=bs!==null?{id:Tn,overflow:ii}:null;return l.memoizedState={dehydrated:c,treeContext:v,retryLane:1073741824},(v=zr(18,null,null,0)).stateNode=c,v.return=l,l.child=v,Er=l,Br=null,!0}return!1;default:return!1}}function Df(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Ff(l){if(Je){var c=Br;if(c){var v=c;if(!xy(l,c)){if(Df(l))throw Error(s(418));c=Bu(v);var _=Er;c&&xy(l,c)?yy(_,v):(l.flags=-4097&l.flags|2,Je=!1,Er=l)}}else{if(Df(l))throw Error(s(418));l.flags=-4097&l.flags|2,Je=!1,Er=l}}}function _y(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Er=l}function $u(l){if(!De||l!==Er)return!1;if(!Je)return _y(l),Je=!0,!1;if(l.tag!==3&&(l.tag!==5||fA(l.type)&&!be(l.type,l.memoizedProps))){var c=Br;if(c){if(Df(l))throw wy(),Error(s(418));for(;c;)yy(l,c),c=Bu(c)}}if(_y(l),l.tag===13){if(!De)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));Br=lA(l)}else Br=Er?Bu(l.stateNode):null;return!0}function wy(){for(var l=Br;l;)l=Bu(l)}function Eo(){De&&(Br=Er=null,ja=Je=!1)}function Nf(l){en===null?en=[l]:en.push(l)}var TA=o.ReactCurrentBatchConfig;function Vu(l,c){if(Jr(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var v=Object.keys(l),_=Object.keys(c);if(v.length!==_.length)return!1;for(_=0;_<v.length;_++){var E=v[_];if(!gA.call(c,E)||!Jr(l[E],c[E]))return!1}return!0}function bA(l){switch(l.tag){case 5:return Ha(l.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 2:case 15:return l=_f(l.type,!1);case 11:return l=_f(l.type.render,!1);case 1:return l=_f(l.type,!0);default:return""}}function tn(l,c){if(l&&l.defaultProps){for(var v in c=i({},c),l=l.defaultProps)c[v]===void 0&&(c[v]=l[v]);return c}return c}var ju=Ii(null),Wu=null,To=null,Bf=null;function Of(){Bf=To=Wu=null}function Sy(l,c,v){Ze?(Ve(ju,c._currentValue),c._currentValue=v):(Ve(ju,c._currentValue2),c._currentValue2=v)}function Lf(l){var c=ju.current;qe(ju),Ze?l._currentValue=c:l._currentValue2=c}function Uf(l,c,v){for(;l!==null;){var _=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,_!==null&&(_.childLanes|=c)):_!==null&&(_.childLanes&c)!==c&&(_.childLanes|=c),l===v)break;l=l.return}}function bo(l,c){Wu=l,Bf=To=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&c&&(hr=!0),l.firstContext=null)}function Or(l){var c=Ze?l._currentValue:l._currentValue2;if(Bf!==l)if(l={context:l,memoizedValue:c,next:null},To===null){if(Wu===null)throw Error(s(308));To=l,Wu.dependencies={lanes:0,firstContext:l}}else To=To.next=l;return c}var As=null;function Gf(l){As===null?As=[l]:As.push(l)}function Ey(l,c,v,_){var E=c.interleaved;return E===null?(v.next=v,Gf(c)):(v.next=E.next,E.next=v),c.interleaved=v,bn(l,_)}function bn(l,c){l.lanes|=c;var v=l.alternate;for(v!==null&&(v.lanes|=c),v=l,l=l.return;l!==null;)l.childLanes|=c,(v=l.alternate)!==null&&(v.childLanes|=c),v=l,l=l.return;return v.tag===3?v.stateNode:null}var Mi=!1;function zf(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ty(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function si(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function ki(l,c,v){var _=l.updateQueue;if(_===null)return null;if(_=_.shared,(2&Fe)!=0){var E=_.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),_.pending=c,bn(l,v)}return(E=_.interleaved)===null?(c.next=c,Gf(_)):(c.next=E.next,E.next=c),_.interleaved=c,bn(l,v)}function Xu(l,c,v){if((c=c.updateQueue)!==null&&(c=c.shared,(4194240&v)!=0)){var _=c.lanes;v|=_&=l.pendingLanes,c.lanes=v,Af(l,v)}}function by(l,c){var v=l.updateQueue,_=l.alternate;if(_!==null&&v===(_=_.updateQueue)){var E=null,A=null;if((v=v.firstBaseUpdate)!==null){do{var D={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};A===null?E=A=D:A=A.next=D,v=v.next}while(v!==null);A===null?E=A=c:A=A.next=c}else E=A=c;return v={baseState:_.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:_.shared,effects:_.effects},void(l.updateQueue=v)}(l=v.lastBaseUpdate)===null?v.firstBaseUpdate=c:l.next=c,v.lastBaseUpdate=c}function Yu(l,c,v,_){var E=l.updateQueue;Mi=!1;var A=E.firstBaseUpdate,D=E.lastBaseUpdate,L=E.shared.pending;if(L!==null){E.shared.pending=null;var $=L,Y=$.next;$.next=null,D===null?A=Y:D.next=Y,D=$;var q=l.alternate;q!==null&&(L=(q=q.updateQueue).lastBaseUpdate)!==D&&(L===null?q.firstBaseUpdate=Y:L.next=Y,q.lastBaseUpdate=$)}if(A!==null){var ie=E.baseState;for(D=0,q=Y=$=null,L=A;;){var K=L.lane,re=L.eventTime;if((_&K)===K){q!==null&&(q=q.next={eventTime:re,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var pe=l,Pe=L;switch(K=c,re=v,Pe.tag){case 1:if(typeof(pe=Pe.payload)=="function"){ie=pe.call(re,ie,K);break e}ie=pe;break e;case 3:pe.flags=-65537&pe.flags|128;case 0:if((K=typeof(pe=Pe.payload)=="function"?pe.call(re,ie,K):pe)==null)break e;ie=i({},ie,K);break e;case 2:Mi=!0}}L.callback!==null&&L.lane!==0&&(l.flags|=64,(K=E.effects)===null?E.effects=[L]:K.push(L))}else re={eventTime:re,lane:K,tag:L.tag,payload:L.payload,callback:L.callback,next:null},q===null?(Y=q=re,$=ie):q=q.next=re,D|=K;if((L=L.next)===null){if((L=E.shared.pending)===null)break;L=(K=L).next,K.next=null,E.lastBaseUpdate=K,E.shared.pending=null}}if(q===null&&($=ie),E.baseState=$,E.firstBaseUpdate=Y,E.lastBaseUpdate=q,(c=E.shared.interleaved)!==null){E=c;do D|=E.lane,E=E.next;while(E!==c)}else A===null&&(E.shared.lanes=0);Is|=D,l.lanes=D,l.memoizedState=ie}}function Cy(l,c,v){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var _=l[c],E=_.callback;if(E!==null){if(_.callback=null,_=v,typeof E!="function")throw Error(s(191,E));E.call(_)}}}var Ay=new r.Component().refs;function Hf(l,c,v,_){v=(v=v(_,c=l.memoizedState))==null?c:i({},c,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var Qu={isMounted:function(l){return!!(l=l._reactInternals)&&P(l)===l},enqueueSetState:function(l,c,v){l=l._reactInternals;var _=Kt(),E=Bi(l),A=si(_,E);A.payload=c,v!=null&&(A.callback=v),(c=ki(l,A,E))!==null&&(Gr(c,l,E,_),Xu(c,l,E))},enqueueReplaceState:function(l,c,v){l=l._reactInternals;var _=Kt(),E=Bi(l),A=si(_,E);A.tag=1,A.payload=c,v!=null&&(A.callback=v),(c=ki(l,A,E))!==null&&(Gr(c,l,E,_),Xu(c,l,E))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var v=Kt(),_=Bi(l),E=si(v,_);E.tag=2,c!=null&&(E.callback=c),(c=ki(l,E,_))!==null&&(Gr(c,l,_,v),Xu(c,l,_))}};function Py(l,c,v,_,E,A,D){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,A,D):!c.prototype||!c.prototype.isPureReactComponent||!Vu(v,_)||!Vu(E,A)}function Iy(l,c,v){var _=!1,E=Ri,A=c.contextType;return typeof A=="object"&&A!==null?A=Or(A):(E=Sr(c)?Ts:Xt.current,A=(_=(_=c.contextTypes)!=null)?_o(l,E):Ri),c=new c(v,A),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Qu,l.stateNode=c,c._reactInternals=l,_&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=E,l.__reactInternalMemoizedMaskedChildContext=A),c}function Ry(l,c,v,_){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(v,_),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(v,_),c.state!==l&&Qu.enqueueReplaceState(c,c.state,null)}function $f(l,c,v,_){var E=l.stateNode;E.props=v,E.state=l.memoizedState,E.refs=Ay,zf(l);var A=c.contextType;typeof A=="object"&&A!==null?E.context=Or(A):(A=Sr(c)?Ts:Xt.current,E.context=_o(l,A)),E.state=l.memoizedState,typeof(A=c.getDerivedStateFromProps)=="function"&&(Hf(l,c,A,v),E.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&Qu.enqueueReplaceState(E,E.state,null),Yu(l,v,E,_),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308)}function Wa(l,c,v){if((l=v.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(v._owner){if(v=v._owner){if(v.tag!==1)throw Error(s(309));var _=v.stateNode}if(!_)throw Error(s(147,l));var E=_,A=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(D){var L=E.refs;L===Ay&&(L=E.refs={}),D===null?delete L[A]:L[A]=D},c._stringRef=A,c)}if(typeof l!="string")throw Error(s(284));if(!v._owner)throw Error(s(290,l))}return l}function Ku(l,c){throw l=Object.prototype.toString.call(c),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function My(l){return(0,l._init)(l._payload)}function ky(l){function c(J,z){if(l){var X=J.deletions;X===null?(J.deletions=[z],J.flags|=16):X.push(z)}}function v(J,z){if(!l)return null;for(;z!==null;)c(J,z),z=z.sibling;return null}function _(J,z){for(J=new Map;z!==null;)z.key!==null?J.set(z.key,z):J.set(z.index,z),z=z.sibling;return J}function E(J,z){return(J=Li(J,z)).index=0,J.sibling=null,J}function A(J,z,X){return J.index=X,l?(X=J.alternate)!==null?(X=X.index)<z?(J.flags|=2,z):X:(J.flags|=2,z):(J.flags|=1048576,z)}function D(J){return l&&J.alternate===null&&(J.flags|=2),J}function L(J,z,X,ee){return z===null||z.tag!==6?((z=Ip(X,J.mode,ee)).return=J,z):((z=E(z,X)).return=J,z)}function $(J,z,X,ee){var Se=X.type;return Se===h?q(J,z,X.props.children,ee,X.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===T&&My(Se)===z.type)?((ee=E(z,X.props)).ref=Wa(J,z,X),ee.return=J,ee):((ee=Sc(X.type,X.key,X.props,null,J.mode,ee)).ref=Wa(J,z,X),ee.return=J,ee)}function Y(J,z,X,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?((z=Rp(X,J.mode,ee)).return=J,z):((z=E(z,X.children||[])).return=J,z)}function q(J,z,X,ee,Se){return z===null||z.tag!==7?((z=ks(X,J.mode,ee,Se)).return=J,z):((z=E(z,X)).return=J,z)}function ie(J,z,X){if(typeof z=="string"&&z!==""||typeof z=="number")return(z=Ip(""+z,J.mode,X)).return=J,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case a:return(X=Sc(z.type,z.key,z.props,null,J.mode,X)).ref=Wa(J,null,z),X.return=J,X;case u:return(z=Rp(z,J.mode,X)).return=J,z;case T:return ie(J,(0,z._init)(z._payload),X)}if(H(z)||b(z))return(z=ks(z,J.mode,X,null)).return=J,z;Ku(J,z)}return null}function K(J,z,X,ee){var Se=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Se!==null?null:L(J,z,""+X,ee);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case a:return X.key===Se?$(J,z,X,ee):null;case u:return X.key===Se?Y(J,z,X,ee):null;case T:return K(J,z,(Se=X._init)(X._payload),ee)}if(H(X)||b(X))return Se!==null?null:q(J,z,X,ee,null);Ku(J,X)}return null}function re(J,z,X,ee,Se){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return L(z,J=J.get(X)||null,""+ee,Se);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case a:return $(z,J=J.get(ee.key===null?X:ee.key)||null,ee,Se);case u:return Y(z,J=J.get(ee.key===null?X:ee.key)||null,ee,Se);case T:return re(J,z,X,(0,ee._init)(ee._payload),Se)}if(H(ee)||b(ee))return q(z,J=J.get(X)||null,ee,Se,null);Ku(z,ee)}return null}function pe(J,z,X,ee){for(var Se=null,Ge=null,ve=z,Le=z=0,Ut=null;ve!==null&&Le<X.length;Le++){ve.index>Le?(Ut=ve,ve=null):Ut=ve.sibling;var ze=K(J,ve,X[Le],ee);if(ze===null){ve===null&&(ve=Ut);break}l&&ve&&ze.alternate===null&&c(J,ve),z=A(ze,z,Le),Ge===null?Se=ze:Ge.sibling=ze,Ge=ze,ve=Ut}if(Le===X.length)return v(J,ve),Je&&Cs(J,Le),Se;if(ve===null){for(;Le<X.length;Le++)(ve=ie(J,X[Le],ee))!==null&&(z=A(ve,z,Le),Ge===null?Se=ve:Ge.sibling=ve,Ge=ve);return Je&&Cs(J,Le),Se}for(ve=_(J,ve);Le<X.length;Le++)(Ut=re(ve,J,Le,X[Le],ee))!==null&&(l&&Ut.alternate!==null&&ve.delete(Ut.key===null?Le:Ut.key),z=A(Ut,z,Le),Ge===null?Se=Ut:Ge.sibling=Ut,Ge=Ut);return l&&ve.forEach(function(Ui){return c(J,Ui)}),Je&&Cs(J,Le),Se}function Pe(J,z,X,ee){var Se=b(X);if(typeof Se!="function")throw Error(s(150));if((X=Se.call(X))==null)throw Error(s(151));for(var Ge=Se=null,ve=z,Le=z=0,Ut=null,ze=X.next();ve!==null&&!ze.done;Le++,ze=X.next()){ve.index>Le?(Ut=ve,ve=null):Ut=ve.sibling;var Ui=K(J,ve,ze.value,ee);if(Ui===null){ve===null&&(ve=Ut);break}l&&ve&&Ui.alternate===null&&c(J,ve),z=A(Ui,z,Le),Ge===null?Se=Ui:Ge.sibling=Ui,Ge=Ui,ve=Ut}if(ze.done)return v(J,ve),Je&&Cs(J,Le),Se;if(ve===null){for(;!ze.done;Le++,ze=X.next())(ze=ie(J,ze.value,ee))!==null&&(z=A(ze,z,Le),Ge===null?Se=ze:Ge.sibling=ze,Ge=ze);return Je&&Cs(J,Le),Se}for(ve=_(J,ve);!ze.done;Le++,ze=X.next())(ze=re(ve,J,Le,ze.value,ee))!==null&&(l&&ze.alternate!==null&&ve.delete(ze.key===null?Le:ze.key),z=A(ze,z,Le),Ge===null?Se=ze:Ge.sibling=ze,Ge=ze);return l&&ve.forEach(function(QA){return c(J,QA)}),Je&&Cs(J,Le),Se}return function J(z,X,ee,Se){if(typeof ee=="object"&&ee!==null&&ee.type===h&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case a:e:{for(var Ge=ee.key,ve=X;ve!==null;){if(ve.key===Ge){if((Ge=ee.type)===h){if(ve.tag===7){v(z,ve.sibling),(X=E(ve,ee.props.children)).return=z,z=X;break e}}else if(ve.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===T&&My(Ge)===ve.type){v(z,ve.sibling),(X=E(ve,ee.props)).ref=Wa(z,ve,ee),X.return=z,z=X;break e}v(z,ve);break}c(z,ve),ve=ve.sibling}ee.type===h?((X=ks(ee.props.children,z.mode,Se,ee.key)).return=z,z=X):((Se=Sc(ee.type,ee.key,ee.props,null,z.mode,Se)).ref=Wa(z,X,ee),Se.return=z,z=Se)}return D(z);case u:e:{for(ve=ee.key;X!==null;){if(X.key===ve){if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){v(z,X.sibling),(X=E(X,ee.children||[])).return=z,z=X;break e}v(z,X);break}c(z,X),X=X.sibling}(X=Rp(ee,z.mode,Se)).return=z,z=X}return D(z);case T:return J(z,X,(ve=ee._init)(ee._payload),Se)}if(H(ee))return pe(z,X,ee,Se);if(b(ee))return Pe(z,X,ee,Se);Ku(z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,X!==null&&X.tag===6?(v(z,X.sibling),(X=E(X,ee)).return=z,z=X):(v(z,X),(X=Ip(ee,z.mode,Se)).return=z,z=X),D(z)):v(z,X)}}var Co=ky(!0),Dy=ky(!1),Xa={},Lr=Ii(Xa),Ya=Ii(Xa),Ao=Ii(Xa);function Cn(l){if(l===Xa)throw Error(s(174));return l}function Vf(l,c){Ve(Ao,c),Ve(Ya,l),Ve(Lr,Xa),l=W(c),qe(Lr),Ve(Lr,l)}function Po(){qe(Lr),qe(Ya),qe(Ao)}function Fy(l){var c=Cn(Ao.current),v=Cn(Lr.current);v!==(c=O(v,l.type,c))&&(Ve(Ya,l),Ve(Lr,c))}function jf(l){Ya.current===l&&(qe(Lr),qe(Ya))}var ct=Ii(0);function Zu(l){for(var c=l;c!==null;){if(c.tag===13){var v=c.memoizedState;if(v!==null&&((v=v.dehydrated)===null||ly(v)||yf(v)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(128&c.flags)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Wf=[];function Xf(){for(var l=0;l<Wf.length;l++){var c=Wf[l];Ze?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}Wf.length=0}var qu=o.ReactCurrentDispatcher,Yf=o.ReactCurrentBatchConfig,Ps=0,nt=null,It=null,Rt=null,Ju=!1,Qa=!1,Ka=0,CA=0;function Yt(){throw Error(s(321))}function Qf(l,c){if(c===null)return!1;for(var v=0;v<c.length&&v<l.length;v++)if(!Jr(l[v],c[v]))return!1;return!0}function Kf(l,c,v,_,E,A){if(Ps=A,nt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,qu.current=l===null||l.memoizedState===null?RA:MA,l=v(_,E),Qa){A=0;do{if(Qa=!1,Ka=0,25<=A)throw Error(s(301));A+=1,Rt=It=null,c.updateQueue=null,qu.current=kA,l=v(_,E)}while(Qa)}if(qu.current=rc,c=It!==null&&It.next!==null,Ps=0,Rt=It=nt=null,Ju=!1,c)throw Error(s(300));return l}function Zf(){var l=Ka!==0;return Ka=0,l}function An(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?nt.memoizedState=Rt=l:Rt=Rt.next=l,Rt}function Ur(){if(It===null){var l=nt.alternate;l=l!==null?l.memoizedState:null}else l=It.next;var c=Rt===null?nt.memoizedState:Rt.next;if(c!==null)Rt=c,It=l;else{if(l===null)throw Error(s(310));l={memoizedState:(It=l).memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Rt===null?nt.memoizedState=Rt=l:Rt=Rt.next=l}return Rt}function Za(l,c){return typeof c=="function"?c(l):c}function qf(l){var c=Ur(),v=c.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=l;var _=It,E=_.baseQueue,A=v.pending;if(A!==null){if(E!==null){var D=E.next;E.next=A.next,A.next=D}_.baseQueue=E=A,v.pending=null}if(E!==null){A=E.next,_=_.baseState;var L=D=null,$=null,Y=A;do{var q=Y.lane;if((Ps&q)===q)$!==null&&($=$.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),_=Y.hasEagerState?Y.eagerState:l(_,Y.action);else{var ie={lane:q,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};$===null?(L=$=ie,D=_):$=$.next=ie,nt.lanes|=q,Is|=q}Y=Y.next}while(Y!==null&&Y!==A);$===null?D=_:$.next=L,Jr(_,c.memoizedState)||(hr=!0),c.memoizedState=_,c.baseState=D,c.baseQueue=$,v.lastRenderedState=_}if((l=v.interleaved)!==null){E=l;do A=E.lane,nt.lanes|=A,Is|=A,E=E.next;while(E!==l)}else E===null&&(v.lanes=0);return[c.memoizedState,v.dispatch]}function Jf(l){var c=Ur(),v=c.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=l;var _=v.dispatch,E=v.pending,A=c.memoizedState;if(E!==null){v.pending=null;var D=E=E.next;do A=l(A,D.action),D=D.next;while(D!==E);Jr(A,c.memoizedState)||(hr=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),v.lastRenderedState=A}return[A,_]}function Ny(){}function By(l,c){var v=nt,_=Ur(),E=c(),A=!Jr(_.memoizedState,E);if(A&&(_.memoizedState=E,hr=!0),_=_.queue,ep(Uy.bind(null,v,_,l),[l]),_.getSnapshot!==c||A||Rt!==null&&1&Rt.memoizedState.tag){if(v.flags|=2048,qa(9,Ly.bind(null,v,_,E,c),void 0,null),Mt===null)throw Error(s(349));30&Ps||Oy(v,c,E)}return E}function Oy(l,c,v){l.flags|=16384,l={getSnapshot:c,value:v},(c=nt.updateQueue)===null?(c={lastEffect:null,stores:null},nt.updateQueue=c,c.stores=[l]):(v=c.stores)===null?c.stores=[l]:v.push(l)}function Ly(l,c,v,_){c.value=v,c.getSnapshot=_,Gy(c)&&zy(l)}function Uy(l,c,v){return v(function(){Gy(c)&&zy(l)})}function Gy(l){var c=l.getSnapshot;l=l.value;try{var v=c();return!Jr(l,v)}catch{return!0}}function zy(l){var c=bn(l,1);c!==null&&Gr(c,l,1,-1)}function Hy(l){var c=An();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:l},c.queue=l,l=l.dispatch=IA.bind(null,nt,l),[c.memoizedState,l]}function qa(l,c,v,_){return l={tag:l,create:c,destroy:v,deps:_,next:null},(c=nt.updateQueue)===null?(c={lastEffect:null,stores:null},nt.updateQueue=c,c.lastEffect=l.next=l):(v=c.lastEffect)===null?c.lastEffect=l.next=l:(_=v.next,v.next=l,l.next=_,c.lastEffect=l),l}function $y(){return Ur().memoizedState}function ec(l,c,v,_){var E=An();nt.flags|=l,E.memoizedState=qa(1|c,v,void 0,_===void 0?null:_)}function tc(l,c,v,_){var E=Ur();_=_===void 0?null:_;var A=void 0;if(It!==null){var D=It.memoizedState;if(A=D.destroy,_!==null&&Qf(_,D.deps))return void(E.memoizedState=qa(c,v,A,_))}nt.flags|=l,E.memoizedState=qa(1|c,v,A,_)}function Vy(l,c){return ec(8390656,8,l,c)}function ep(l,c){return tc(2048,8,l,c)}function jy(l,c){return tc(4,2,l,c)}function Wy(l,c){return tc(4,4,l,c)}function Xy(l,c){return typeof c=="function"?(l=l(),c(l),function(){c(null)}):c!=null?(l=l(),c.current=l,function(){c.current=null}):void 0}function Yy(l,c,v){return v=v!=null?v.concat([l]):null,tc(4,4,Xy.bind(null,c,l),v)}function tp(){}function Qy(l,c){var v=Ur();c=c===void 0?null:c;var _=v.memoizedState;return _!==null&&c!==null&&Qf(c,_[1])?_[0]:(v.memoizedState=[l,c],l)}function Ky(l,c){var v=Ur();c=c===void 0?null:c;var _=v.memoizedState;return _!==null&&c!==null&&Qf(c,_[1])?_[0]:(l=l(),v.memoizedState=[l,c],l)}function Zy(l,c,v){return 21&Ps?(Jr(v,c)||(v=dy(),nt.lanes|=v,Is|=v,l.baseState=!0),c):(l.baseState&&(l.baseState=!1,hr=!0),l.memoizedState=v)}function AA(l,c){var v=Oe;Oe=v!==0&&4>v?v:4,l(!0);var _=Yf.transition;Yf.transition={};try{l(!1),c()}finally{Oe=v,Yf.transition=_}}function qy(){return Ur().memoizedState}function PA(l,c,v){var _=Bi(l);v={lane:_,action:v,hasEagerState:!1,eagerState:null,next:null},Jy(l)?e1(c,v):(v=Ey(l,c,v,_))!==null&&(Gr(v,l,_,Kt()),t1(v,c,_))}function IA(l,c,v){var _=Bi(l),E={lane:_,action:v,hasEagerState:!1,eagerState:null,next:null};if(Jy(l))e1(c,E);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer)!==null)try{var D=c.lastRenderedState,L=A(D,v);if(E.hasEagerState=!0,E.eagerState=L,Jr(L,D)){var $=c.interleaved;return $===null?(E.next=E,Gf(c)):(E.next=$.next,$.next=E),void(c.interleaved=E)}}catch{}(v=Ey(l,c,E,_))!==null&&(Gr(v,l,_,E=Kt()),t1(v,c,_))}}function Jy(l){var c=l.alternate;return l===nt||c!==null&&c===nt}function e1(l,c){Qa=Ju=!0;var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}function t1(l,c,v){if(4194240&v){var _=c.lanes;v|=_&=l.pendingLanes,c.lanes=v,Af(l,v)}}var rc={readContext:Or,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},RA={readContext:Or,useCallback:function(l,c){return An().memoizedState=[l,c===void 0?null:c],l},useContext:Or,useEffect:Vy,useImperativeHandle:function(l,c,v){return v=v!=null?v.concat([l]):null,ec(4194308,4,Xy.bind(null,c,l),v)},useLayoutEffect:function(l,c){return ec(4194308,4,l,c)},useInsertionEffect:function(l,c){return ec(4,2,l,c)},useMemo:function(l,c){var v=An();return c=c===void 0?null:c,l=l(),v.memoizedState=[l,c],l},useReducer:function(l,c,v){var _=An();return c=v!==void 0?v(c):c,_.memoizedState=_.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},_.queue=l,l=l.dispatch=PA.bind(null,nt,l),[_.memoizedState,l]},useRef:function(l){return l={current:l},An().memoizedState=l},useState:Hy,useDebugValue:tp,useDeferredValue:function(l){return An().memoizedState=l},useTransition:function(){var l=Hy(!1),c=l[0];return l=AA.bind(null,l[1]),An().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,v){var _=nt,E=An();if(Je){if(v===void 0)throw Error(s(407));v=v()}else{if(v=c(),Mt===null)throw Error(s(349));30&Ps||Oy(_,c,v)}E.memoizedState=v;var A={value:v,getSnapshot:c};return E.queue=A,Vy(Uy.bind(null,_,A,l),[l]),_.flags|=2048,qa(9,Ly.bind(null,_,A,v,c),void 0,null),v},useId:function(){var l=An(),c=Mt.identifierPrefix;if(Je){var v=ii;c=":"+c+"R"+(v=(Tn&~(1<<32-qr(Tn)-1)).toString(32)+v),0<(v=Ka++)&&(c+="H"+v.toString(32)),c+=":"}else c=":"+c+"r"+(v=CA++).toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},MA={readContext:Or,useCallback:Qy,useContext:Or,useEffect:ep,useImperativeHandle:Yy,useInsertionEffect:jy,useLayoutEffect:Wy,useMemo:Ky,useReducer:qf,useRef:$y,useState:function(){return qf(Za)},useDebugValue:tp,useDeferredValue:function(l){return Zy(Ur(),It.memoizedState,l)},useTransition:function(){return[qf(Za)[0],Ur().memoizedState]},useMutableSource:Ny,useSyncExternalStore:By,useId:qy,unstable_isNewReconciler:!1},kA={readContext:Or,useCallback:Qy,useContext:Or,useEffect:ep,useImperativeHandle:Yy,useInsertionEffect:jy,useLayoutEffect:Wy,useMemo:Ky,useReducer:Jf,useRef:$y,useState:function(){return Jf(Za)},useDebugValue:tp,useDeferredValue:function(l){var c=Ur();return It===null?c.memoizedState=l:Zy(c,It.memoizedState,l)},useTransition:function(){return[Jf(Za)[0],Ur().memoizedState]},useMutableSource:Ny,useSyncExternalStore:By,useId:qy,unstable_isNewReconciler:!1};function Io(l,c){try{var v="",_=c;do v+=bA(_),_=_.return;while(_);var E=v}catch(A){E=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:c,stack:E,digest:null}}function rp(l,c,v){return{value:l,source:null,stack:v??null,digest:c??null}}function np(l,c){try{console.error(c.value)}catch(v){setTimeout(function(){throw v})}}var DA=typeof WeakMap=="function"?WeakMap:Map;function r1(l,c,v){(v=si(-1,v)).tag=3,v.payload={element:null};var _=c.value;return v.callback=function(){gc||(gc=!0,Sp=_),np(0,c)},v}function n1(l,c,v){(v=si(-1,v)).tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var E=c.value;v.payload=function(){return _(E)},v.callback=function(){np(0,c)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(v.callback=function(){np(0,c),typeof _!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),v}function i1(l,c,v){var _=l.pingCache;if(_===null){_=l.pingCache=new DA;var E=new Set;_.set(c,E)}else(E=_.get(c))===void 0&&(E=new Set,_.set(c,E));E.has(v)||(E.add(v),l=HA.bind(null,l,c,v),c.then(l,l))}function s1(l){do{var c;if((c=l.tag===13)&&(c=(c=l.memoizedState)===null||c.dehydrated!==null),c)return l;l=l.return}while(l!==null);return null}function o1(l,c,v,_,E){return 1&l.mode?(l.flags|=65536,l.lanes=E,l):(l===c?l.flags|=65536:(l.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:((c=si(-1,1)).tag=2,ki(v,c,1))),v.lanes|=1),l)}var FA=o.ReactCurrentOwner,hr=!1;function dr(l,c,v,_){c.child=l===null?Dy(c,null,v,_):Co(c,l.child,v,_)}function a1(l,c,v,_,E){v=v.render;var A=c.ref;return bo(c,E),_=Kf(l,c,v,_,A,E),v=Zf(),l===null||hr?(Je&&v&&Mf(c),c.flags|=1,dr(l,c,_,E),c.child):(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~E,oi(l,c,E))}function l1(l,c,v,_,E){if(l===null){var A=v.type;return typeof A!="function"||Pp(A)||A.defaultProps!==void 0||v.compare!==null||v.defaultProps!==void 0?((l=Sc(v.type,null,_,c,c.mode,E)).ref=c.ref,l.return=c,c.child=l):(c.tag=15,c.type=A,u1(l,c,A,_,E))}if(A=l.child,(l.lanes&E)==0){var D=A.memoizedProps;if((v=(v=v.compare)!==null?v:Vu)(D,_)&&l.ref===c.ref)return oi(l,c,E)}return c.flags|=1,(l=Li(A,_)).ref=c.ref,l.return=c,c.child=l}function u1(l,c,v,_,E){if(l!==null){var A=l.memoizedProps;if(Vu(A,_)&&l.ref===c.ref){if(hr=!1,c.pendingProps=_=A,(l.lanes&E)==0)return c.lanes=l.lanes,oi(l,c,E);131072&l.flags&&(hr=!0)}}return ip(l,c,v,_,E)}function c1(l,c,v){var _=c.pendingProps,E=_.children,A=l!==null?l.memoizedState:null;if(_.mode==="hidden")if(!(1&c.mode))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Mo,Tr),Tr|=v;else{if(!(1073741824&v))return l=A!==null?A.baseLanes|v:v,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,Ve(Mo,Tr),Tr|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=A!==null?A.baseLanes:v,Ve(Mo,Tr),Tr|=_}else A!==null?(_=A.baseLanes|v,c.memoizedState=null):_=v,Ve(Mo,Tr),Tr|=_;return dr(l,c,E,v),c.child}function h1(l,c){var v=c.ref;(l===null&&v!==null||l!==null&&l.ref!==v)&&(c.flags|=512,c.flags|=2097152)}function ip(l,c,v,_,E){var A=Sr(v)?Ts:Xt.current;return A=_o(c,A),bo(c,E),v=Kf(l,c,v,_,A,E),_=Zf(),l===null||hr?(Je&&_&&Mf(c),c.flags|=1,dr(l,c,v,E),c.child):(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~E,oi(l,c,E))}function d1(l,c,v,_,E){if(Sr(v)){var A=!0;Ou(c)}else A=!1;if(bo(c,E),c.stateNode===null)oc(l,c),Iy(c,v,_),$f(c,v,_,E),_=!0;else if(l===null){var D=c.stateNode,L=c.memoizedProps;D.props=L;var $=D.context,Y=v.contextType;typeof Y=="object"&&Y!==null?Y=Or(Y):Y=_o(c,Y=Sr(v)?Ts:Xt.current);var q=v.getDerivedStateFromProps,ie=typeof q=="function"||typeof D.getSnapshotBeforeUpdate=="function";ie||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(L!==_||$!==Y)&&Ry(c,D,_,Y),Mi=!1;var K=c.memoizedState;D.state=K,Yu(c,_,D,E),$=c.memoizedState,L!==_||K!==$||cr.current||Mi?(typeof q=="function"&&(Hf(c,v,q,_),$=c.memoizedState),(L=Mi||Py(c,v,L,_,K,$,Y))?(ie||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=_,c.memoizedState=$),D.props=_,D.state=$,D.context=Y,_=L):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),_=!1)}else{D=c.stateNode,Ty(l,c),L=c.memoizedProps,Y=c.type===c.elementType?L:tn(c.type,L),D.props=Y,ie=c.pendingProps,K=D.context,typeof($=v.contextType)=="object"&&$!==null?$=Or($):$=_o(c,$=Sr(v)?Ts:Xt.current);var re=v.getDerivedStateFromProps;(q=typeof re=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(L!==ie||K!==$)&&Ry(c,D,_,$),Mi=!1,K=c.memoizedState,D.state=K,Yu(c,_,D,E);var pe=c.memoizedState;L!==ie||K!==pe||cr.current||Mi?(typeof re=="function"&&(Hf(c,v,re,_),pe=c.memoizedState),(Y=Mi||Py(c,v,Y,_,K,pe,$)||!1)?(q||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(_,pe,$),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(_,pe,$)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||L===l.memoizedProps&&K===l.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||L===l.memoizedProps&&K===l.memoizedState||(c.flags|=1024),c.memoizedProps=_,c.memoizedState=pe),D.props=_,D.state=pe,D.context=$,_=Y):(typeof D.componentDidUpdate!="function"||L===l.memoizedProps&&K===l.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||L===l.memoizedProps&&K===l.memoizedState||(c.flags|=1024),_=!1)}return sp(l,c,v,_,A,E)}function sp(l,c,v,_,E,A){h1(l,c);var D=(128&c.flags)!=0;if(!_&&!D)return E&&hy(c,v,!1),oi(l,c,A);_=c.stateNode,FA.current=c;var L=D&&typeof v.getDerivedStateFromError!="function"?null:_.render();return c.flags|=1,l!==null&&D?(c.child=Co(c,l.child,null,A),c.child=Co(c,null,L,A)):dr(l,c,L,A),c.memoizedState=_.state,E&&hy(c,v,!0),c.child}function f1(l){var c=l.stateNode;c.pendingContext?uy(0,c.pendingContext,c.pendingContext!==c.context):c.context&&uy(0,c.context,!1),Vf(l,c.containerInfo)}function p1(l,c,v,_,E){return Eo(),Nf(E),c.flags|=256,dr(l,c,v,_),c.child}var Ja,el,nc,ic,op={dehydrated:null,treeContext:null,retryLane:0};function ap(l){return{baseLanes:l,cachePool:null,transitions:null}}function m1(l,c,v){var _,E=c.pendingProps,A=ct.current,D=!1,L=(128&c.flags)!=0;if((_=L)||(_=(l===null||l.memoizedState!==null)&&(2&A)!=0),_?(D=!0,c.flags&=-129):l!==null&&l.memoizedState===null||(A|=1),Ve(ct,1&A),l===null)return Ff(c),(l=c.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&c.mode?yf(l)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(L=E.children,l=E.fallback,D?(E=c.mode,D=c.child,L={mode:"hidden",children:L},!(1&E)&&D!==null?(D.childLanes=0,D.pendingProps=L):D=Ec(L,E,0,null),l=ks(l,E,v,null),D.return=c,l.return=c,D.sibling=l,c.child=D,c.child.memoizedState=ap(v),c.memoizedState=op,l):lp(c,L));if((A=l.memoizedState)!==null&&(_=A.dehydrated)!==null)return function(Y,q,ie,K,re,pe,Pe){if(ie)return 256&q.flags?(q.flags&=-257,sc(Y,q,Pe,K=rp(Error(s(422))))):q.memoizedState!==null?(q.child=Y.child,q.flags|=128,null):(pe=K.fallback,re=q.mode,K=Ec({mode:"visible",children:K.children},re,0,null),(pe=ks(pe,re,Pe,null)).flags|=2,K.return=q,pe.return=q,K.sibling=pe,q.child=K,1&q.mode&&Co(q,Y.child,null,Pe),q.child.memoizedState=ap(Pe),q.memoizedState=op,pe);if(!(1&q.mode))return sc(Y,q,Pe,null);if(yf(re))return K=eA(re).digest,pe=Error(s(419)),K=rp(pe,K,void 0),sc(Y,q,Pe,K);if(ie=(Pe&Y.childLanes)!=0,hr||ie){if((K=Mt)!==null){switch(Pe&-Pe){case 4:re=2;break;case 16:re=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:re=32;break;case 536870912:re=268435456;break;default:re=0}(re=re&(K.suspendedLanes|Pe)?0:re)!==0&&re!==pe.retryLane&&(pe.retryLane=re,bn(Y,re),Gr(K,Y,re,-1))}return Ap(),sc(Y,q,Pe,K=rp(Error(s(421))))}return ly(re)?(q.flags|=128,q.child=Y.child,q=$A.bind(null,Y),tA(re,q),null):(Y=pe.treeContext,De&&(Br=iA(re),Er=q,Je=!0,en=null,ja=!1,Y!==null&&(Fr[Nr++]=Tn,Fr[Nr++]=ii,Fr[Nr++]=bs,Tn=Y.id,ii=Y.overflow,bs=q)),q=lp(q,K.children),q.flags|=4096,q)}(l,c,L,E,_,A,v);if(D){D=E.fallback,L=c.mode,_=(A=l.child).sibling;var $={mode:"hidden",children:E.children};return!(1&L)&&c.child!==A?((E=c.child).childLanes=0,E.pendingProps=$,c.deletions=null):(E=Li(A,$)).subtreeFlags=14680064&A.subtreeFlags,_!==null?D=Li(_,D):(D=ks(D,L,v,null)).flags|=2,D.return=c,E.return=c,E.sibling=D,c.child=E,E=D,D=c.child,L=(L=l.child.memoizedState)===null?ap(v):{baseLanes:L.baseLanes|v,cachePool:null,transitions:L.transitions},D.memoizedState=L,D.childLanes=l.childLanes&~v,c.memoizedState=op,E}return l=(D=l.child).sibling,E=Li(D,{mode:"visible",children:E.children}),!(1&c.mode)&&(E.lanes=v),E.return=c,E.sibling=null,l!==null&&((v=c.deletions)===null?(c.deletions=[l],c.flags|=16):v.push(l)),c.child=E,c.memoizedState=null,E}function lp(l,c){return(c=Ec({mode:"visible",children:c},l.mode,0,null)).return=l,l.child=c}function sc(l,c,v,_){return _!==null&&Nf(_),Co(c,l.child,null,v),(l=lp(c,c.pendingProps.children)).flags|=2,c.memoizedState=null,l}function g1(l,c,v){l.lanes|=c;var _=l.alternate;_!==null&&(_.lanes|=c),Uf(l.return,c,v)}function up(l,c,v,_,E){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:_,tail:v,tailMode:E}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=_,A.tail=v,A.tailMode=E)}function v1(l,c,v){var _=c.pendingProps,E=_.revealOrder,A=_.tail;if(dr(l,c,_.children,v),(2&(_=ct.current))!=0)_=1&_|2,c.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&g1(l,v,c);else if(l.tag===19)g1(l,v,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(Ve(ct,_),(1&c.mode)==0)c.memoizedState=null;else switch(E){case"forwards":for(v=c.child,E=null;v!==null;)(l=v.alternate)!==null&&Zu(l)===null&&(E=v),v=v.sibling;(v=E)===null?(E=c.child,c.child=null):(E=v.sibling,v.sibling=null),up(c,!1,E,v,A);break;case"backwards":for(v=null,E=c.child,c.child=null;E!==null;){if((l=E.alternate)!==null&&Zu(l)===null){c.child=E;break}l=E.sibling,E.sibling=v,v=E,E=l}up(c,!0,v,null,A);break;case"together":up(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function oc(l,c){!(1&c.mode)&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function oi(l,c,v){if(l!==null&&(c.dependencies=l.dependencies),Is|=c.lanes,(v&c.childLanes)==0)return null;if(l!==null&&c.child!==l.child)throw Error(s(153));if(c.child!==null){for(v=Li(l=c.child,l.pendingProps),c.child=v,v.return=c;l.sibling!==null;)l=l.sibling,(v=v.sibling=Li(l,l.pendingProps)).return=c;v.sibling=null}return c.child}function Pn(l){l.flags|=4}function y1(l,c){if(l!==null&&l.child===c.child)return!0;if(16&c.flags)return!1;for(l=c.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Ae)Ja=function(l,c){for(var v=c.child;v!==null;){if(v.tag===5||v.tag===6)Z(l,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===c)break;for(;v.sibling===null;){if(v.return===null||v.return===c)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},el=function(){},nc=function(l,c,v,_,E){if((l=l.memoizedProps)!==_){var A=c.stateNode,D=Cn(Lr.current);v=ue(A,v,l,_,E,D),(c.updateQueue=v)&&Pn(c)}},ic=function(l,c,v,_){v!==_&&Pn(c)};else if($e){Ja=function(l,c,v,_){for(var E=c.child;E!==null;){if(E.tag===5){var A=E.stateNode;v&&_&&(A=oy(A,E.type,E.memoizedProps,E)),Z(l,A)}else if(E.tag===6)A=E.stateNode,v&&_&&(A=ay(A,E.memoizedProps,E)),Z(l,A);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)(A=E.child)!==null&&(A.return=E),Ja(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var x1=function(l,c,v,_){for(var E=c.child;E!==null;){if(E.tag===5){var A=E.stateNode;v&&_&&(A=oy(A,E.type,E.memoizedProps,E)),sy(l,A)}else if(E.tag===6)A=E.stateNode,v&&_&&(A=ay(A,E.memoizedProps,E)),sy(l,A);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)(A=E.child)!==null&&(A.return=E),x1(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};el=function(l,c){var v=c.stateNode;if(!y1(l,c)){l=v.containerInfo;var _=iy(l);x1(_,c,!1,!1),v.pendingChildren=_,Pn(c),KC(l,_)}},nc=function(l,c,v,_,E){var A=l.stateNode,D=l.memoizedProps;if((l=y1(l,c))&&D===_)c.stateNode=A;else{var L=c.stateNode,$=Cn(Lr.current),Y=null;D!==_&&(Y=ue(L,v,D,_,E,$)),l&&Y===null?c.stateNode=A:(A=QC(A,Y,v,D,_,c,l,L),ge(A,v,_,E,$)&&Pn(c),c.stateNode=A,l?Pn(c):Ja(A,c,!1,!1))}},ic=function(l,c,v,_){v!==_?(l=Cn(Ao.current),v=Cn(Lr.current),c.stateNode=xe(_,l,v,c),Pn(c)):c.stateNode=l.stateNode}}else el=function(){},nc=function(){},ic=function(){};function tl(l,c){if(!Je)switch(l.tailMode){case"hidden":c=l.tail;for(var v=null;c!==null;)c.alternate!==null&&(v=c),c=c.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var _=null;v!==null;)v.alternate!==null&&(_=v),v=v.sibling;_===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function nr(l){var c=l.alternate!==null&&l.alternate.child===l.child,v=0,_=0;if(c)for(var E=l.child;E!==null;)v|=E.lanes|E.childLanes,_|=14680064&E.subtreeFlags,_|=14680064&E.flags,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)v|=E.lanes|E.childLanes,_|=E.subtreeFlags,_|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=_,l.childLanes=v,c}function NA(l,c,v){var _=c.pendingProps;switch(kf(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(c),null;case 1:case 17:return Sr(c.type)&&Sf(),nr(c),null;case 3:return v=c.stateNode,Po(),qe(cr),qe(Xt),Xf(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),l!==null&&l.child!==null||($u(c)?Pn(c):l===null||l.memoizedState.isDehydrated&&!(256&c.flags)||(c.flags|=1024,en!==null&&(bp(en),en=null))),el(l,c),nr(c),null;case 5:jf(c),v=Cn(Ao.current);var E=c.type;if(l!==null&&c.stateNode!=null)nc(l,c,E,_,v),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!_){if(c.stateNode===null)throw Error(s(166));return nr(c),null}if(l=Cn(Lr.current),$u(c)){if(!De)throw Error(s(175));l=sA(c.stateNode,c.type,c.memoizedProps,v,l,c,!ja),c.updateQueue=l,l!==null&&Pn(c)}else{var A=j(E,_,v,l,c);Ja(A,c,!1,!1),c.stateNode=A,ge(A,E,_,v,l)&&Pn(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return nr(c),null;case 6:if(l&&c.stateNode!=null)ic(l,c,l.memoizedProps,_);else{if(typeof _!="string"&&c.stateNode===null)throw Error(s(166));if(l=Cn(Ao.current),v=Cn(Lr.current),$u(c)){if(!De)throw Error(s(176));if(l=c.stateNode,v=c.memoizedProps,(_=oA(l,v,c,!ja))&&(E=Er)!==null)switch(E.tag){case 3:pA(E.stateNode.containerInfo,l,v,(1&E.mode)!=0);break;case 5:mA(E.type,E.memoizedProps,E.stateNode,l,v,(1&E.mode)!=0)}_&&Pn(c)}else c.stateNode=xe(_,l,v,c)}return nr(c),null;case 13:if(qe(ct),_=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Je&&Br!==null&&1&c.mode&&!(128&c.flags))wy(),Eo(),c.flags|=98560,E=!1;else if(E=$u(c),_!==null&&_.dehydrated!==null){if(l===null){if(!E)throw Error(s(318));if(!De)throw Error(s(344));if(!(E=(E=c.memoizedState)!==null?E.dehydrated:null))throw Error(s(317));aA(E,c)}else Eo(),!(128&c.flags)&&(c.memoizedState=null),c.flags|=4;nr(c),E=!1}else en!==null&&(bp(en),en=null),E=!0;if(!E)return 65536&c.flags?c:null}return 128&c.flags?(c.lanes=v,c):((v=_!==null)!=(l!==null&&l.memoizedState!==null)&&v&&(c.child.flags|=8192,1&c.mode&&(l===null||1&ct.current?Et===0&&(Et=3):Ap())),c.updateQueue!==null&&(c.flags|=4),nr(c),null);case 4:return Po(),el(l,c),l===null&&ut(c.stateNode.containerInfo),nr(c),null;case 10:return Lf(c.type._context),nr(c),null;case 19:if(qe(ct),(E=c.memoizedState)===null)return nr(c),null;if(_=(128&c.flags)!=0,(A=E.rendering)===null)if(_)tl(E,!1);else{if(Et!==0||l!==null&&128&l.flags)for(l=c.child;l!==null;){if((A=Zu(l))!==null){for(c.flags|=128,tl(E,!1),(l=A.updateQueue)!==null&&(c.updateQueue=l,c.flags|=4),c.subtreeFlags=0,l=v,v=c.child;v!==null;)E=l,(_=v).flags&=14680066,(A=_.alternate)===null?(_.childLanes=0,_.lanes=E,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,E=A.dependencies,_.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),v=v.sibling;return Ve(ct,1&ct.current|2),c.child}l=l.sibling}E.tail!==null&&Pt()>wp&&(c.flags|=128,_=!0,tl(E,!1),c.lanes=4194304)}else{if(!_)if((l=Zu(A))!==null){if(c.flags|=128,_=!0,(l=l.updateQueue)!==null&&(c.updateQueue=l,c.flags|=4),tl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!Je)return nr(c),null}else 2*Pt()-E.renderingStartTime>wp&&v!==1073741824&&(c.flags|=128,_=!0,tl(E,!1),c.lanes=4194304);E.isBackwards?(A.sibling=c.child,c.child=A):((l=E.last)!==null?l.sibling=A:c.child=A,E.last=A)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=Pt(),c.sibling=null,l=ct.current,Ve(ct,_?1&l|2:1&l),c):(nr(c),null);case 22:case 23:return Cp(),v=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(c.flags|=8192),v&&1&c.mode?1073741824&Tr&&(nr(c),Ae&&6&c.subtreeFlags&&(c.flags|=8192)):nr(c),null;case 24:case 25:return null}throw Error(s(156,c.tag))}function BA(l,c){switch(kf(c),c.tag){case 1:return Sr(c.type)&&Sf(),65536&(l=c.flags)?(c.flags=-65537&l|128,c):null;case 3:return Po(),qe(cr),qe(Xt),Xf(),65536&(l=c.flags)&&!(128&l)?(c.flags=-65537&l|128,c):null;case 5:return jf(c),null;case 13:if(qe(ct),(l=c.memoizedState)!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(s(340));Eo()}return 65536&(l=c.flags)?(c.flags=-65537&l|128,c):null;case 19:return qe(ct),null;case 4:return Po(),null;case 10:return Lf(c.type._context),null;case 22:case 23:return Cp(),null;default:return null}}var ac=!1,Qt=!1,OA=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ro(l,c){var v=l.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(_){et(l,c,_)}else v.current=null}function _1(l,c,v){try{v()}catch(_){et(l,c,_)}}var w1=!1;function rl(l,c,v){var _=c.updateQueue;if((_=_!==null?_.lastEffect:null)!==null){var E=_=_.next;do{if((E.tag&l)===l){var A=E.destroy;E.destroy=void 0,A!==void 0&&_1(c,v,A)}E=E.next}while(E!==_)}}function lc(l,c){if((c=(c=c.updateQueue)!==null?c.lastEffect:null)!==null){var v=c=c.next;do{if((v.tag&l)===l){var _=v.create;v.destroy=_()}v=v.next}while(v!==c)}}function cp(l){var c=l.ref;if(c!==null){var v=l.stateNode;l.tag===5?l=Q(v):l=v,typeof c=="function"?c(l):c.current=l}}function S1(l){var c=l.alternate;c!==null&&(l.alternate=null,S1(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode)!==null&&Ss(c),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function E1(l){return l.tag===5||l.tag===3||l.tag===4}function T1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||E1(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function hp(l,c,v){var _=l.tag;if(_===5||_===6)l=l.stateNode,c?zC(v,l,c):BC(v,l);else if(_!==4&&(l=l.child)!==null)for(hp(l,c,v),l=l.sibling;l!==null;)hp(l,c,v),l=l.sibling}function dp(l,c,v){var _=l.tag;if(_===5||_===6)l=l.stateNode,c?GC(v,l,c):NC(v,l);else if(_!==4&&(l=l.child)!==null)for(dp(l,c,v),l=l.sibling;l!==null;)dp(l,c,v),l=l.sibling}var ir=null,In=!1;function Rn(l,c,v){for(v=v.child;v!==null;)fp(l,c,v),v=v.sibling}function fp(l,c,v){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Uu,v)}catch{}switch(v.tag){case 5:Qt||Ro(v,c);case 6:if(Ae){var _=ir,E=In;ir=null,Rn(l,c,v),In=E,(ir=_)!==null&&(In?$C(ir,v.stateNode):HC(ir,v.stateNode))}else Rn(l,c,v);break;case 18:Ae&&ir!==null&&(In?dA(ir,v.stateNode):hA(ir,v.stateNode));break;case 4:Ae?(_=ir,E=In,ir=v.stateNode.containerInfo,In=!0,Rn(l,c,v),ir=_,In=E):($e&&(_=v.stateNode.containerInfo,E=iy(_),vf(_,E)),Rn(l,c,v));break;case 0:case 11:case 14:case 15:if(!Qt&&(_=v.updateQueue)!==null&&(_=_.lastEffect)!==null){E=_=_.next;do{var A=E,D=A.destroy;A=A.tag,D!==void 0&&(2&A||4&A)&&_1(v,c,D),E=E.next}while(E!==_)}Rn(l,c,v);break;case 1:if(!Qt&&(Ro(v,c),typeof(_=v.stateNode).componentWillUnmount=="function"))try{_.props=v.memoizedProps,_.state=v.memoizedState,_.componentWillUnmount()}catch(L){et(v,c,L)}Rn(l,c,v);break;case 21:Rn(l,c,v);break;case 22:1&v.mode?(Qt=(_=Qt)||v.memoizedState!==null,Rn(l,c,v),Qt=_):Rn(l,c,v);break;default:Rn(l,c,v)}}function b1(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var v=l.stateNode;v===null&&(v=l.stateNode=new OA),c.forEach(function(_){var E=VA.bind(null,l,_);v.has(_)||(v.add(_),_.then(E,E))})}}function rn(l,c){var v=c.deletions;if(v!==null)for(var _=0;_<v.length;_++){var E=v[_];try{var A=l,D=c;if(Ae){var L=D;e:for(;L!==null;){switch(L.tag){case 5:ir=L.stateNode,In=!1;break e;case 3:case 4:ir=L.stateNode.containerInfo,In=!0;break e}L=L.return}if(ir===null)throw Error(s(160));fp(A,D,E),ir=null,In=!1}else fp(A,D,E);var $=E.alternate;$!==null&&($.return=null),E.return=null}catch(Y){et(E,c,Y)}}if(12854&c.subtreeFlags)for(c=c.child;c!==null;)C1(c,l),c=c.sibling}function C1(l,c){var v=l.alternate,_=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(rn(c,l),Mn(l),4&_){try{rl(3,l,l.return),lc(3,l)}catch(K){et(l,l.return,K)}try{rl(5,l,l.return)}catch(K){et(l,l.return,K)}}break;case 1:rn(c,l),Mn(l),512&_&&v!==null&&Ro(v,v.return);break;case 5:if(rn(c,l),Mn(l),512&_&&v!==null&&Ro(v,v.return),Ae){if(32&l.flags){var E=l.stateNode;try{ny(E)}catch(K){et(l,l.return,K)}}if(4&_&&(E=l.stateNode)!=null){var A=l.memoizedProps;if(v=v!==null?v.memoizedProps:A,_=l.type,c=l.updateQueue,l.updateQueue=null,c!==null)try{UC(E,c,_,v,A,l)}catch(K){et(l,l.return,K)}}}break;case 6:if(rn(c,l),Mn(l),4&_&&Ae){if(l.stateNode===null)throw Error(s(162));E=l.stateNode,A=l.memoizedProps,v=v!==null?v.memoizedProps:A;try{OC(E,v,A)}catch(K){et(l,l.return,K)}}break;case 3:if(rn(c,l),Mn(l),4&_){if(Ae&&De&&v!==null&&v.memoizedState.isDehydrated)try{uA(c.containerInfo)}catch(K){et(l,l.return,K)}if($e){E=c.containerInfo,A=c.pendingChildren;try{vf(E,A)}catch(K){et(l,l.return,K)}}}break;case 4:if(rn(c,l),Mn(l),4&_&&$e){E=(A=l.stateNode).containerInfo,A=A.pendingChildren;try{vf(E,A)}catch(K){et(l,l.return,K)}}break;case 13:rn(c,l),Mn(l),8192&(E=l.child).flags&&(A=E.memoizedState!==null,E.stateNode.isHidden=A,!A||E.alternate!==null&&E.alternate.memoizedState!==null||(_p=Pt())),4&_&&b1(l);break;case 22:var D=v!==null&&v.memoizedState!==null;if(1&l.mode?(Qt=(v=Qt)||D,rn(c,l),Qt=v):rn(c,l),Mn(l),8192&_){if(v=l.memoizedState!==null,(l.stateNode.isHidden=v)&&!D&&(1&l.mode)!=0)for(ce=l,_=l.child;_!==null;){for(c=ce=_;ce!==null;){var L=(D=ce).child;switch(D.tag){case 0:case 11:case 14:case 15:rl(4,D,D.return);break;case 1:Ro(D,D.return);var $=D.stateNode;if(typeof $.componentWillUnmount=="function"){var Y=D,q=D.return;try{var ie=Y;$.props=ie.memoizedProps,$.state=ie.memoizedState,$.componentWillUnmount()}catch(K){et(Y,q,K)}}break;case 5:Ro(D,D.return);break;case 22:if(D.memoizedState!==null){I1(c);continue}}L!==null?(L.return=D,ce=L):I1(c)}_=_.sibling}if(Ae){e:if(_=null,Ae)for(c=l;;){if(c.tag===5){if(_===null){_=c;try{E=c.stateNode,v?VC(E):WC(c.stateNode,c.memoizedProps)}catch(K){et(l,l.return,K)}}}else if(c.tag===6){if(_===null)try{A=c.stateNode,v?jC(A):XC(A,c.memoizedProps)}catch(K){et(l,l.return,K)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;_===c&&(_=null),c=c.return}_===c&&(_=null),c.sibling.return=c.return,c=c.sibling}}}break;case 19:rn(c,l),Mn(l),4&_&&b1(l);break;case 21:break;default:rn(c,l),Mn(l)}}function Mn(l){var c=l.flags;if(2&c){try{if(Ae){e:{for(var v=l.return;v!==null;){if(E1(v)){var _=v;break e}v=v.return}throw Error(s(160))}switch(_.tag){case 5:var E=_.stateNode;32&_.flags&&(ny(E),_.flags&=-33),dp(l,T1(l),E);break;case 3:case 4:var A=_.stateNode.containerInfo;hp(l,T1(l),A);break;default:throw Error(s(161))}}}catch(D){et(l,l.return,D)}l.flags&=-3}4096&c&&(l.flags&=-4097)}function LA(l,c,v){ce=l,A1(l)}function A1(l,c,v){for(var _=(1&l.mode)!=0;ce!==null;){var E=ce,A=E.child;if(E.tag===22&&_){var D=E.memoizedState!==null||ac;if(!D){var L=E.alternate,$=L!==null&&L.memoizedState!==null||Qt;L=ac;var Y=Qt;if(ac=D,(Qt=$)&&!Y)for(ce=E;ce!==null;)$=(D=ce).child,D.tag===22&&D.memoizedState!==null?R1(E):$!==null?($.return=D,ce=$):R1(E);for(;A!==null;)ce=A,A1(A),A=A.sibling;ce=E,ac=L,Qt=Y}P1(l)}else 8772&E.subtreeFlags&&A!==null?(A.return=E,ce=A):P1(l)}}function P1(l){for(;ce!==null;){var c=ce;if(8772&c.flags){var v=c.alternate;try{if(8772&c.flags)switch(c.tag){case 0:case 11:case 15:Qt||lc(5,c);break;case 1:var _=c.stateNode;if(4&c.flags&&!Qt)if(v===null)_.componentDidMount();else{var E=c.elementType===c.type?v.memoizedProps:tn(c.type,v.memoizedProps);_.componentDidUpdate(E,v.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Cy(c,A,_);break;case 3:var D=c.updateQueue;if(D!==null){if(v=null,c.child!==null)switch(c.child.tag){case 5:v=Q(c.child.stateNode);break;case 1:v=c.child.stateNode}Cy(c,D,v)}break;case 5:var L=c.stateNode;v===null&&4&c.flags&&LC(L,c.type,c.memoizedProps,c);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(De&&c.memoizedState===null){var $=c.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var q=Y.dehydrated;q!==null&&cA(q)}}}break;default:throw Error(s(163))}Qt||512&c.flags&&cp(c)}catch(ie){et(c,c.return,ie)}}if(c===l){ce=null;break}if((v=c.sibling)!==null){v.return=c.return,ce=v;break}ce=c.return}}function I1(l){for(;ce!==null;){var c=ce;if(c===l){ce=null;break}var v=c.sibling;if(v!==null){v.return=c.return,ce=v;break}ce=c.return}}function R1(l){for(;ce!==null;){var c=ce;try{switch(c.tag){case 0:case 11:case 15:var v=c.return;try{lc(4,c)}catch($){et(c,v,$)}break;case 1:var _=c.stateNode;if(typeof _.componentDidMount=="function"){var E=c.return;try{_.componentDidMount()}catch($){et(c,E,$)}}var A=c.return;try{cp(c)}catch($){et(c,A,$)}break;case 5:var D=c.return;try{cp(c)}catch($){et(c,D,$)}}}catch($){et(c,c.return,$)}if(c===l){ce=null;break}var L=c.sibling;if(L!==null){L.return=c.return,ce=L;break}ce=c.return}}var uc=0,cc=1,hc=2,dc=3,fc=4;if(typeof Symbol=="function"&&Symbol.for){var nl=Symbol.for;uc=nl("selector.component"),cc=nl("selector.has_pseudo_class"),hc=nl("selector.role"),dc=nl("selector.test_id"),fc=nl("selector.text")}function pp(l){var c=Wt(l);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(s(364));return c}if((l=Nu(l))===null)throw Error(s(362));return l.stateNode.current}function mp(l,c){switch(c.$$typeof){case uc:if(l.type===c.value)return!0;break;case cc:e:{c=c.value,l=[l,0];for(var v=0;v<l.length;){var _=l[v++],E=l[v++],A=c[E];if(_.tag!==5||!Es(_)){for(;A!=null&&mp(_,A);)A=c[++E];if(E===c.length){c=!0;break e}for(_=_.child;_!==null;)l.push(_,E),_=_.sibling}}c=!1}return c;case hc:if(l.tag===5&&vo(l.stateNode,c.value))return!0;break;case fc:if((l.tag===5||l.tag===6)&&(l=gf(l))!==null&&0<=l.indexOf(c.value))return!0;break;case dc:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===c.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function gp(l){switch(l.$$typeof){case uc:return"<"+(I(l.value)||"Unknown")+">";case cc:return":has("+(gp(l)||"")+")";case hc:return'[role="'+l.value+'"]';case fc:return'"'+l.value+'"';case dc:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function M1(l,c){var v=[];l=[l,0];for(var _=0;_<l.length;){var E=l[_++],A=l[_++],D=c[A];if(E.tag!==5||!Es(E)){for(;D!=null&&mp(E,D);)D=c[++A];if(A===c.length)v.push(E);else for(E=E.child;E!==null;)l.push(E,A),E=E.sibling}}return v}function vp(l,c){if(!Pi)throw Error(s(363));l=M1(l=pp(l),c),c=[],l=Array.from(l);for(var v=0;v<l.length;){var _=l[v++];if(_.tag===5)Es(_)||c.push(_.stateNode);else for(_=_.child;_!==null;)l.push(_),_=_.sibling}return c}var UA=Math.ceil,pc=o.ReactCurrentDispatcher,yp=o.ReactCurrentOwner,ft=o.ReactCurrentBatchConfig,Fe=0,Mt=null,xt=null,Lt=0,Tr=0,Mo=Ii(0),Et=0,il=null,Is=0,mc=0,xp=0,sl=null,br=null,_p=0,wp=1/0,Di=null;function ko(){wp=Pt()+500}var k1,gc=!1,Sp=null,Fi=null,vc=!1,Ni=null,yc=0,ol=0,Ep=null,xc=-1,_c=0;function Kt(){return 6&Fe?Pt():xc!==-1?xc:xc=Pt()}function Bi(l){return 1&l.mode?2&Fe&&Lt!==0?Lt&-Lt:TA.transition!==null?(_c===0&&(_c=dy()),_c):(l=Oe)!==0?l:wn():1}function Gr(l,c,v,_){if(50<ol)throw ol=0,Ep=null,Error(s(185));Va(l,v,_),2&Fe&&l===Mt||(l===Mt&&(!(2&Fe)&&(mc|=v),Et===4&&Oi(l,Lt)),fr(l,_),v===1&&Fe===0&&!(1&c.mode)&&(ko(),Gu&&En()))}function fr(l,c){var v=l.callbackNode;(function(E,A){for(var D=E.suspendedLanes,L=E.pingedLanes,$=E.expirationTimes,Y=E.pendingLanes;0<Y;){var q=31-qr(Y),ie=1<<q,K=$[q];K===-1?ie&D&&!(ie&L)||($[q]=xA(ie,A)):K<=A&&(E.expiredLanes|=ie),Y&=~ie}})(l,c);var _=Lu(l,l===Mt?Lt:0);if(_===0)v!==null&&py(v),l.callbackNode=null,l.callbackPriority=0;else if(c=_&-_,l.callbackPriority!==c){if(v!=null&&py(v),c===1)l.tag===0?function(E){Gu=!0,gy(E)}(F1.bind(null,l)):gy(F1.bind(null,l)),ri?Fu(function(){!(6&Fe)&&En()}):Pf(If,En),v=null;else{switch(fy(_)){case 1:v=If;break;case 4:v=SA;break;case 16:default:v=my;break;case 536870912:v=EA}v=H1(v,D1.bind(null,l))}l.callbackPriority=c,l.callbackNode=v}}function D1(l,c){if(xc=-1,_c=0,(6&Fe)!=0)throw Error(s(327));var v=l.callbackNode;if(Ms()&&l.callbackNode!==v)return null;var _=Lu(l,l===Mt?Lt:0);if(_===0)return null;if(30&_||_&l.expiredLanes||c)c=wc(l,_);else{c=_;var E=Fe;Fe|=2;var A=O1();for(Mt===l&&Lt===c||(Di=null,ko(),Rs(l,c));;)try{zA();break}catch(L){B1(l,L)}Of(),pc.current=A,Fe=E,xt!==null?c=0:(Mt=null,Lt=0,c=Et)}if(c!==0){if(c===2&&(E=bf(l))!==0&&(_=E,c=Tp(l,E)),c===1)throw v=il,Rs(l,0),Oi(l,_),fr(l,Pt()),v;if(c===6)Oi(l,_);else{if(E=l.current.alternate,(30&_)==0&&!function(L){for(var $=L;;){if(16384&$.flags){var Y=$.updateQueue;if(Y!==null&&(Y=Y.stores)!==null)for(var q=0;q<Y.length;q++){var ie=Y[q],K=ie.getSnapshot;ie=ie.value;try{if(!Jr(K(),ie))return!1}catch{return!1}}}if(Y=$.child,16384&$.subtreeFlags&&Y!==null)Y.return=$,$=Y;else{if($===L)break;for(;$.sibling===null;){if($.return===null||$.return===L)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}(E)&&((c=wc(l,_))===2&&(A=bf(l))!==0&&(_=A,c=Tp(l,A)),c===1))throw v=il,Rs(l,0),Oi(l,_),fr(l,Pt()),v;switch(l.finishedWork=E,l.finishedLanes=_,c){case 0:case 1:throw Error(s(345));case 2:case 5:Do(l,br,Di);break;case 3:if(Oi(l,_),(130023424&_)===_&&10<(c=_p+500-Pt())){if(Lu(l,0)!==0)break;if(((E=l.suspendedLanes)&_)!==_){Kt(),l.pingedLanes|=l.suspendedLanes&E;break}l.timeoutHandle=Ce(Do.bind(null,l,br,Di),c);break}Do(l,br,Di);break;case 4:if(Oi(l,_),(4194240&_)===_)break;for(c=l.eventTimes,E=-1;0<_;){var D=31-qr(_);A=1<<D,(D=c[D])>E&&(E=D),_&=~A}if(_=E,10<(_=(120>(_=Pt()-_)?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*UA(_/1960))-_)){l.timeoutHandle=Ce(Do.bind(null,l,br,Di),_);break}Do(l,br,Di);break;default:throw Error(s(329))}}}return fr(l,Pt()),l.callbackNode===v?D1.bind(null,l):null}function Tp(l,c){var v=sl;return l.current.memoizedState.isDehydrated&&(Rs(l,c).flags|=256),(l=wc(l,c))!==2&&(c=br,br=v,c!==null&&bp(c)),l}function bp(l){br===null?br=l:br.push.apply(br,l)}function Oi(l,c){for(c&=~xp,c&=~mc,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var v=31-qr(c),_=1<<v;l[v]=-1,c&=~_}}function F1(l){if(6&Fe)throw Error(s(327));Ms();var c=Lu(l,0);if(!(1&c))return fr(l,Pt()),null;var v=wc(l,c);if(l.tag!==0&&v===2){var _=bf(l);_!==0&&(c=_,v=Tp(l,_))}if(v===1)throw v=il,Rs(l,0),Oi(l,c),fr(l,Pt()),v;if(v===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,Do(l,br,Di),fr(l,Pt()),null}function N1(l){Ni!==null&&Ni.tag===0&&!(6&Fe)&&Ms();var c=Fe;Fe|=1;var v=ft.transition,_=Oe;try{if(ft.transition=null,Oe=1,l)return l()}finally{Oe=_,ft.transition=v,!(6&(Fe=c))&&En()}}function Cp(){Tr=Mo.current,qe(Mo)}function Rs(l,c){l.finishedWork=null,l.finishedLanes=0;var v=l.timeoutHandle;if(v!==St&&(l.timeoutHandle=St,Ue(v)),xt!==null)for(v=xt.return;v!==null;){var _=v;switch(kf(_),_.tag){case 1:(_=_.type.childContextTypes)!=null&&Sf();break;case 3:Po(),qe(cr),qe(Xt),Xf();break;case 5:jf(_);break;case 4:Po();break;case 13:case 19:qe(ct);break;case 10:Lf(_.type._context);break;case 22:case 23:Cp()}v=v.return}if(Mt=l,xt=l=Li(l.current,null),Lt=Tr=c,Et=0,il=null,xp=mc=Is=0,br=sl=null,As!==null){for(c=0;c<As.length;c++)if((_=(v=As[c]).interleaved)!==null){v.interleaved=null;var E=_.next,A=v.pending;if(A!==null){var D=A.next;A.next=E,_.next=D}v.pending=_}As=null}return l}function B1(l,c){for(;;){var v=xt;try{if(Of(),qu.current=rc,Ju){for(var _=nt.memoizedState;_!==null;){var E=_.queue;E!==null&&(E.pending=null),_=_.next}Ju=!1}if(Ps=0,Rt=It=nt=null,Qa=!1,Ka=0,yp.current=null,v===null||v.return===null){Et=1,il=c,xt=null;break}e:{var A=l,D=v.return,L=v,$=c;if(c=Lt,L.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Y=$,q=L,ie=q.tag;if(!(1&q.mode)&&(ie===0||ie===11||ie===15)){var K=q.alternate;K?(q.updateQueue=K.updateQueue,q.memoizedState=K.memoizedState,q.lanes=K.lanes):(q.updateQueue=null,q.memoizedState=null)}var re=s1(D);if(re!==null){re.flags&=-257,o1(re,D,L,0,c),1&re.mode&&i1(A,Y,c),$=Y;var pe=(c=re).updateQueue;if(pe===null){var Pe=new Set;Pe.add($),c.updateQueue=Pe}else pe.add($);break e}if(!(1&c)){i1(A,Y,c),Ap();break e}$=Error(s(426))}else if(Je&&1&L.mode){var J=s1(D);if(J!==null){!(65536&J.flags)&&(J.flags|=256),o1(J,D,L,0,c),Nf(Io($,L));break e}}A=$=Io($,L),Et!==4&&(Et=2),sl===null?sl=[A]:sl.push(A),A=D;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c,by(A,r1(0,$,c));break e;case 1:L=$;var z=A.type,X=A.stateNode;if(!(128&A.flags)&&(typeof z.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Fi===null||!Fi.has(X)))){A.flags|=65536,c&=-c,A.lanes|=c,by(A,n1(A,L,c));break e}}A=A.return}while(A!==null)}U1(v)}catch(ee){c=ee,xt===v&&v!==null&&(xt=v=v.return);continue}break}}function O1(){var l=pc.current;return pc.current=rc,l===null?rc:l}function Ap(){Et!==0&&Et!==3&&Et!==2||(Et=4),Mt===null||!(268435455&Is)&&!(268435455&mc)||Oi(Mt,Lt)}function wc(l,c){var v=Fe;Fe|=2;var _=O1();for(Mt===l&&Lt===c||(Di=null,Rs(l,c));;)try{GA();break}catch(E){B1(l,E)}if(Of(),Fe=v,pc.current=_,xt!==null)throw Error(s(261));return Mt=null,Lt=0,Et}function GA(){for(;xt!==null;)L1(xt)}function zA(){for(;xt!==null&&!_A();)L1(xt)}function L1(l){var c=k1(l.alternate,l,Tr);l.memoizedProps=l.pendingProps,c===null?U1(l):xt=c,yp.current=null}function U1(l){var c=l;do{var v=c.alternate;if(l=c.return,(32768&c.flags)==0){if((v=NA(v,c,Tr))!==null)return void(xt=v)}else{if((v=BA(v,c))!==null)return v.flags&=32767,void(xt=v);if(l===null)return Et=6,void(xt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((c=c.sibling)!==null)return void(xt=c);xt=c=l}while(c!==null);Et===0&&(Et=5)}function Do(l,c,v){var _=Oe,E=ft.transition;try{ft.transition=null,Oe=1,function(A,D,L,$){do Ms();while(Ni!==null);if(6&Fe)throw Error(s(327));L=A.finishedWork;var Y=A.finishedLanes;if(L===null)return null;if(A.finishedWork=null,A.finishedLanes=0,L===A.current)throw Error(s(177));A.callbackNode=null,A.callbackPriority=0;var q=L.lanes|L.childLanes;if(function(re,pe){var Pe=re.pendingLanes&~pe;re.pendingLanes=pe,re.suspendedLanes=0,re.pingedLanes=0,re.expiredLanes&=pe,re.mutableReadLanes&=pe,re.entangledLanes&=pe,pe=re.entanglements;var J=re.eventTimes;for(re=re.expirationTimes;0<Pe;){var z=31-qr(Pe),X=1<<z;pe[z]=0,J[z]=-1,re[z]=-1,Pe&=~X}}(A,q),A===Mt&&(xt=Mt=null,Lt=0),!(2064&L.subtreeFlags)&&!(2064&L.flags)||vc||(vc=!0,H1(my,function(){return Ms(),null})),q=(15990&L.flags)!=0,(15990&L.subtreeFlags)!=0||q){q=ft.transition,ft.transition=null;var ie=Oe;Oe=1;var K=Fe;Fe|=4,yp.current=null,function(re,pe){for(V(re.containerInfo),ce=pe;ce!==null;)if(pe=(re=ce).child,(1028&re.subtreeFlags)!=0&&pe!==null)pe.return=re,ce=pe;else for(;ce!==null;){re=ce;try{var Pe=re.alternate;if(1024&re.flags)switch(re.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Pe!==null){var J=Pe.memoizedProps,z=Pe.memoizedState,X=re.stateNode,ee=X.getSnapshotBeforeUpdate(re.elementType===re.type?J:tn(re.type,J),z);X.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:Ae&&YC(re.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Se){et(re,re.return,Se)}if((pe=re.sibling)!==null){pe.return=re.return,ce=pe;break}ce=re.return}Pe=w1,w1=!1}(A,L),C1(L,A),G(A.containerInfo),A.current=L,LA(L),wA(),Fe=K,Oe=ie,ft.transition=q}else A.current=L;if(vc&&(vc=!1,Ni=A,yc=Y),q=A.pendingLanes,q===0&&(Fi=null),function(re){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Uu,re,void 0,(128&re.current.flags)==128)}catch{}}(L.stateNode),fr(A,Pt()),D!==null)for($=A.onRecoverableError,L=0;L<D.length;L++)Y=D[L],$(Y.value,{componentStack:Y.stack,digest:Y.digest});if(gc)throw gc=!1,A=Sp,Sp=null,A;1&yc&&A.tag!==0&&Ms(),q=A.pendingLanes,1&q?A===Ep?ol++:(ol=0,Ep=A):ol=0,En()}(l,c,v,_)}finally{ft.transition=E,Oe=_}return null}function Ms(){if(Ni!==null){var l=fy(yc),c=ft.transition,v=Oe;try{if(ft.transition=null,Oe=16>l?16:l,Ni===null)var _=!1;else{if(l=Ni,Ni=null,yc=0,(6&Fe)!=0)throw Error(s(331));var E=Fe;for(Fe|=4,ce=l.current;ce!==null;){var A=ce,D=A.child;if(16&ce.flags){var L=A.deletions;if(L!==null){for(var $=0;$<L.length;$++){var Y=L[$];for(ce=Y;ce!==null;){var q=ce;switch(q.tag){case 0:case 11:case 15:rl(8,q,A)}var ie=q.child;if(ie!==null)ie.return=q,ce=ie;else for(;ce!==null;){var K=(q=ce).sibling,re=q.return;if(S1(q),q===Y){ce=null;break}if(K!==null){K.return=re,ce=K;break}ce=re}}}var pe=A.alternate;if(pe!==null){var Pe=pe.child;if(Pe!==null){pe.child=null;do{var J=Pe.sibling;Pe.sibling=null,Pe=J}while(Pe!==null)}}ce=A}}if(2064&A.subtreeFlags&&D!==null)D.return=A,ce=D;else e:for(;ce!==null;){if(2048&(A=ce).flags)switch(A.tag){case 0:case 11:case 15:rl(9,A,A.return)}var z=A.sibling;if(z!==null){z.return=A.return,ce=z;break e}ce=A.return}}var X=l.current;for(ce=X;ce!==null;){var ee=(D=ce).child;if(2064&D.subtreeFlags&&ee!==null)ee.return=D,ce=ee;else e:for(D=X;ce!==null;){if(2048&(L=ce).flags)try{switch(L.tag){case 0:case 11:case 15:lc(9,L)}}catch(Ge){et(L,L.return,Ge)}if(L===D){ce=null;break e}var Se=L.sibling;if(Se!==null){Se.return=L.return,ce=Se;break e}ce=L.return}}if(Fe=E,En(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Uu,l)}catch{}_=!0}return _}finally{Oe=v,ft.transition=c}}return!1}function G1(l,c,v){l=ki(l,c=r1(0,c=Io(v,c),1),1),c=Kt(),l!==null&&(Va(l,1,c),fr(l,c))}function et(l,c,v){if(l.tag===3)G1(l,l,v);else for(;c!==null;){if(c.tag===3){G1(c,l,v);break}if(c.tag===1){var _=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Fi===null||!Fi.has(_))){c=ki(c,l=n1(c,l=Io(v,l),1),1),l=Kt(),c!==null&&(Va(c,1,l),fr(c,l));break}}c=c.return}}function HA(l,c,v){var _=l.pingCache;_!==null&&_.delete(c),c=Kt(),l.pingedLanes|=l.suspendedLanes&v,Mt===l&&(Lt&v)===v&&(Et===4||Et===3&&(130023424&Lt)===Lt&&500>Pt()-_p?Rs(l,0):xp|=v),fr(l,c)}function z1(l,c){c===0&&(1&l.mode?(c=Tf,!(130023424&(Tf<<=1))&&(Tf=4194304)):c=1);var v=Kt();(l=bn(l,c))!==null&&(Va(l,c,v),fr(l,v))}function $A(l){var c=l.memoizedState,v=0;c!==null&&(v=c.retryLane),z1(l,v)}function VA(l,c){var v=0;switch(l.tag){case 13:var _=l.stateNode,E=l.memoizedState;E!==null&&(v=E.retryLane);break;case 19:_=l.stateNode;break;default:throw Error(s(314))}_!==null&&_.delete(c),z1(l,v)}function H1(l,c){return Pf(l,c)}function jA(l,c,v,_){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(l,c,v,_){return new jA(l,c,v,_)}function Pp(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Li(l,c){var v=l.alternate;return v===null?((v=zr(l.tag,c,l.key,l.mode)).elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=c,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=14680064&l.flags,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,c=l.dependencies,v.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v}function Sc(l,c,v,_,E,A){var D=2;if(_=l,typeof l=="function")Pp(l)&&(D=1);else if(typeof l=="string")D=5;else e:switch(l){case h:return ks(v.children,E,A,c);case f:D=8,E|=8;break;case m:return(l=zr(12,v,c,2|E)).elementType=m,l.lanes=A,l;case y:return(l=zr(13,v,c,E)).elementType=y,l.lanes=A,l;case x:return(l=zr(19,v,c,E)).elementType=x,l.lanes=A,l;case S:return Ec(v,E,A,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case p:D=10;break e;case d:D=9;break e;case g:D=11;break e;case w:D=14;break e;case T:D=16,_=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(c=zr(D,v,c,E)).elementType=l,c.type=_,c.lanes=A,c}function ks(l,c,v,_){return(l=zr(7,l,_,c)).lanes=v,l}function Ec(l,c,v,_){return(l=zr(22,l,_,c)).elementType=S,l.lanes=v,l.stateNode={isHidden:!1},l}function Ip(l,c,v){return(l=zr(6,l,null,c)).lanes=v,l}function Rp(l,c,v){return(c=zr(4,l.children!==null?l.children:[],l.key,c)).lanes=v,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function WA(l,c,v,_,E){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=St,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=_,this.onRecoverableError=E,De&&(this.mutableSourceEagerHydrationData=null)}function $1(l,c,v,_,E,A,D,L,$){return l=new WA(l,c,v,L,$),c===1?(c=1,A===!0&&(c|=8)):c=0,A=zr(3,null,null,c),l.current=A,A.stateNode=l,A.memoizedState={element:_,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(A),l}function V1(l){if(!l)return Ri;e:{if(P(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Sr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(s(171))}if(l.tag===1){var v=l.type;if(Sr(v))return cy(l,v,c)}return c}function j1(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=B(c))===null?null:l.stateNode}function W1(l,c){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<c?v:c}}function Tc(l,c){W1(l,c),(l=l.alternate)&&W1(l,c)}function XA(l){return(l=B(l))===null?null:l.stateNode}function YA(){return null}return k1=function(l,c,v){if(l!==null)if(l.memoizedProps!==c.pendingProps||cr.current)hr=!0;else{if(!(l.lanes&v)&&!(128&c.flags))return hr=!1,function(ie,K,re){switch(K.tag){case 3:f1(K),Eo();break;case 5:Fy(K);break;case 1:Sr(K.type)&&Ou(K);break;case 4:Vf(K,K.stateNode.containerInfo);break;case 10:Sy(0,K.type._context,K.memoizedProps.value);break;case 13:var pe=K.memoizedState;if(pe!==null)return pe.dehydrated!==null?(Ve(ct,1&ct.current),K.flags|=128,null):re&K.child.childLanes?m1(ie,K,re):(Ve(ct,1&ct.current),(ie=oi(ie,K,re))!==null?ie.sibling:null);Ve(ct,1&ct.current);break;case 19:if(pe=(re&K.childLanes)!=0,(128&ie.flags)!=0){if(pe)return v1(ie,K,re);K.flags|=128}var Pe=K.memoizedState;if(Pe!==null&&(Pe.rendering=null,Pe.tail=null,Pe.lastEffect=null),Ve(ct,ct.current),pe)break;return null;case 22:case 23:return K.lanes=0,c1(ie,K,re)}return oi(ie,K,re)}(l,c,v);hr=(131072&l.flags)!=0}else hr=!1,Je&&1048576&c.flags&&vy(c,Hu,c.index);switch(c.lanes=0,c.tag){case 2:var _=c.type;oc(l,c),l=c.pendingProps;var E=_o(c,Xt.current);bo(c,v),E=Kf(null,c,_,l,E,v);var A=Zf();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Sr(_)?(A=!0,Ou(c)):A=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,zf(c),E.updater=Qu,c.stateNode=E,E._reactInternals=c,$f(c,_,l,v),c=sp(null,c,_,!0,A,v)):(c.tag=0,Je&&A&&Mf(c),dr(null,c,E,v),c=c.child),c;case 16:_=c.elementType;e:{switch(oc(l,c),l=c.pendingProps,_=(E=_._init)(_._payload),c.type=_,E=c.tag=function(ie){if(typeof ie=="function")return Pp(ie)?1:0;if(ie!=null){if((ie=ie.$$typeof)===g)return 11;if(ie===w)return 14}return 2}(_),l=tn(_,l),E){case 0:c=ip(null,c,_,l,v);break e;case 1:c=d1(null,c,_,l,v);break e;case 11:c=a1(null,c,_,l,v);break e;case 14:c=l1(null,c,_,tn(_.type,l),v);break e}throw Error(s(306,_,""))}return c;case 0:return _=c.type,E=c.pendingProps,ip(l,c,_,E=c.elementType===_?E:tn(_,E),v);case 1:return _=c.type,E=c.pendingProps,d1(l,c,_,E=c.elementType===_?E:tn(_,E),v);case 3:e:{if(f1(c),l===null)throw Error(s(387));_=c.pendingProps,E=(A=c.memoizedState).element,Ty(l,c),Yu(c,_,null,v);var D=c.memoizedState;if(_=D.element,De&&A.isDehydrated){if(A={element:_,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=A,c.memoizedState=A,256&c.flags){c=p1(l,c,_,v,E=Io(Error(s(423)),c));break e}if(_!==E){c=p1(l,c,_,v,E=Io(Error(s(424)),c));break e}for(De&&(Br=nA(c.stateNode.containerInfo),Er=c,Je=!0,en=null,ja=!1),v=Dy(c,null,_,v),c.child=v;v;)v.flags=-3&v.flags|4096,v=v.sibling}else{if(Eo(),_===E){c=oi(l,c,v);break e}dr(l,c,_,v)}c=c.child}return c;case 5:return Fy(c),l===null&&Ff(c),_=c.type,E=c.pendingProps,A=l!==null?l.memoizedProps:null,D=E.children,be(_,E)?D=null:A!==null&&be(_,A)&&(c.flags|=32),h1(l,c),dr(l,c,D,v),c.child;case 6:return l===null&&Ff(c),null;case 13:return m1(l,c,v);case 4:return Vf(c,c.stateNode.containerInfo),_=c.pendingProps,l===null?c.child=Co(c,null,_,v):dr(l,c,_,v),c.child;case 11:return _=c.type,E=c.pendingProps,a1(l,c,_,E=c.elementType===_?E:tn(_,E),v);case 7:return dr(l,c,c.pendingProps,v),c.child;case 8:case 12:return dr(l,c,c.pendingProps.children,v),c.child;case 10:e:{if(_=c.type._context,E=c.pendingProps,A=c.memoizedProps,Sy(0,_,D=E.value),A!==null)if(Jr(A.value,D)){if(A.children===E.children&&!cr.current){c=oi(l,c,v);break e}}else for((A=c.child)!==null&&(A.return=c);A!==null;){var L=A.dependencies;if(L!==null){D=A.child;for(var $=L.firstContext;$!==null;){if($.context===_){if(A.tag===1){($=si(-1,v&-v)).tag=2;var Y=A.updateQueue;if(Y!==null){var q=(Y=Y.shared).pending;q===null?$.next=$:($.next=q.next,q.next=$),Y.pending=$}}A.lanes|=v,($=A.alternate)!==null&&($.lanes|=v),Uf(A.return,v,c),L.lanes|=v;break}$=$.next}}else if(A.tag===10)D=A.type===c.type?null:A.child;else if(A.tag===18){if((D=A.return)===null)throw Error(s(341));D.lanes|=v,(L=D.alternate)!==null&&(L.lanes|=v),Uf(D,v,c),D=A.sibling}else D=A.child;if(D!==null)D.return=A;else for(D=A;D!==null;){if(D===c){D=null;break}if((A=D.sibling)!==null){A.return=D.return,D=A;break}D=D.return}A=D}dr(l,c,E.children,v),c=c.child}return c;case 9:return E=c.type,_=c.pendingProps.children,bo(c,v),_=_(E=Or(E)),c.flags|=1,dr(l,c,_,v),c.child;case 14:return E=tn(_=c.type,c.pendingProps),l1(l,c,_,E=tn(_.type,E),v);case 15:return u1(l,c,c.type,c.pendingProps,v);case 17:return _=c.type,E=c.pendingProps,E=c.elementType===_?E:tn(_,E),oc(l,c),c.tag=1,Sr(_)?(l=!0,Ou(c)):l=!1,bo(c,v),Iy(c,_,E),$f(c,_,E,v),sp(null,c,_,!0,l,v);case 19:return v1(l,c,v);case 22:return c1(l,c,v)}throw Error(s(156,c.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var c=bn(l,134217728);c!==null&&Gr(c,l,134217728,Kt()),Tc(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var c=bn(l,1);c!==null&&Gr(c,l,1,Kt()),Tc(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var c=Bi(l),v=bn(l,c);v!==null&&Gr(v,l,c,Kt()),Tc(l,c)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var v=$a(c.pendingLanes);v!==0&&(Af(c,1|v),fr(c,Pt()),!(6&Fe)&&(ko(),En()))}break;case 13:N1(function(){var _=bn(l,1);if(_!==null){var E=Kt();Gr(_,l,1,E)}}),Tc(l,1)}},e.batchedUpdates=function(l,c){var v=Fe;Fe|=1;try{return l(c)}finally{(Fe=v)===0&&(ko(),Gu&&En())}},e.createComponentSelector=function(l){return{$$typeof:uc,value:l}},e.createContainer=function(l,c,v,_,E,A,D){return $1(l,c,!1,null,0,_,0,A,D)},e.createHasPseudoClassSelector=function(l){return{$$typeof:cc,value:l}},e.createHydrationContainer=function(l,c,v,_,E,A,D,L,$){return(l=$1(v,_,!0,l,0,A,0,L,$)).context=V1(null),v=l.current,(A=si(_=Kt(),E=Bi(v))).callback=c??null,ki(v,A,E),l.current.lanes=E,Va(l,E,_),fr(l,_),l},e.createPortal=function(l,c,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:l,containerInfo:c,implementation:v}},e.createRoleSelector=function(l){return{$$typeof:hc,value:l}},e.createTestNameSelector=function(l){return{$$typeof:dc,value:l}},e.createTextSelector=function(l){return{$$typeof:fc,value:l}},e.deferredUpdates=function(l){var c=Oe,v=ft.transition;try{return ft.transition=null,Oe=16,l()}finally{Oe=c,ft.transition=v}},e.discreteUpdates=function(l,c,v,_,E){var A=Oe,D=ft.transition;try{return ft.transition=null,Oe=1,l(c,v,_,E)}finally{Oe=A,ft.transition=D,Fe===0&&ko()}},e.findAllNodes=vp,e.findBoundingRects=function(l,c){if(!Pi)throw Error(s(363));c=vp(l,c),l=[];for(var v=0;v<c.length;v++)l.push(go(c[v]));for(c=l.length-1;0<c;c--)for(var _=(v=l[c]).x,E=_+v.width,A=v.y,D=A+v.height,L=c-1;0<=L;L--)if(c!==L){var $=l[L],Y=$.x,q=Y+$.width,ie=$.y,K=ie+$.height;if(_>=Y&&A>=ie&&E<=q&&D<=K){l.splice(c,1);break}if(!(_!==Y||v.width!==$.width||K<A||ie>D)){ie>A&&($.height+=ie-A,$.y=A),K<D&&($.height=D-ie),l.splice(c,1);break}if(!(A!==ie||v.height!==$.height||q<_||Y>E)){Y>_&&($.width+=Y-_,$.x=_),q<E&&($.width=E-Y),l.splice(c,1);break}}return l},e.findHostInstance=j1,e.findHostInstanceWithNoPortals=function(l){return(l=(l=M(l))!==null?N(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return j1(l)},e.flushControlled=function(l){var c=Fe;Fe|=1;var v=ft.transition,_=Oe;try{ft.transition=null,Oe=1,l()}finally{Oe=_,ft.transition=v,(Fe=c)===0&&(ko(),En())}},e.flushPassiveEffects=Ms,e.flushSync=N1,e.focusWithin=function(l,c){if(!Pi)throw Error(s(363));for(c=M1(l=pp(l),c),c=Array.from(c),l=0;l<c.length;){var v=c[l++];if(!Es(v)){if(v.tag===5&&yo(v.stateNode))return!0;for(v=v.child;v!==null;)c.push(v),v=v.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Oe},e.getFindAllNodesFailureDescription=function(l,c){if(!Pi)throw Error(s(363));var v=0,_=[];l=[pp(l),0];for(var E=0;E<l.length;){var A=l[E++],D=l[E++],L=c[D];if((A.tag!==5||!Es(A))&&(mp(A,L)&&(_.push(gp(L)),++D>v&&(v=D)),D<c.length))for(A=A.child;A!==null;)l.push(A,D),A=A.sibling}if(v<c.length){for(l=[];v<c.length;v++)l.push(gp(c[v]));return`findAllNodes was able to match part of the selector:
  `+_.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?Q(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:XA,findFiberByHostInstance:l.findFiberByHostInstance||YA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)l=!0;else{try{Uu=c.inject(l),Sn=c}catch{}l=!!c.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,c,v,_){if(!Pi)throw Error(s(363));l=vp(l,c);var E=FC(l,v,_).disconnect;return{disconnect:function(){E()}}},e.registerMutableSourceForHydration=function(l,c){var v=c._getVersion;v=v(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,v]:l.mutableSourceEagerHydrationData.push(c,v)},e.runWithPriority=function(l,c){var v=Oe;try{return Oe=l,c()}finally{Oe=v}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,c,v,_){var E=c.current,A=Kt(),D=Bi(E);return v=V1(v),c.context===null?c.context=v:c.pendingContext=v,(c=si(A,D)).payload={element:l},(_=_===void 0?null:_)!==null&&(c.callback=_),(l=ki(E,c,D))!==null&&(Gr(l,E,D,A),Xu(l,E,D)),D},e}),Fw}({get exports(){return M0},set exports(t){M0=t}}).exports=fN();var pN=GF(M0),sC={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},D0={},lh={get exports(){return D0},set exports(t){D0=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?lh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(lh.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(lh.exports=function(){return Date.now()-r},r=Date.now()):(lh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(UF);var Ow,la={},Ns={};({get exports(){return la},set exports(t){la=t}}).exports=(Ow||(Ow=1,Ns.ConcurrentRoot=1,Ns.ContinuousEventPriority=4,Ns.DefaultEventPriority=16,Ns.DiscreteEventPriority=1,Ns.IdleEventPriority=536870912,Ns.LegacyRoot=0),Ns);var mN={};function $m(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function oC(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Ci(t.children).forEach(function(s){oC(s,t)})}function Lw(t,e){var r;oC(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,u=n.destroyTexture,h=u!==void 0&&u,f=n.destroyBaseTexture,m=f!==void 0&&f;s&&e.destroy({children:a,texture:h,baseTexture:m})}function Uw(t,e,r){var n,i;dt(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var Gw=null,pn=pN({getRootHostContext:function(){return mN},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return la.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return la.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return la.ContinuousEventPriority;default:return la.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=uN[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=iC[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Jn)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return Gw=function(o,a,u,h){var f=null;for(var m in u)!h.hasOwnProperty(m)&&u.hasOwnProperty(m)&&u[m]!==null&&(m===I0||(f||(f=[]),f.push(m,null)));for(var p in h){var d=h[p],g=u!==null?u[p]:void 0;!h.hasOwnProperty(p)||d===g||d===null&&g===null||p===I0||(f||(f=[]),f.push(p,d))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){dt(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:D0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=$m.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=$m.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=$m.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Lw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Lw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Uw,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Uw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=Jn),(a(t,n,i)||Gw)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),gN=sC.dependencies["react-dom"].replace(/[^0-9.]/g,""),vN=sC.name;pn.injectIntoDevTools({bundleType:0,version:gN,rendererPackageName:vN,findHostInstanceByFiber:pn.findHostInstance});var hs=new Map;function aC(t){if(dt(ar.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),hs.has(t)){var e=hs.get(t).pixiFiberContainer;pn.updateContainer(null,e,void 0,function(){hs.delete(t)})}}function lC(t){dt(ar.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=hs.get(t);if(dt(!e,"createRoot should only be called once"),!e){var r=pn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return pn.updateContainer(n,r,void 0),pn.getPublicRootInstance(r)},unmount:function(){aC(t),hs.delete(t)}}},hs.set(t,e)}return e.reactRoot}function yN(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),hs.has(e)?n=hs.get(e).reactRoot:n=lC(e),n.render(t)}function xN(t){aC(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function _N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tC(n.key),n)}}function ui(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fd(t,e){return Fd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Fd(t,e)}function SN(t,e){if(e&&(Rr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ui(t)}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nd(t)}var mf=Wn.createContext(null),uC=mf.Provider,cC=mf.Consumer,EN=function(t){var e=Wn.forwardRef(function(r,n){return Wn.createElement(cC,null,function(i){return Wn.createElement(t,_u({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function TN(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Nd(t);if(e){var i=Nd(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return SN(this,r)}}function zw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zw(Object(r),!0).forEach(function(n){mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Hw=function(){},hC={width:Ye.number,height:Ye.number,onMount:Ye.func,onUnmount:Ye.func,raf:Ye.bool,renderOnComponentChange:Ye.bool,children:Ye.node,options:Ye.shape({autoStart:Ye.bool,width:Ye.number,height:Ye.number,useContextAlpha:Ye.bool,backgroundAlpha:Ye.number,autoDensity:Ye.bool,antialias:Ye.bool,preserveDrawingBuffer:Ye.bool,resolution:Ye.number,forceCanvas:Ye.bool,backgroundColor:Ye.number,clearBeforeRender:Ye.bool,powerPreference:Ye.string,sharedTicker:Ye.bool,sharedLoader:Ye.bool,resizeTo:function(t,e){var r=t[e];r&&dt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Rr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&dt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Rr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},bN={width:800,height:600,onMount:Hw,onUnmount:Hw,raf:!0,renderOnComponentChange:!0},F0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Fd(s,o)})(i,Wn.Component);var e,r,n=TN(i);function i(){var s;_N(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return mt(ui(s=n.call.apply(n,[this].concat(a))),"_canvas",null),mt(ui(s),"_mediaQuery",null),mt(ui(s),"_ticker",null),mt(ui(s),"_needsUpdate",!0),mt(ui(s),"app",null),mt(ui(s),"updateSize",function(){var h=s.props,f=h.width,m=h.height,p=h.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,m)}),mt(ui(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),mt(ui(s),"renderStage",function(){var h=s.props,f=h.renderOnComponentChange;!h.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,u=s.height,h=s.options,f=s.raf,m=s.renderOnComponentChange;this.app=new pf(uh(uh({width:a,height:u,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=pn.createContainer(this.app.stage),pn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),m&&!f&&(this._ticker=new Nt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var u,h=this.props,f=h.width,m=h.height,p=h.raf,d=h.renderOnComponentChange,g=h.options;(g==null?void 0:g.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(g==null?void 0:g.resolution)&&(this.app.renderer.resolution=g.resolution,this.resetInteractionManager()),s.height===m&&s.width===f&&((u=s.options)===null||u===void 0?void 0:u.resolution)===(g==null?void 0:g.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),pn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===m&&s.raf===p&&s.renderOnComponentChange===d&&s.options===g||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Wn.createElement(uC,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),pn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,u=this.props.options;return u&&u.view?(dt(u.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Wn.createElement("canvas",_u({},(s=this.props,o=[].concat(Ci(Object.keys(hC)),Ci(Object.keys(R0))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,f){return uh(uh({},h),{},mt({},f,s[f]))},{})),{ref:function(h){return a._canvas=h}}))}}])&&wN(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();F0.propTypes=hC,F0.defaultProps=bN;var CN=F0;function dC(){var t=de.useContext(mf);return dt(t instanceof pf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function AN(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=dC();dt(typeof t=="function","`useTick` needs a callback function."),dt(r instanceof pf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=de.useRef(null);de.useEffect(function(){n.current=t},[t]),de.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function PN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N0(t,e,r){return N0=PN()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&Fd(a,s.prototype),a},N0.apply(null,arguments)}var IN=["children","apply"];function $w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ch(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$w(Object(r),!0).forEach(function(n){mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var RN=function(t,e){dt(Rr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=ws(i,IN),u=de.useRef(de.useMemo(function(){return r.map(function(m){var p,d=(a==null||(p=a[m])===null||p===void 0?void 0:p.construct)||[];return N0(e[m],Ci(d))})},[r])),h=de.useMemo(function(){return r.reduce(function(m,p,d){return ch(ch({},m),{},mt({},p,u.current[d]))},{})},[r]),f=de.useMemo(function(){return Object.keys(a).filter(nC(rC(r))).reduce(function(m,p){return ch(ch({},m),{},mt({},p,a[p]))},{})},[a,r]);return r.forEach(function(m,p){return Object.assign(u.current[p],a[m])}),o&&function(){for(var m=arguments.length,p=new Array(m),d=0;d<m;d++)p[d]=arguments[d];return p.every(function(g){return typeof g=="function"})}(o)&&o.call(t,h),Wn.createElement(t,_u({},f,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ye.node,apply:Ye.func},n},MN=wr.BitmapText,kN=wr.Container,DN=wr.Graphics,FN=wr.NineSlicePlane,NN=wr.ParticleContainer,BN=wr.Sprite,ON=wr.AnimatedSprite,LN=wr.Text,UN=wr.TilingSprite,GN=wr.SimpleMesh,zN=wr.SimpleRope;const HN=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:ON,AppConsumer:cC,AppContext:mf,AppProvider:uC,BitmapText:MN,Container:kN,Graphics:DN,NineSlicePlane:FN,ParticleContainer:NN,PixiComponent:cN,PixiFiber:pn,SimpleMesh:GN,SimpleRope:zN,Sprite:BN,Stage:CN,TYPES:wr,Text:LN,TilingSprite:UN,applyDefaultProps:Jn,createRoot:lC,eventHandlers:Dd,render:yN,unmountComponentAtNode:xN,useApp:dC,useTick:AN,withFilters:RN,withPixiApp:EN},Symbol.toStringTag,{value:"Module"})),$N=sS(HN);ef.exports=$N;var Be=ef.exports;const fC=128,pC=fC/4,VN=pC/fC*2,hh=.6,jN=2e3;var mC={exports:{}};/*!
 * matter-js 0.19.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(t,e){(function(n,i){t.exports=i()})(Qs,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(o&1&&(s=i(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var u in s)i.d(a,u,(function(h){return s[h]}).bind(null,u));return a},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=20)}([function(r,n){var i={};r.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(o,a){var u,h;typeof a=="boolean"?(u=2,h=a):(u=1,h=!0);for(var f=u;f<arguments.length;f++){var m=arguments[f];if(m)for(var p in m)h&&m[p]&&m[p].constructor===Object&&(!o[p]||o[p].constructor===Object)?(o[p]=o[p]||{},i.extend(o[p],h,m[p])):o[p]=m[p]}return o},i.clone=function(o,a){return i.extend({},a,o)},i.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var u in o)a.push(u);return a},i.values=function(o){var a=[];if(Object.keys){for(var u=Object.keys(o),h=0;h<u.length;h++)a.push(o[u[h]]);return a}for(var f in o)a.push(o[f]);return a},i.get=function(o,a,u,h){a=a.split(".").slice(u,h);for(var f=0;f<a.length;f+=1)o=o[a[f]];return o},i.set=function(o,a,u,h,f){var m=a.split(".").slice(h,f);return i.get(o,a,0,-1)[m[m.length-1]]=u,u},i.shuffle=function(o){for(var a=o.length-1;a>0;a--){var u=Math.floor(i.random()*(a+1)),h=o[a];o[a]=o[u],o[u]=h}return o},i.choose=function(o){return o[Math.floor(i.random()*o.length)]},i.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},i.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},i.isFunction=function(o){return typeof o=="function"},i.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},i.isString=function(o){return toString.call(o)==="[object String]"},i.clamp=function(o,a,u){return o<a?a:o>u?u:o},i.sign=function(o){return o<0?-1:1},i.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+s()*(a-o)};var s=function(){return i._seed=(i._seed*9301+49297)%233280,i._seed/233280};i.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[o]||(i.warn(o),i._warnedOnce[o]=!0)},i.deprecated=function(o,a,u){o[a]=i.chain(function(){i.warnOnce(" deprecated ",u)},o[a])},i.nextId=function(){return i._nextId++},i.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var u=0;u<o.length;u++)if(o[u]===a)return u;return-1},i.map=function(o,a){if(o.map)return o.map(a);for(var u=[],h=0;h<o.length;h+=1)u.push(a(o[h]));return u},i.topologicalSort=function(o){var a=[],u=[],h=[];for(var f in o)!u[f]&&!h[f]&&i._topologicalSort(f,u,h,o,a);return a},i._topologicalSort=function(o,a,u,h,f){var m=h[o]||[];u[o]=!0;for(var p=0;p<m.length;p+=1){var d=m[p];u[d]||a[d]||i._topologicalSort(d,a,u,h,f)}u[o]=!1,a[o]=!0,f.push(o)},i.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var u=arguments[a];u._chained?o.push.apply(o,u._chained):o.push(u)}var h=function(){for(var f,m=new Array(arguments.length),p=0,d=arguments.length;p<d;p++)m[p]=arguments[p];for(p=0;p<o.length;p+=1){var g=o[p].apply(f,m);typeof g<"u"&&(f=g)}return f};return h._chained=o,h},i.chainPathBefore=function(o,a,u){return i.set(o,a,i.chain(u,i.get(o,a)))},i.chainPathAfter=function(o,a,u){return i.set(o,a,i.chain(i.get(o,a),u))},i.setDecomp=function(o){i._decomp=o},i.getDecomp=function(){var o=i._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof Qs<"u"&&(o=Qs.decomp)}catch{o=null}return o}}()},function(r,n){var i={};r.exports=i,function(){i.create=function(s){var o={min:{x:0,y:0},max:{x:0,y:0}};return s&&i.update(o,s),o},i.update=function(s,o,a){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var u=0;u<o.length;u++){var h=o[u];h.x>s.max.x&&(s.max.x=h.x),h.x<s.min.x&&(s.min.x=h.x),h.y>s.max.y&&(s.max.y=h.y),h.y<s.min.y&&(s.min.y=h.y)}a&&(a.x>0?s.max.x+=a.x:s.min.x+=a.x,a.y>0?s.max.y+=a.y:s.min.y+=a.y)},i.contains=function(s,o){return o.x>=s.min.x&&o.x<=s.max.x&&o.y>=s.min.y&&o.y<=s.max.y},i.overlaps=function(s,o){return s.min.x<=o.max.x&&s.max.x>=o.min.x&&s.max.y>=o.min.y&&s.min.y<=o.max.y},i.translate=function(s,o){s.min.x+=o.x,s.max.x+=o.x,s.min.y+=o.y,s.max.y+=o.y},i.shift=function(s,o){var a=s.max.x-s.min.x,u=s.max.y-s.min.y;s.min.x=o.x,s.max.x=o.x+a,s.min.y=o.y,s.max.y=o.y+u}}()},function(r,n){var i={};r.exports=i,function(){i.create=function(s,o){return{x:s||0,y:o||0}},i.clone=function(s){return{x:s.x,y:s.y}},i.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},i.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},i.rotate=function(s,o,a){var u=Math.cos(o),h=Math.sin(o);a||(a={});var f=s.x*u-s.y*h;return a.y=s.x*h+s.y*u,a.x=f,a},i.rotateAbout=function(s,o,a,u){var h=Math.cos(o),f=Math.sin(o);u||(u={});var m=a.x+((s.x-a.x)*h-(s.y-a.y)*f);return u.y=a.y+((s.x-a.x)*f+(s.y-a.y)*h),u.x=m,u},i.normalise=function(s){var o=i.magnitude(s);return o===0?{x:0,y:0}:{x:s.x/o,y:s.y/o}},i.dot=function(s,o){return s.x*o.x+s.y*o.y},i.cross=function(s,o){return s.x*o.y-s.y*o.x},i.cross3=function(s,o,a){return(o.x-s.x)*(a.y-s.y)-(o.y-s.y)*(a.x-s.x)},i.add=function(s,o,a){return a||(a={}),a.x=s.x+o.x,a.y=s.y+o.y,a},i.sub=function(s,o,a){return a||(a={}),a.x=s.x-o.x,a.y=s.y-o.y,a},i.mult=function(s,o){return{x:s.x*o,y:s.y*o}},i.div=function(s,o){return{x:s.x/o,y:s.y/o}},i.perp=function(s,o){return o=o===!0?-1:1,{x:o*-s.y,y:o*s.x}},i.neg=function(s){return{x:-s.x,y:-s.y}},i.angle=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]}()},function(r,n,i){var s={};r.exports=s;var o=i(2),a=i(0);(function(){s.create=function(u,h){for(var f=[],m=0;m<u.length;m++){var p=u[m],d={x:p.x,y:p.y,index:m,body:h,isInternal:!1};f.push(d)}return f},s.fromPath=function(u,h){var f=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,m=[];return u.replace(f,function(p,d,g){m.push({x:parseFloat(d),y:parseFloat(g)})}),s.create(m,h)},s.centre=function(u){for(var h=s.area(u,!0),f={x:0,y:0},m,p,d,g=0;g<u.length;g++)d=(g+1)%u.length,m=o.cross(u[g],u[d]),p=o.mult(o.add(u[g],u[d]),m),f=o.add(f,p);return o.div(f,6*h)},s.mean=function(u){for(var h={x:0,y:0},f=0;f<u.length;f++)h.x+=u[f].x,h.y+=u[f].y;return o.div(h,u.length)},s.area=function(u,h){for(var f=0,m=u.length-1,p=0;p<u.length;p++)f+=(u[m].x-u[p].x)*(u[m].y+u[p].y),m=p;return h?f/2:Math.abs(f)/2},s.inertia=function(u,h){for(var f=0,m=0,p=u,d,g,y=0;y<p.length;y++)g=(y+1)%p.length,d=Math.abs(o.cross(p[g],p[y])),f+=d*(o.dot(p[g],p[g])+o.dot(p[g],p[y])+o.dot(p[y],p[y])),m+=d;return h/6*(f/m)},s.translate=function(u,h,f){f=typeof f<"u"?f:1;var m=u.length,p=h.x*f,d=h.y*f,g;for(g=0;g<m;g++)u[g].x+=p,u[g].y+=d;return u},s.rotate=function(u,h,f){if(h!==0){var m=Math.cos(h),p=Math.sin(h),d=f.x,g=f.y,y=u.length,x,w,T,S;for(S=0;S<y;S++)x=u[S],w=x.x-d,T=x.y-g,x.x=d+(w*m-T*p),x.y=g+(w*p+T*m);return u}},s.contains=function(u,h){for(var f=h.x,m=h.y,p=u.length,d=u[p-1],g,y=0;y<p;y++){if(g=u[y],(f-d.x)*(g.y-d.y)+(m-d.y)*(d.x-g.x)>0)return!1;d=g}return!0},s.scale=function(u,h,f,m){if(h===1&&f===1)return u;m=m||s.centre(u);for(var p,d,g=0;g<u.length;g++)p=u[g],d=o.sub(p,m),u[g].x=m.x+d.x*h,u[g].y=m.y+d.y*f;return u},s.chamfer=function(u,h,f,m,p){typeof h=="number"?h=[h]:h=h||[8],f=typeof f<"u"?f:-1,m=m||2,p=p||14;for(var d=[],g=0;g<u.length;g++){var y=u[g-1>=0?g-1:u.length-1],x=u[g],w=u[(g+1)%u.length],T=h[g<h.length?g:h.length-1];if(T===0){d.push(x);continue}var S=o.normalise({x:x.y-y.y,y:y.x-x.x}),C=o.normalise({x:w.y-x.y,y:x.x-w.x}),b=Math.sqrt(2*Math.pow(T,2)),I=o.mult(a.clone(S),T),R=o.normalise(o.mult(o.add(S,C),.5)),P=o.sub(x,o.mult(R,b)),k=f;f===-1&&(k=Math.pow(T,.32)*1.75),k=a.clamp(k,m,p),k%2===1&&(k+=1);for(var M=Math.acos(o.dot(S,C)),B=M/k,F=0;F<k;F++)d.push(o.add(o.rotate(I,B*F),P))}return d},s.clockwiseSort=function(u){var h=s.mean(u);return u.sort(function(f,m){return o.angle(h,f)-o.angle(h,m)}),u},s.isConvex=function(u){var h=0,f=u.length,m,p,d,g;if(f<3)return null;for(m=0;m<f;m++)if(p=(m+1)%f,d=(m+2)%f,g=(u[p].x-u[m].x)*(u[d].y-u[p].y),g-=(u[p].y-u[m].y)*(u[d].x-u[p].x),g<0?h|=1:g>0&&(h|=2),h===3)return!1;return h!==0?!0:null},s.hull=function(u){var h=[],f=[],m,p;for(u=u.slice(0),u.sort(function(d,g){var y=d.x-g.x;return y!==0?y:d.y-g.y}),p=0;p<u.length;p+=1){for(m=u[p];f.length>=2&&o.cross3(f[f.length-2],f[f.length-1],m)<=0;)f.pop();f.push(m)}for(p=u.length-1;p>=0;p-=1){for(m=u[p];h.length>=2&&o.cross3(h[h.length-2],h[h.length-1],m)<=0;)h.pop();h.push(m)}return h.pop(),f.pop(),h.concat(f)}})()},function(r,n,i){var s={};r.exports=s;var o=i(3),a=i(2),u=i(7),h=i(0),f=i(1),m=i(11);(function(){s._timeCorrection=!0,s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s._baseDelta=1e3/60,s.create=function(d){var g={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},y=h.extend(g,d);return p(y,d),y},s.nextGroup=function(d){return d?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory};var p=function(d,g){g=g||{},s.set(d,{bounds:d.bounds||f.create(d.vertices),positionPrev:d.positionPrev||a.clone(d.position),anglePrev:d.anglePrev||d.angle,vertices:d.vertices,parts:d.parts||[d],isStatic:d.isStatic,isSleeping:d.isSleeping,parent:d.parent||d}),o.rotate(d.vertices,d.angle,d.position),m.rotate(d.axes,d.angle),f.update(d.bounds,d.vertices,d.velocity),s.set(d,{axes:g.axes||d.axes,area:g.area||d.area,mass:g.mass||d.mass,inertia:g.inertia||d.inertia});var y=d.isStatic?"#14151f":h.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),x=d.isStatic?"#555":"#ccc",w=d.isStatic&&d.render.fillStyle===null?1:0;d.render.fillStyle=d.render.fillStyle||y,d.render.strokeStyle=d.render.strokeStyle||x,d.render.lineWidth=d.render.lineWidth||w,d.render.sprite.xOffset+=-(d.bounds.min.x-d.position.x)/(d.bounds.max.x-d.bounds.min.x),d.render.sprite.yOffset+=-(d.bounds.min.y-d.position.y)/(d.bounds.max.y-d.bounds.min.y)};s.set=function(d,g,y){var x;typeof g=="string"&&(x=g,g={},g[x]=y);for(x in g)if(Object.prototype.hasOwnProperty.call(g,x))switch(y=g[x],x){case"isStatic":s.setStatic(d,y);break;case"isSleeping":u.set(d,y);break;case"mass":s.setMass(d,y);break;case"density":s.setDensity(d,y);break;case"inertia":s.setInertia(d,y);break;case"vertices":s.setVertices(d,y);break;case"position":s.setPosition(d,y);break;case"angle":s.setAngle(d,y);break;case"velocity":s.setVelocity(d,y);break;case"angularVelocity":s.setAngularVelocity(d,y);break;case"speed":s.setSpeed(d,y);break;case"angularSpeed":s.setAngularSpeed(d,y);break;case"parts":s.setParts(d,y);break;case"centre":s.setCentre(d,y);break;default:d[x]=y}},s.setStatic=function(d,g){for(var y=0;y<d.parts.length;y++){var x=d.parts[y];x.isStatic=g,g?(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia},x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null)}},s.setMass=function(d,g){var y=d.inertia/(d.mass/6);d.inertia=y*(g/6),d.inverseInertia=1/d.inertia,d.mass=g,d.inverseMass=1/d.mass,d.density=d.mass/d.area},s.setDensity=function(d,g){s.setMass(d,g*d.area),d.density=g},s.setInertia=function(d,g){d.inertia=g,d.inverseInertia=1/d.inertia},s.setVertices=function(d,g){g[0].body===d?d.vertices=g:d.vertices=o.create(g,d),d.axes=m.fromVertices(d.vertices),d.area=o.area(d.vertices),s.setMass(d,d.density*d.area);var y=o.centre(d.vertices);o.translate(d.vertices,y,-1),s.setInertia(d,s._inertiaScale*o.inertia(d.vertices,d.mass)),o.translate(d.vertices,d.position),f.update(d.bounds,d.vertices,d.velocity)},s.setParts=function(d,g,y){var x;for(g=g.slice(0),d.parts.length=0,d.parts.push(d),d.parent=d,x=0;x<g.length;x++){var w=g[x];w!==d&&(w.parent=d,d.parts.push(w))}if(d.parts.length!==1){if(y=typeof y<"u"?y:!0,y){var T=[];for(x=0;x<g.length;x++)T=T.concat(g[x].vertices);o.clockwiseSort(T);var S=o.hull(T),C=o.centre(S);s.setVertices(d,S),o.translate(d.vertices,C)}var b=s._totalProperties(d);d.area=b.area,d.parent=d,d.position.x=b.centre.x,d.position.y=b.centre.y,d.positionPrev.x=b.centre.x,d.positionPrev.y=b.centre.y,s.setMass(d,b.mass),s.setInertia(d,b.inertia),s.setPosition(d,b.centre)}},s.setCentre=function(d,g,y){y?(d.positionPrev.x+=g.x,d.positionPrev.y+=g.y,d.position.x+=g.x,d.position.y+=g.y):(d.positionPrev.x=g.x-(d.position.x-d.positionPrev.x),d.positionPrev.y=g.y-(d.position.y-d.positionPrev.y),d.position.x=g.x,d.position.y=g.y)},s.setPosition=function(d,g,y){var x=a.sub(g,d.position);y?(d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.velocity.x=x.x,d.velocity.y=x.y,d.speed=a.magnitude(x)):(d.positionPrev.x+=x.x,d.positionPrev.y+=x.y);for(var w=0;w<d.parts.length;w++){var T=d.parts[w];T.position.x+=x.x,T.position.y+=x.y,o.translate(T.vertices,x),f.update(T.bounds,T.vertices,d.velocity)}},s.setAngle=function(d,g,y){var x=g-d.angle;y?(d.anglePrev=d.angle,d.angularVelocity=x,d.angularSpeed=Math.abs(x)):d.anglePrev+=x;for(var w=0;w<d.parts.length;w++){var T=d.parts[w];T.angle+=x,o.rotate(T.vertices,x,d.position),m.rotate(T.axes,x),f.update(T.bounds,T.vertices,d.velocity),w>0&&a.rotateAbout(T.position,x,d.position,T.position)}},s.setVelocity=function(d,g){var y=d.deltaTime/s._baseDelta;d.positionPrev.x=d.position.x-g.x*y,d.positionPrev.y=d.position.y-g.y*y,d.velocity.x=(d.position.x-d.positionPrev.x)/y,d.velocity.y=(d.position.y-d.positionPrev.y)/y,d.speed=a.magnitude(d.velocity)},s.getVelocity=function(d){var g=s._baseDelta/d.deltaTime;return{x:(d.position.x-d.positionPrev.x)*g,y:(d.position.y-d.positionPrev.y)*g}},s.getSpeed=function(d){return a.magnitude(s.getVelocity(d))},s.setSpeed=function(d,g){s.setVelocity(d,a.mult(a.normalise(s.getVelocity(d)),g))},s.setAngularVelocity=function(d,g){var y=d.deltaTime/s._baseDelta;d.anglePrev=d.angle-g*y,d.angularVelocity=(d.angle-d.anglePrev)/y,d.angularSpeed=Math.abs(d.angularVelocity)},s.getAngularVelocity=function(d){return(d.angle-d.anglePrev)*s._baseDelta/d.deltaTime},s.getAngularSpeed=function(d){return Math.abs(s.getAngularVelocity(d))},s.setAngularSpeed=function(d,g){s.setAngularVelocity(d,h.sign(s.getAngularVelocity(d))*g)},s.translate=function(d,g,y){s.setPosition(d,a.add(d.position,g),y)},s.rotate=function(d,g,y,x){if(!y)s.setAngle(d,d.angle+g,x);else{var w=Math.cos(g),T=Math.sin(g),S=d.position.x-y.x,C=d.position.y-y.y;s.setPosition(d,{x:y.x+(S*w-C*T),y:y.y+(S*T+C*w)},x),s.setAngle(d,d.angle+g,x)}},s.scale=function(d,g,y,x){var w=0,T=0;x=x||d.position;for(var S=0;S<d.parts.length;S++){var C=d.parts[S];o.scale(C.vertices,g,y,x),C.axes=m.fromVertices(C.vertices),C.area=o.area(C.vertices),s.setMass(C,d.density*C.area),o.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),s.setInertia(C,s._inertiaScale*o.inertia(C.vertices,C.mass)),o.translate(C.vertices,{x:C.position.x,y:C.position.y}),S>0&&(w+=C.area,T+=C.inertia),C.position.x=x.x+(C.position.x-x.x)*g,C.position.y=x.y+(C.position.y-x.y)*y,f.update(C.bounds,C.vertices,d.velocity)}d.parts.length>1&&(d.area=w,d.isStatic||(s.setMass(d,d.density*w),s.setInertia(d,T))),d.circleRadius&&(g===y?d.circleRadius*=g:d.circleRadius=null)},s.update=function(d,g){g=(typeof g<"u"?g:1e3/60)*d.timeScale;var y=g*g,x=s._timeCorrection?g/(d.deltaTime||g):1,w=1-d.frictionAir*(g/h._baseDelta),T=(d.position.x-d.positionPrev.x)*x,S=(d.position.y-d.positionPrev.y)*x;d.velocity.x=T*w+d.force.x/d.mass*y,d.velocity.y=S*w+d.force.y/d.mass*y,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.position.x+=d.velocity.x,d.position.y+=d.velocity.y,d.deltaTime=g,d.angularVelocity=(d.angle-d.anglePrev)*w*x+d.torque/d.inertia*y,d.anglePrev=d.angle,d.angle+=d.angularVelocity;for(var C=0;C<d.parts.length;C++){var b=d.parts[C];o.translate(b.vertices,d.velocity),C>0&&(b.position.x+=d.velocity.x,b.position.y+=d.velocity.y),d.angularVelocity!==0&&(o.rotate(b.vertices,d.angularVelocity,d.position),m.rotate(b.axes,d.angularVelocity),C>0&&a.rotateAbout(b.position,d.angularVelocity,d.position,b.position)),f.update(b.bounds,b.vertices,d.velocity)}},s.updateVelocities=function(d){var g=s._baseDelta/d.deltaTime,y=d.velocity;y.x=(d.position.x-d.positionPrev.x)*g,y.y=(d.position.y-d.positionPrev.y)*g,d.speed=Math.sqrt(y.x*y.x+y.y*y.y),d.angularVelocity=(d.angle-d.anglePrev)*g,d.angularSpeed=Math.abs(d.angularVelocity)},s.applyForce=function(d,g,y){var x={x:g.x-d.position.x,y:g.y-d.position.y};d.force.x+=y.x,d.force.y+=y.y,d.torque+=x.x*y.y-x.y*y.x},s._totalProperties=function(d){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},y=d.parts.length===1?0:1;y<d.parts.length;y++){var x=d.parts[y],w=x.mass!==1/0?x.mass:1;g.mass+=w,g.area+=x.area,g.inertia+=x.inertia,g.centre=a.add(g.centre,a.mult(x.position,w))}return g.centre=a.div(g.centre,g.mass),g}})()},function(r,n,i){var s={};r.exports=s;var o=i(0);(function(){s.on=function(a,u,h){for(var f=u.split(" "),m,p=0;p<f.length;p++)m=f[p],a.events=a.events||{},a.events[m]=a.events[m]||[],a.events[m].push(h);return h},s.off=function(a,u,h){if(!u){a.events={};return}typeof u=="function"&&(h=u,u=o.keys(a.events).join(" "));for(var f=u.split(" "),m=0;m<f.length;m++){var p=a.events[f[m]],d=[];if(h&&p)for(var g=0;g<p.length;g++)p[g]!==h&&d.push(p[g]);a.events[f[m]]=d}},s.trigger=function(a,u,h){var f,m,p,d,g=a.events;if(g&&o.keys(g).length>0){h||(h={}),f=u.split(" ");for(var y=0;y<f.length;y++)if(m=f[y],p=g[m],p){d=o.clone(h,!1),d.name=m,d.source=a;for(var x=0;x<p.length;x++)p[x].apply(a,[d])}}}})()},function(r,n,i){var s={};r.exports=s;var o=i(5),a=i(0),u=i(1),h=i(4);(function(){s.create=function(f){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},f)},s.setModified=function(f,m,p,d){if(f.isModified=m,m&&f.cache&&(f.cache.allBodies=null,f.cache.allConstraints=null,f.cache.allComposites=null),p&&f.parent&&s.setModified(f.parent,m,p,d),d)for(var g=0;g<f.composites.length;g++){var y=f.composites[g];s.setModified(y,m,p,d)}},s.add=function(f,m){var p=[].concat(m);o.trigger(f,"beforeAdd",{object:m});for(var d=0;d<p.length;d++){var g=p[d];switch(g.type){case"body":if(g.parent!==g){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}s.addBody(f,g);break;case"constraint":s.addConstraint(f,g);break;case"composite":s.addComposite(f,g);break;case"mouseConstraint":s.addConstraint(f,g.constraint);break}}return o.trigger(f,"afterAdd",{object:m}),f},s.remove=function(f,m,p){var d=[].concat(m);o.trigger(f,"beforeRemove",{object:m});for(var g=0;g<d.length;g++){var y=d[g];switch(y.type){case"body":s.removeBody(f,y,p);break;case"constraint":s.removeConstraint(f,y,p);break;case"composite":s.removeComposite(f,y,p);break;case"mouseConstraint":s.removeConstraint(f,y.constraint);break}}return o.trigger(f,"afterRemove",{object:m}),f},s.addComposite=function(f,m){return f.composites.push(m),m.parent=f,s.setModified(f,!0,!0,!1),f},s.removeComposite=function(f,m,p){var d=a.indexOf(f.composites,m);if(d!==-1&&s.removeCompositeAt(f,d),p)for(var g=0;g<f.composites.length;g++)s.removeComposite(f.composites[g],m,!0);return f},s.removeCompositeAt=function(f,m){return f.composites.splice(m,1),s.setModified(f,!0,!0,!1),f},s.addBody=function(f,m){return f.bodies.push(m),s.setModified(f,!0,!0,!1),f},s.removeBody=function(f,m,p){var d=a.indexOf(f.bodies,m);if(d!==-1&&s.removeBodyAt(f,d),p)for(var g=0;g<f.composites.length;g++)s.removeBody(f.composites[g],m,!0);return f},s.removeBodyAt=function(f,m){return f.bodies.splice(m,1),s.setModified(f,!0,!0,!1),f},s.addConstraint=function(f,m){return f.constraints.push(m),s.setModified(f,!0,!0,!1),f},s.removeConstraint=function(f,m,p){var d=a.indexOf(f.constraints,m);if(d!==-1&&s.removeConstraintAt(f,d),p)for(var g=0;g<f.composites.length;g++)s.removeConstraint(f.composites[g],m,!0);return f},s.removeConstraintAt=function(f,m){return f.constraints.splice(m,1),s.setModified(f,!0,!0,!1),f},s.clear=function(f,m,p){if(p)for(var d=0;d<f.composites.length;d++)s.clear(f.composites[d],m,!0);return m?f.bodies=f.bodies.filter(function(g){return g.isStatic}):f.bodies.length=0,f.constraints.length=0,f.composites.length=0,s.setModified(f,!0,!0,!1),f},s.allBodies=function(f){if(f.cache&&f.cache.allBodies)return f.cache.allBodies;for(var m=[].concat(f.bodies),p=0;p<f.composites.length;p++)m=m.concat(s.allBodies(f.composites[p]));return f.cache&&(f.cache.allBodies=m),m},s.allConstraints=function(f){if(f.cache&&f.cache.allConstraints)return f.cache.allConstraints;for(var m=[].concat(f.constraints),p=0;p<f.composites.length;p++)m=m.concat(s.allConstraints(f.composites[p]));return f.cache&&(f.cache.allConstraints=m),m},s.allComposites=function(f){if(f.cache&&f.cache.allComposites)return f.cache.allComposites;for(var m=[].concat(f.composites),p=0;p<f.composites.length;p++)m=m.concat(s.allComposites(f.composites[p]));return f.cache&&(f.cache.allComposites=m),m},s.get=function(f,m,p){var d,g;switch(p){case"body":d=s.allBodies(f);break;case"constraint":d=s.allConstraints(f);break;case"composite":d=s.allComposites(f).concat(f);break}return d?(g=d.filter(function(y){return y.id.toString()===m.toString()}),g.length===0?null:g[0]):null},s.move=function(f,m,p){return s.remove(f,m),s.add(p,m),f},s.rebase=function(f){for(var m=s.allBodies(f).concat(s.allConstraints(f)).concat(s.allComposites(f)),p=0;p<m.length;p++)m[p].id=a.nextId();return f},s.translate=function(f,m,p){for(var d=p?s.allBodies(f):f.bodies,g=0;g<d.length;g++)h.translate(d[g],m);return f},s.rotate=function(f,m,p,d){for(var g=Math.cos(m),y=Math.sin(m),x=d?s.allBodies(f):f.bodies,w=0;w<x.length;w++){var T=x[w],S=T.position.x-p.x,C=T.position.y-p.y;h.setPosition(T,{x:p.x+(S*g-C*y),y:p.y+(S*y+C*g)}),h.rotate(T,m)}return f},s.scale=function(f,m,p,d,g){for(var y=g?s.allBodies(f):f.bodies,x=0;x<y.length;x++){var w=y[x],T=w.position.x-d.x,S=w.position.y-d.y;h.setPosition(w,{x:d.x+T*m,y:d.y+S*p}),h.scale(w,m,p)}return f},s.bounds=function(f){for(var m=s.allBodies(f),p=[],d=0;d<m.length;d+=1){var g=m[d];p.push(g.bounds.min,g.bounds.max)}return u.create(p)}})()},function(r,n,i){var s={};r.exports=s;var o=i(4),a=i(5),u=i(0);(function(){s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(h,f){for(var m=f/u._baseDelta,p=s._motionSleepThreshold,d=0;d<h.length;d++){var g=h[d],y=o.getSpeed(g),x=o.getAngularSpeed(g),w=y*y+x*x;if(g.force.x!==0||g.force.y!==0){s.set(g,!1);continue}var T=Math.min(g.motion,w),S=Math.max(g.motion,w);g.motion=s._minBias*T+(1-s._minBias)*S,g.sleepThreshold>0&&g.motion<p?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/m&&s.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},s.afterCollisions=function(h){for(var f=s._motionSleepThreshold,m=0;m<h.length;m++){var p=h[m];if(p.isActive){var d=p.collision,g=d.bodyA.parent,y=d.bodyB.parent;if(!(g.isSleeping&&y.isSleeping||g.isStatic||y.isStatic)&&(g.isSleeping||y.isSleeping)){var x=g.isSleeping&&!g.isStatic?g:y,w=x===g?y:g;!x.isStatic&&w.motion>f&&s.set(x,!1)}}}},s.set=function(h,f){var m=h.isSleeping;f?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,m||a.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,m&&a.trigger(h,"sleepEnd"))}})()},function(r,n,i){var s={};r.exports=s;var o=i(3),a=i(9);(function(){var u=[],h={overlap:0,axis:null},f={overlap:0,axis:null};s.create=function(m,p){return{pair:null,collided:!1,bodyA:m,bodyB:p,parentA:m.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},s.collides=function(m,p,d){if(s._overlapAxes(h,m.vertices,p.vertices,m.axes),h.overlap<=0||(s._overlapAxes(f,p.vertices,m.vertices,p.axes),f.overlap<=0))return null;var g=d&&d.table[a.id(m,p)],y;g?y=g.collision:(y=s.create(m,p),y.collided=!0,y.bodyA=m.id<p.id?m:p,y.bodyB=m.id<p.id?p:m,y.parentA=y.bodyA.parent,y.parentB=y.bodyB.parent),m=y.bodyA,p=y.bodyB;var x;h.overlap<f.overlap?x=h:x=f;var w=y.normal,T=y.supports,S=x.axis,C=S.x,b=S.y;C*(p.position.x-m.position.x)+b*(p.position.y-m.position.y)<0?(w.x=C,w.y=b):(w.x=-C,w.y=-b),y.tangent.x=-w.y,y.tangent.y=w.x,y.depth=x.overlap,y.penetration.x=w.x*y.depth,y.penetration.y=w.y*y.depth;var I=s._findSupports(m,p,w,1),R=0;if(o.contains(m.vertices,I[0])&&(T[R++]=I[0]),o.contains(m.vertices,I[1])&&(T[R++]=I[1]),R<2){var P=s._findSupports(p,m,w,-1);o.contains(p.vertices,P[0])&&(T[R++]=P[0]),R<2&&o.contains(p.vertices,P[1])&&(T[R++]=P[1])}return R===0&&(T[R++]=I[0]),T.length=R,y},s._overlapAxes=function(m,p,d,g){var y=p.length,x=d.length,w=p[0].x,T=p[0].y,S=d[0].x,C=d[0].y,b=g.length,I=Number.MAX_VALUE,R=0,P,k,M,B,F,N;for(F=0;F<b;F++){var U=g[F],H=U.x,Q=U.y,W=w*H+T*Q,O=S*H+C*Q,V=W,G=O;for(N=1;N<y;N+=1)B=p[N].x*H+p[N].y*Q,B>V?V=B:B<W&&(W=B);for(N=1;N<x;N+=1)B=d[N].x*H+d[N].y*Q,B>G?G=B:B<O&&(O=B);if(k=V-O,M=G-W,P=k<M?k:M,P<I&&(I=P,R=F,P<=0))break}m.axis=g[R],m.overlap=I},s._projectToAxis=function(m,p,d){for(var g=p[0].x*d.x+p[0].y*d.y,y=g,x=1;x<p.length;x+=1){var w=p[x].x*d.x+p[x].y*d.y;w>y?y=w:w<g&&(g=w)}m.min=g,m.max=y},s._findSupports=function(m,p,d,g){var y=p.vertices,x=y.length,w=m.position.x,T=m.position.y,S=d.x*g,C=d.y*g,b=Number.MAX_VALUE,I,R,P,k,M;for(M=0;M<x;M+=1)R=y[M],k=S*(w-R.x)+C*(T-R.y),k<b&&(b=k,I=R);return P=y[(x+I.index-1)%x],b=S*(w-P.x)+C*(T-P.y),R=y[(I.index+1)%x],S*(w-R.x)+C*(T-R.y)<b?(u[0]=I,u[1]=R,u):(u[0]=I,u[1]=P,u)}})()},function(r,n,i){var s={};r.exports=s;var o=i(16);(function(){s.create=function(a,u){var h=a.bodyA,f=a.bodyB,m={id:s.id(h,f),bodyA:h,bodyB:f,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||f.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return s.update(m,a,u),m},s.update=function(a,u,h){var f=a.contacts,m=u.supports,p=a.activeContacts,d=u.parentA,g=u.parentB,y=d.vertices.length;a.isActive=!0,a.timeUpdated=h,a.collision=u,a.separation=u.depth,a.inverseMass=d.inverseMass+g.inverseMass,a.friction=d.friction<g.friction?d.friction:g.friction,a.frictionStatic=d.frictionStatic>g.frictionStatic?d.frictionStatic:g.frictionStatic,a.restitution=d.restitution>g.restitution?d.restitution:g.restitution,a.slop=d.slop>g.slop?d.slop:g.slop,u.pair=a,p.length=0;for(var x=0;x<m.length;x++){var w=m[x],T=w.body===d?w.index:y+w.index,S=f[T];S?p.push(S):p.push(f[T]=o.create(w))}},s.setActive=function(a,u,h){u?(a.isActive=!0,a.timeUpdated=h):(a.isActive=!1,a.activeContacts.length=0)},s.id=function(a,u){return a.id<u.id?"A"+a.id+"B"+u.id:"A"+u.id+"B"+a.id}})()},function(r,n,i){var s={};r.exports=s;var o=i(3),a=i(2),u=i(7),h=i(1),f=i(11),m=i(0);(function(){s._warming=.4,s._torqueDampen=1,s._minLength=1e-6,s.create=function(p){var d=p;d.bodyA&&!d.pointA&&(d.pointA={x:0,y:0}),d.bodyB&&!d.pointB&&(d.pointB={x:0,y:0});var g=d.bodyA?a.add(d.bodyA.position,d.pointA):d.pointA,y=d.bodyB?a.add(d.bodyB.position,d.pointB):d.pointB,x=a.magnitude(a.sub(g,y));d.length=typeof d.length<"u"?d.length:x,d.id=d.id||m.nextId(),d.label=d.label||"Constraint",d.type="constraint",d.stiffness=d.stiffness||(d.length>0?1:.7),d.damping=d.damping||0,d.angularStiffness=d.angularStiffness||0,d.angleA=d.bodyA?d.bodyA.angle:d.angleA,d.angleB=d.bodyB?d.bodyB.angle:d.angleB,d.plugin={};var w={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return d.length===0&&d.stiffness>.1?(w.type="pin",w.anchors=!1):d.stiffness<.9&&(w.type="spring"),d.render=m.extend(w,d.render),d},s.preSolveAll=function(p){for(var d=0;d<p.length;d+=1){var g=p[d],y=g.constraintImpulse;g.isStatic||y.x===0&&y.y===0&&y.angle===0||(g.position.x+=y.x,g.position.y+=y.y,g.angle+=y.angle)}},s.solveAll=function(p,d){for(var g=m.clamp(d/m._baseDelta,0,1),y=0;y<p.length;y+=1){var x=p[y],w=!x.bodyA||x.bodyA&&x.bodyA.isStatic,T=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(w||T)&&s.solve(p[y],g)}for(y=0;y<p.length;y+=1)x=p[y],w=!x.bodyA||x.bodyA&&x.bodyA.isStatic,T=!x.bodyB||x.bodyB&&x.bodyB.isStatic,!w&&!T&&s.solve(p[y],g)},s.solve=function(p,d){var g=p.bodyA,y=p.bodyB,x=p.pointA,w=p.pointB;if(!(!g&&!y)){g&&!g.isStatic&&(a.rotate(x,g.angle-p.angleA,x),p.angleA=g.angle),y&&!y.isStatic&&(a.rotate(w,y.angle-p.angleB,w),p.angleB=y.angle);var T=x,S=w;if(g&&(T=a.add(g.position,x)),y&&(S=a.add(y.position,w)),!(!T||!S)){var C=a.sub(T,S),b=a.magnitude(C);b<s._minLength&&(b=s._minLength);var I=(b-p.length)/b,R=p.stiffness>=1||p.length===0,P=R?p.stiffness*d:p.stiffness*d*d,k=p.damping*d,M=a.mult(C,I*P),B=(g?g.inverseMass:0)+(y?y.inverseMass:0),F=(g?g.inverseInertia:0)+(y?y.inverseInertia:0),N=B+F,U,H,Q,W,O;if(k>0){var V=a.create();Q=a.div(C,b),O=a.sub(y&&a.sub(y.position,y.positionPrev)||V,g&&a.sub(g.position,g.positionPrev)||V),W=a.dot(Q,O)}g&&!g.isStatic&&(H=g.inverseMass/B,g.constraintImpulse.x-=M.x*H,g.constraintImpulse.y-=M.y*H,g.position.x-=M.x*H,g.position.y-=M.y*H,k>0&&(g.positionPrev.x-=k*Q.x*W*H,g.positionPrev.y-=k*Q.y*W*H),U=a.cross(x,M)/N*s._torqueDampen*g.inverseInertia*(1-p.angularStiffness),g.constraintImpulse.angle-=U,g.angle-=U),y&&!y.isStatic&&(H=y.inverseMass/B,y.constraintImpulse.x+=M.x*H,y.constraintImpulse.y+=M.y*H,y.position.x+=M.x*H,y.position.y+=M.y*H,k>0&&(y.positionPrev.x+=k*Q.x*W*H,y.positionPrev.y+=k*Q.y*W*H),U=a.cross(w,M)/N*s._torqueDampen*y.inverseInertia*(1-p.angularStiffness),y.constraintImpulse.angle+=U,y.angle+=U)}}},s.postSolveAll=function(p){for(var d=0;d<p.length;d++){var g=p[d],y=g.constraintImpulse;if(!(g.isStatic||y.x===0&&y.y===0&&y.angle===0)){u.set(g,!1);for(var x=0;x<g.parts.length;x++){var w=g.parts[x];o.translate(w.vertices,y),x>0&&(w.position.x+=y.x,w.position.y+=y.y),y.angle!==0&&(o.rotate(w.vertices,y.angle,g.position),f.rotate(w.axes,y.angle),x>0&&a.rotateAbout(w.position,y.angle,g.position,w.position)),h.update(w.bounds,w.vertices,g.velocity)}y.angle*=s._warming,y.x*=s._warming,y.y*=s._warming}}},s.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},s.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}}})()},function(r,n,i){var s={};r.exports=s;var o=i(2),a=i(0);(function(){s.fromVertices=function(u){for(var h={},f=0;f<u.length;f++){var m=(f+1)%u.length,p=o.normalise({x:u[m].y-u[f].y,y:u[f].x-u[m].x}),d=p.y===0?1/0:p.x/p.y;d=d.toFixed(3).toString(),h[d]=p}return a.values(h)},s.rotate=function(u,h){if(h!==0)for(var f=Math.cos(h),m=Math.sin(h),p=0;p<u.length;p++){var d=u[p],g;g=d.x*f-d.y*m,d.y=d.x*m+d.y*f,d.x=g}}})()},function(r,n,i){var s={};r.exports=s;var o=i(3),a=i(0),u=i(4),h=i(1),f=i(2);(function(){s.rectangle=function(m,p,d,g,y){y=y||{};var x={label:"Rectangle Body",position:{x:m,y:p},vertices:o.fromPath("L 0 0 L "+d+" 0 L "+d+" "+g+" L 0 "+g)};if(y.chamfer){var w=y.chamfer;x.vertices=o.chamfer(x.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete y.chamfer}return u.create(a.extend({},x,y))},s.trapezoid=function(m,p,d,g,y,x){x=x||{},y*=.5;var w=(1-y*2)*d,T=d*y,S=T+w,C=S+T,b;y<.5?b="L 0 0 L "+T+" "+-g+" L "+S+" "+-g+" L "+C+" 0":b="L 0 0 L "+S+" "+-g+" L "+C+" 0";var I={label:"Trapezoid Body",position:{x:m,y:p},vertices:o.fromPath(b)};if(x.chamfer){var R=x.chamfer;I.vertices=o.chamfer(I.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete x.chamfer}return u.create(a.extend({},I,x))},s.circle=function(m,p,d,g,y){g=g||{};var x={label:"Circle Body",circleRadius:d};y=y||25;var w=Math.ceil(Math.max(10,Math.min(y,d)));return w%2===1&&(w+=1),s.polygon(m,p,w,d,a.extend({},x,g))},s.polygon=function(m,p,d,g,y){if(y=y||{},d<3)return s.circle(m,p,g,y);for(var x=2*Math.PI/d,w="",T=x*.5,S=0;S<d;S+=1){var C=T+S*x,b=Math.cos(C)*g,I=Math.sin(C)*g;w+="L "+b.toFixed(3)+" "+I.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:m,y:p},vertices:o.fromPath(w)};if(y.chamfer){var P=y.chamfer;R.vertices=o.chamfer(R.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete y.chamfer}return u.create(a.extend({},R,y))},s.fromVertices=function(m,p,d,g,y,x,w,T){var S=a.getDecomp(),C,b,I,R,P,k,M,B,F,N,U;for(C=!!(S&&S.quickDecomp),g=g||{},I=[],y=typeof y<"u"?y:!1,x=typeof x<"u"?x:.01,w=typeof w<"u"?w:10,T=typeof T<"u"?T:.01,a.isArray(d[0])||(d=[d]),N=0;N<d.length;N+=1)if(k=d[N],R=o.isConvex(k),P=!R,P&&!C&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!C)R?k=o.clockwiseSort(k):k=o.hull(k),I.push({position:{x:m,y:p},vertices:k});else{var H=k.map(function(xe){return[xe.x,xe.y]});S.makeCCW(H),x!==!1&&S.removeCollinearPoints(H,x),T!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(H,T);var Q=S.quickDecomp(H);for(M=0;M<Q.length;M++){var W=Q[M],O=W.map(function(xe){return{x:xe[0],y:xe[1]}});w>0&&o.area(O)<w||I.push({position:o.centre(O),vertices:O})}}for(M=0;M<I.length;M++)I[M]=u.create(a.extend(I[M],g));if(y){var V=5;for(M=0;M<I.length;M++){var G=I[M];for(B=M+1;B<I.length;B++){var j=I[B];if(h.overlaps(G.bounds,j.bounds)){var Z=G.vertices,ge=j.vertices;for(F=0;F<G.vertices.length;F++)for(U=0;U<j.vertices.length;U++){var ue=f.magnitudeSquared(f.sub(Z[(F+1)%Z.length],ge[U])),be=f.magnitudeSquared(f.sub(Z[F],ge[(U+1)%ge.length]));ue<V&&be<V&&(Z[F].isInternal=!0,ge[U].isInternal=!0)}}}}}return I.length>1?(b=u.create(a.extend({parts:I.slice(0)},g)),u.setPosition(b,{x:m,y:p}),b):I[0]}})()},function(r,n,i){var s={};r.exports=s;var o=i(0),a=i(8);(function(){s.create=function(u){var h={bodies:[],pairs:null};return o.extend(h,u)},s.setBodies=function(u,h){u.bodies=h.slice(0)},s.clear=function(u){u.bodies=[]},s.collisions=function(u){var h=[],f=u.pairs,m=u.bodies,p=m.length,d=s.canCollide,g=a.collides,y,x;for(m.sort(s._compareBoundsX),y=0;y<p;y++){var w=m[y],T=w.bounds,S=w.bounds.max.x,C=w.bounds.max.y,b=w.bounds.min.y,I=w.isStatic||w.isSleeping,R=w.parts.length,P=R===1;for(x=y+1;x<p;x++){var k=m[x],M=k.bounds;if(M.min.x>S)break;if(!(C<M.min.y||b>M.max.y)&&!(I&&(k.isStatic||k.isSleeping))&&d(w.collisionFilter,k.collisionFilter)){var B=k.parts.length;if(P&&B===1){var F=g(w,k,f);F&&h.push(F)}else for(var N=R>1?1:0,U=B>1?1:0,H=N;H<R;H++)for(var Q=w.parts[H],T=Q.bounds,W=U;W<B;W++){var O=k.parts[W],M=O.bounds;if(!(T.min.x>M.max.x||T.max.x<M.min.x||T.max.y<M.min.y||T.min.y>M.max.y)){var F=g(Q,O,f);F&&h.push(F)}}}}}return h},s.canCollide=function(u,h){return u.group===h.group&&u.group!==0?u.group>0:(u.mask&h.category)!==0&&(h.mask&u.category)!==0},s._compareBoundsX=function(u,h){return u.bounds.min.x-h.bounds.min.x}})()},function(r,n,i){var s={};r.exports=s;var o=i(0);(function(){s.create=function(a){var u={};return a||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),u.element=a||document.body,u.absolute={x:0,y:0},u.position={x:0,y:0},u.mousedownPosition={x:0,y:0},u.mouseupPosition={x:0,y:0},u.offset={x:0,y:0},u.scale={x:1,y:1},u.wheelDelta=0,u.button=-1,u.pixelRatio=parseInt(u.element.getAttribute("data-pixel-ratio"),10)||1,u.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},u.mousemove=function(h){var f=s._getRelativeMousePosition(h,u.element,u.pixelRatio),m=h.changedTouches;m&&(u.button=0,h.preventDefault()),u.absolute.x=f.x,u.absolute.y=f.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.sourceEvents.mousemove=h},u.mousedown=function(h){var f=s._getRelativeMousePosition(h,u.element,u.pixelRatio),m=h.changedTouches;m?(u.button=0,h.preventDefault()):u.button=h.button,u.absolute.x=f.x,u.absolute.y=f.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.mousedownPosition.x=u.position.x,u.mousedownPosition.y=u.position.y,u.sourceEvents.mousedown=h},u.mouseup=function(h){var f=s._getRelativeMousePosition(h,u.element,u.pixelRatio),m=h.changedTouches;m&&h.preventDefault(),u.button=-1,u.absolute.x=f.x,u.absolute.y=f.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.mouseupPosition.x=u.position.x,u.mouseupPosition.y=u.position.y,u.sourceEvents.mouseup=h},u.mousewheel=function(h){u.wheelDelta=Math.max(-1,Math.min(1,h.wheelDelta||-h.detail)),h.preventDefault()},s.setElement(u,u.element),u},s.setElement=function(a,u){a.element=u,u.addEventListener("mousemove",a.mousemove),u.addEventListener("mousedown",a.mousedown),u.addEventListener("mouseup",a.mouseup),u.addEventListener("mousewheel",a.mousewheel),u.addEventListener("DOMMouseScroll",a.mousewheel),u.addEventListener("touchmove",a.mousemove),u.addEventListener("touchstart",a.mousedown),u.addEventListener("touchend",a.mouseup)},s.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},s.setOffset=function(a,u){a.offset.x=u.x,a.offset.y=u.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s.setScale=function(a,u){a.scale.x=u.x,a.scale.y=u.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s._getRelativeMousePosition=function(a,u,h){var f=u.getBoundingClientRect(),m=document.documentElement||document.body.parentNode||document.body,p=window.pageXOffset!==void 0?window.pageXOffset:m.scrollLeft,d=window.pageYOffset!==void 0?window.pageYOffset:m.scrollTop,g=a.changedTouches,y,x;return g?(y=g[0].pageX-f.left-p,x=g[0].pageY-f.top-d):(y=a.pageX-f.left-p,x=a.pageY-f.top-d),{x:y/(u.clientWidth/(u.width||u.clientWidth)*h),y:x/(u.clientHeight/(u.height||u.clientHeight)*h)}}})()},function(r,n,i){var s={};r.exports=s;var o=i(0);(function(){s._registry={},s.register=function(a){if(s.isPlugin(a)||o.warn("Plugin.register:",s.toString(a),"does not implement all required fields."),a.name in s._registry){var u=s._registry[a.name],h=s.versionParse(a.version).number,f=s.versionParse(u.version).number;h>f?(o.warn("Plugin.register:",s.toString(u),"was upgraded to",s.toString(a)),s._registry[a.name]=a):h<f?o.warn("Plugin.register:",s.toString(u),"can not be downgraded to",s.toString(a)):a!==u&&o.warn("Plugin.register:",s.toString(a),"is already registered to different plugin object")}else s._registry[a.name]=a;return a},s.resolve=function(a){return s._registry[s.dependencyParse(a).name]},s.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},s.isPlugin=function(a){return a&&a.name&&a.version&&a.install},s.isUsed=function(a,u){return a.used.indexOf(u)>-1},s.isFor=function(a,u){var h=a.for&&s.dependencyParse(a.for);return!a.for||u.name===h.name&&s.versionSatisfies(u.version,h.range)},s.use=function(a,u){if(a.uses=(a.uses||[]).concat(u||[]),a.uses.length===0){o.warn("Plugin.use:",s.toString(a),"does not specify any dependencies to install.");return}for(var h=s.dependencies(a),f=o.topologicalSort(h),m=[],p=0;p<f.length;p+=1)if(f[p]!==a.name){var d=s.resolve(f[p]);if(!d){m.push(" "+f[p]);continue}s.isUsed(a,d.name)||(s.isFor(d,a)||(o.warn("Plugin.use:",s.toString(d),"is for",d.for,"but installed on",s.toString(a)+"."),d._warned=!0),d.install?d.install(a):(o.warn("Plugin.use:",s.toString(d),"does not specify an install function."),d._warned=!0),d._warned?(m.push(" "+s.toString(d)),delete d._warned):m.push(" "+s.toString(d)),a.used.push(d.name))}m.length>0&&o.info(m.join("  "))},s.dependencies=function(a,u){var h=s.dependencyParse(a),f=h.name;if(u=u||{},!(f in u)){a=s.resolve(a)||a,u[f]=o.map(a.uses||[],function(p){s.isPlugin(p)&&s.register(p);var d=s.dependencyParse(p),g=s.resolve(p);return g&&!s.versionSatisfies(g.version,d.range)?(o.warn("Plugin.dependencies:",s.toString(g),"does not satisfy",s.toString(d),"used by",s.toString(h)+"."),g._warned=!0,a._warned=!0):g||(o.warn("Plugin.dependencies:",s.toString(p),"used by",s.toString(h),"could not be resolved."),a._warned=!0),d.name});for(var m=0;m<u[f].length;m+=1)s.dependencies(u[f][m],u);return u}},s.dependencyParse=function(a){if(o.isString(a)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(a)||o.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},s.versionParse=function(a){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(a)||o.warn("Plugin.versionParse:",a,"is not a valid version or range.");var h=u.exec(a),f=Number(h[4]),m=Number(h[5]),p=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:a,operator:h[1]||h[2]||"",major:f,minor:m,patch:p,parts:[f,m,p],prerelease:h[7],number:f*1e8+m*1e4+p}},s.versionSatisfies=function(a,u){u=u||"*";var h=s.versionParse(u),f=s.versionParse(a);if(h.isRange){if(h.operator==="*"||a==="*")return!0;if(h.operator===">")return f.number>h.number;if(h.operator===">=")return f.number>=h.number;if(h.operator==="~")return f.major===h.major&&f.minor===h.minor&&f.patch>=h.patch;if(h.operator==="^")return h.major>0?f.major===h.major&&f.number>=h.number:h.minor>0?f.minor===h.minor&&f.patch>=h.patch:f.patch===h.patch}return a===u||a==="*"}})()},function(r,n){var i={};r.exports=i,function(){i.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},function(r,n,i){var s={};r.exports=s;var o=i(7),a=i(18),u=i(13),h=i(19),f=i(5),m=i(6),p=i(10),d=i(0),g=i(4);(function(){s.create=function(y){y=y||{};var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},w=d.extend(x,y);return w.world=y.world||m.create({label:"World"}),w.pairs=y.pairs||h.create(),w.detector=y.detector||u.create(),w.grid={buckets:[]},w.world.gravity=w.gravity,w.broadphase=w.grid,w.metrics={},w},s.update=function(y,x){var w=d.now(),T=y.world,S=y.detector,C=y.pairs,b=y.timing,I=b.timestamp,R;x=typeof x<"u"?x:d._baseDelta,x*=b.timeScale,b.timestamp+=x,b.lastDelta=x;var P={timestamp:b.timestamp,delta:x};f.trigger(y,"beforeUpdate",P);var k=m.allBodies(T),M=m.allConstraints(T);for(T.isModified&&(u.setBodies(S,k),m.setModified(T,!1,!1,!0)),y.enableSleeping&&o.update(k,x),s._bodiesApplyGravity(k,y.gravity),x>0&&s._bodiesUpdate(k,x),p.preSolveAll(k),R=0;R<y.constraintIterations;R++)p.solveAll(M,x);p.postSolveAll(k),S.pairs=y.pairs;var B=u.collisions(S);h.update(C,B,I),y.enableSleeping&&o.afterCollisions(C.list),C.collisionStart.length>0&&f.trigger(y,"collisionStart",{pairs:C.collisionStart});var F=d.clamp(20/y.positionIterations,0,1);for(a.preSolvePosition(C.list),R=0;R<y.positionIterations;R++)a.solvePosition(C.list,x,F);for(a.postSolvePosition(k),p.preSolveAll(k),R=0;R<y.constraintIterations;R++)p.solveAll(M,x);for(p.postSolveAll(k),a.preSolveVelocity(C.list),R=0;R<y.velocityIterations;R++)a.solveVelocity(C.list,x);return s._bodiesUpdateVelocities(k),C.collisionActive.length>0&&f.trigger(y,"collisionActive",{pairs:C.collisionActive}),C.collisionEnd.length>0&&f.trigger(y,"collisionEnd",{pairs:C.collisionEnd}),s._bodiesClearForces(k),f.trigger(y,"afterUpdate",P),y.timing.lastElapsed=d.now()-w,y},s.merge=function(y,x){if(d.extend(y,x),x.world){y.world=x.world,s.clear(y);for(var w=m.allBodies(y.world),T=0;T<w.length;T++){var S=w[T];o.set(S,!1),S.id=d.nextId()}}},s.clear=function(y){h.clear(y.pairs),u.clear(y.detector)},s._bodiesClearForces=function(y){for(var x=y.length,w=0;w<x;w++){var T=y[w];T.force.x=0,T.force.y=0,T.torque=0}},s._bodiesApplyGravity=function(y,x){var w=typeof x.scale<"u"?x.scale:.001,T=y.length;if(!(x.x===0&&x.y===0||w===0))for(var S=0;S<T;S++){var C=y[S];C.isStatic||C.isSleeping||(C.force.y+=C.mass*x.y*w,C.force.x+=C.mass*x.x*w)}},s._bodiesUpdate=function(y,x){for(var w=y.length,T=0;T<w;T++){var S=y[T];S.isStatic||S.isSleeping||g.update(S,x)}},s._bodiesUpdateVelocities=function(y){for(var x=y.length,w=0;w<x;w++)g.updateVelocities(y[w])}})()},function(r,n,i){var s={};r.exports=s;var o=i(3),a=i(0),u=i(1);(function(){s._restingThresh=2,s._restingThreshTangent=Math.sqrt(6),s._positionDampen=.9,s._positionWarming=.8,s._frictionNormalMultiplier=5,s._frictionMaxStatic=Number.MAX_VALUE,s.preSolvePosition=function(h){var f,m,p,d=h.length;for(f=0;f<d;f++)m=h[f],m.isActive&&(p=m.activeContacts.length,m.collision.parentA.totalContacts+=p,m.collision.parentB.totalContacts+=p)},s.solvePosition=function(h,f,m){var p,d,g,y,x,w,T,S,C=s._positionDampen*(m||1),b=a.clamp(f/a._baseDelta,0,1),I=h.length;for(p=0;p<I;p++)d=h[p],!(!d.isActive||d.isSensor)&&(g=d.collision,y=g.parentA,x=g.parentB,w=g.normal,d.separation=w.x*(x.positionImpulse.x+g.penetration.x-y.positionImpulse.x)+w.y*(x.positionImpulse.y+g.penetration.y-y.positionImpulse.y));for(p=0;p<I;p++)d=h[p],!(!d.isActive||d.isSensor)&&(g=d.collision,y=g.parentA,x=g.parentB,w=g.normal,S=d.separation-d.slop*b,(y.isStatic||x.isStatic)&&(S*=2),y.isStatic||y.isSleeping||(T=C/y.totalContacts,y.positionImpulse.x+=w.x*S*T,y.positionImpulse.y+=w.y*S*T),x.isStatic||x.isSleeping||(T=C/x.totalContacts,x.positionImpulse.x-=w.x*S*T,x.positionImpulse.y-=w.y*S*T))},s.postSolvePosition=function(h){for(var f=s._positionWarming,m=h.length,p=o.translate,d=u.update,g=0;g<m;g++){var y=h[g],x=y.positionImpulse,w=x.x,T=x.y,S=y.velocity;if(y.totalContacts=0,w!==0||T!==0){for(var C=0;C<y.parts.length;C++){var b=y.parts[C];p(b.vertices,x),d(b.bounds,b.vertices,S),b.position.x+=w,b.position.y+=T}y.positionPrev.x+=w,y.positionPrev.y+=T,w*S.x+T*S.y<0?(x.x=0,x.y=0):(x.x*=f,x.y*=f)}}},s.preSolveVelocity=function(h){var f=h.length,m,p;for(m=0;m<f;m++){var d=h[m];if(!(!d.isActive||d.isSensor)){var g=d.activeContacts,y=g.length,x=d.collision,w=x.parentA,T=x.parentB,S=x.normal,C=x.tangent;for(p=0;p<y;p++){var b=g[p],I=b.vertex,R=b.normalImpulse,P=b.tangentImpulse;if(R!==0||P!==0){var k=S.x*R+C.x*P,M=S.y*R+C.y*P;w.isStatic||w.isSleeping||(w.positionPrev.x+=k*w.inverseMass,w.positionPrev.y+=M*w.inverseMass,w.anglePrev+=w.inverseInertia*((I.x-w.position.x)*M-(I.y-w.position.y)*k)),T.isStatic||T.isSleeping||(T.positionPrev.x-=k*T.inverseMass,T.positionPrev.y-=M*T.inverseMass,T.anglePrev-=T.inverseInertia*((I.x-T.position.x)*M-(I.y-T.position.y)*k))}}}}},s.solveVelocity=function(h,f){var m=f/a._baseDelta,p=m*m,d=p*m,g=-s._restingThresh*m,y=s._restingThreshTangent,x=s._frictionNormalMultiplier*m,w=s._frictionMaxStatic,T=h.length,S,C,b,I;for(b=0;b<T;b++){var R=h[b];if(!(!R.isActive||R.isSensor)){var P=R.collision,k=P.parentA,M=P.parentB,B=k.velocity,F=M.velocity,N=P.normal.x,U=P.normal.y,H=P.tangent.x,Q=P.tangent.y,W=R.activeContacts,O=W.length,V=1/O,G=k.inverseMass+M.inverseMass,j=R.friction*R.frictionStatic*x;for(B.x=k.position.x-k.positionPrev.x,B.y=k.position.y-k.positionPrev.y,F.x=M.position.x-M.positionPrev.x,F.y=M.position.y-M.positionPrev.y,k.angularVelocity=k.angle-k.anglePrev,M.angularVelocity=M.angle-M.anglePrev,I=0;I<O;I++){var Z=W[I],ge=Z.vertex,ue=ge.x-k.position.x,be=ge.y-k.position.y,xe=ge.x-M.position.x,Ce=ge.y-M.position.y,Ue=B.x-be*k.angularVelocity,St=B.y+ue*k.angularVelocity,Ze=F.x-Ce*M.angularVelocity,Ae=F.y+xe*M.angularVelocity,$e=Ue-Ze,De=St-Ae,Wt=N*$e+U*De,ut=H*$e+Q*De,wn=R.separation+Wt,Ss=Math.min(wn,1);Ss=wn<0?0:Ss;var ri=Ss*j;ut<-ri||ut>ri?(C=ut>0?ut:-ut,S=R.friction*(ut>0?1:-1)*d,S<-C?S=-C:S>C&&(S=C)):(S=ut,C=w);var Fu=ue*U-be*N,Pi=xe*U-Ce*N,Nu=V/(G+k.inverseInertia*Fu*Fu+M.inverseInertia*Pi*Pi),go=(1+R.restitution)*Wt*Nu;if(S*=Nu,Wt<g)Z.normalImpulse=0;else{var gf=Z.normalImpulse;Z.normalImpulse+=go,Z.normalImpulse>0&&(Z.normalImpulse=0),go=Z.normalImpulse-gf}if(ut<-y||ut>y)Z.tangentImpulse=0;else{var Es=Z.tangentImpulse;Z.tangentImpulse+=S,Z.tangentImpulse<-C&&(Z.tangentImpulse=-C),Z.tangentImpulse>C&&(Z.tangentImpulse=C),S=Z.tangentImpulse-Es}var vo=N*go+H*S,yo=U*go+Q*S;k.isStatic||k.isSleeping||(k.positionPrev.x+=vo*k.inverseMass,k.positionPrev.y+=yo*k.inverseMass,k.anglePrev+=(ue*yo-be*vo)*k.inverseInertia),M.isStatic||M.isSleeping||(M.positionPrev.x-=vo*M.inverseMass,M.positionPrev.y-=yo*M.inverseMass,M.anglePrev-=(xe*yo-Ce*vo)*M.inverseInertia)}}}}})()},function(r,n,i){var s={};r.exports=s;var o=i(9),a=i(0);(function(){s.create=function(u){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},s.update=function(u,h,f){var m=u.list,p=m.length,d=u.table,g=h.length,y=u.collisionStart,x=u.collisionEnd,w=u.collisionActive,T,S,C,b;for(y.length=0,x.length=0,w.length=0,b=0;b<p;b++)m[b].confirmedActive=!1;for(b=0;b<g;b++)T=h[b],C=T.pair,C?(C.isActive?w.push(C):y.push(C),o.update(C,T,f),C.confirmedActive=!0):(C=o.create(T,f),d[C.id]=C,y.push(C),m.push(C));var I=[];for(p=m.length,b=0;b<p;b++)C=m[b],C.confirmedActive||(o.setActive(C,!1,f),x.push(C),!C.collision.bodyA.isSleeping&&!C.collision.bodyB.isSleeping&&I.push(b));for(b=0;b<I.length;b++)S=I[b]-b,C=m[S],m.splice(S,1),delete d[C.id]},s.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()},function(r,n,i){var s=r.exports=i(21);s.Axes=i(11),s.Bodies=i(12),s.Body=i(4),s.Bounds=i(1),s.Collision=i(8),s.Common=i(0),s.Composite=i(6),s.Composites=i(22),s.Constraint=i(10),s.Contact=i(16),s.Detector=i(13),s.Engine=i(17),s.Events=i(5),s.Grid=i(23),s.Mouse=i(14),s.MouseConstraint=i(24),s.Pair=i(9),s.Pairs=i(19),s.Plugin=i(15),s.Query=i(25),s.Render=i(26),s.Resolver=i(18),s.Runner=i(27),s.SAT=i(28),s.Sleeping=i(7),s.Svg=i(29),s.Vector=i(2),s.Vertices=i(3),s.World=i(30),s.Engine.run=s.Runner.run,s.Common.deprecated(s.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(r,n,i){var s={};r.exports=s;var o=i(15),a=i(0);(function(){s.name="matter-js",s.version="0.19.0",s.uses=[],s.used=[],s.use=function(){o.use(s,Array.prototype.slice.call(arguments))},s.before=function(u,h){return u=u.replace(/^Matter./,""),a.chainPathBefore(s,u,h)},s.after=function(u,h){return u=u.replace(/^Matter./,""),a.chainPathAfter(s,u,h)}})()},function(r,n,i){var s={};r.exports=s;var o=i(6),a=i(10),u=i(0),h=i(4),f=i(12),m=u.deprecated;(function(){s.stack=function(p,d,g,y,x,w,T){for(var S=o.create({label:"Stack"}),C=p,b=d,I,R=0,P=0;P<y;P++){for(var k=0,M=0;M<g;M++){var B=T(C,b,M,P,I,R);if(B){var F=B.bounds.max.y-B.bounds.min.y,N=B.bounds.max.x-B.bounds.min.x;F>k&&(k=F),h.translate(B,{x:N*.5,y:F*.5}),C=B.bounds.max.x+x,o.addBody(S,B),I=B,R+=1}else C+=x}b+=k+w,C=p}return S},s.chain=function(p,d,g,y,x,w){for(var T=p.bodies,S=1;S<T.length;S++){var C=T[S-1],b=T[S],I=C.bounds.max.y-C.bounds.min.y,R=C.bounds.max.x-C.bounds.min.x,P=b.bounds.max.y-b.bounds.min.y,k=b.bounds.max.x-b.bounds.min.x,M={bodyA:C,pointA:{x:R*d,y:I*g},bodyB:b,pointB:{x:k*y,y:P*x}},B=u.extend(M,w);o.addConstraint(p,a.create(B))}return p.label+=" Chain",p},s.mesh=function(p,d,g,y,x){var w=p.bodies,T,S,C,b,I;for(T=0;T<g;T++){for(S=1;S<d;S++)C=w[S-1+T*d],b=w[S+T*d],o.addConstraint(p,a.create(u.extend({bodyA:C,bodyB:b},x)));if(T>0)for(S=0;S<d;S++)C=w[S+(T-1)*d],b=w[S+T*d],o.addConstraint(p,a.create(u.extend({bodyA:C,bodyB:b},x))),y&&S>0&&(I=w[S-1+(T-1)*d],o.addConstraint(p,a.create(u.extend({bodyA:I,bodyB:b},x)))),y&&S<d-1&&(I=w[S+1+(T-1)*d],o.addConstraint(p,a.create(u.extend({bodyA:I,bodyB:b},x))))}return p.label+=" Mesh",p},s.pyramid=function(p,d,g,y,x,w,T){return s.stack(p,d,g,y,x,w,function(S,C,b,I,R,P){var k=Math.min(y,Math.ceil(g/2)),M=R?R.bounds.max.x-R.bounds.min.x:0;if(!(I>k)){I=k-I;var B=I,F=g-1-I;if(!(b<B||b>F)){P===1&&h.translate(R,{x:(b+(g%2===1?1:-1))*M,y:0});var N=R?b*M:0;return T(p+N+b*x,C,b,I,R,P)}}})},s.newtonsCradle=function(p,d,g,y,x){for(var w=o.create({label:"Newtons Cradle"}),T=0;T<g;T++){var S=1.9,C=f.circle(p+T*(y*S),d+x,y,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),b=a.create({pointA:{x:p+T*(y*S),y:d},bodyB:C});o.addBody(w,C),o.addConstraint(w,b)}return w},m(s,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),s.car=function(p,d,g,y,x){var w=h.nextGroup(!0),T=20,S=-g*.5+T,C=g*.5-T,b=0,I=o.create({label:"Car"}),R=f.rectangle(p,d,g,y,{collisionFilter:{group:w},chamfer:{radius:y*.5},density:2e-4}),P=f.circle(p+S,d+b,x,{collisionFilter:{group:w},friction:.8}),k=f.circle(p+C,d+b,x,{collisionFilter:{group:w},friction:.8}),M=a.create({bodyB:R,pointB:{x:S,y:b},bodyA:P,stiffness:1,length:0}),B=a.create({bodyB:R,pointB:{x:C,y:b},bodyA:k,stiffness:1,length:0});return o.addBody(I,R),o.addBody(I,P),o.addBody(I,k),o.addConstraint(I,M),o.addConstraint(I,B),I},m(s,"car","Composites.car  moved to car example"),s.softBody=function(p,d,g,y,x,w,T,S,C,b){C=u.extend({inertia:1/0},C),b=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},b);var I=s.stack(p,d,g,y,x,w,function(R,P){return f.circle(R,P,S,C)});return s.mesh(I,g,y,T,b),I.label="Soft Body",I},m(s,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(r,n,i){var s={};r.exports=s;var o=i(9),a=i(0),u=a.deprecated;(function(){s.create=function(h){var f={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(f,h)},s.update=function(h,f,m,p){var d,g,y,x=m.world,w=h.buckets,T,S,C=!1;for(d=0;d<f.length;d++){var b=f[d];if(!(b.isSleeping&&!p)&&!(x.bounds&&(b.bounds.max.x<x.bounds.min.x||b.bounds.min.x>x.bounds.max.x||b.bounds.max.y<x.bounds.min.y||b.bounds.min.y>x.bounds.max.y))){var I=s._getRegion(h,b);if(!b.region||I.id!==b.region.id||p){(!b.region||p)&&(b.region=I);var R=s._regionUnion(I,b.region);for(g=R.startCol;g<=R.endCol;g++)for(y=R.startRow;y<=R.endRow;y++){S=s._getBucketId(g,y),T=w[S];var P=g>=I.startCol&&g<=I.endCol&&y>=I.startRow&&y<=I.endRow,k=g>=b.region.startCol&&g<=b.region.endCol&&y>=b.region.startRow&&y<=b.region.endRow;!P&&k&&k&&T&&s._bucketRemoveBody(h,T,b),(b.region===I||P&&!k||p)&&(T||(T=s._createBucket(w,S)),s._bucketAddBody(h,T,b))}b.region=I,C=!0}}}C&&(h.pairsList=s._createActivePairsList(h))},u(s,"update","Grid.update  replaced by Matter.Detector"),s.clear=function(h){h.buckets={},h.pairs={},h.pairsList=[]},u(s,"clear","Grid.clear  replaced by Matter.Detector"),s._regionUnion=function(h,f){var m=Math.min(h.startCol,f.startCol),p=Math.max(h.endCol,f.endCol),d=Math.min(h.startRow,f.startRow),g=Math.max(h.endRow,f.endRow);return s._createRegion(m,p,d,g)},s._getRegion=function(h,f){var m=f.bounds,p=Math.floor(m.min.x/h.bucketWidth),d=Math.floor(m.max.x/h.bucketWidth),g=Math.floor(m.min.y/h.bucketHeight),y=Math.floor(m.max.y/h.bucketHeight);return s._createRegion(p,d,g,y)},s._createRegion=function(h,f,m,p){return{id:h+","+f+","+m+","+p,startCol:h,endCol:f,startRow:m,endRow:p}},s._getBucketId=function(h,f){return"C"+h+"R"+f},s._createBucket=function(h,f){var m=h[f]=[];return m},s._bucketAddBody=function(h,f,m){var p=h.pairs,d=o.id,g=f.length,y;for(y=0;y<g;y++){var x=f[y];if(!(m.id===x.id||m.isStatic&&x.isStatic)){var w=d(m,x),T=p[w];T?T[2]+=1:p[w]=[m,x,1]}}f.push(m)},s._bucketRemoveBody=function(h,f,m){var p=h.pairs,d=o.id,g;f.splice(a.indexOf(f,m),1);var y=f.length;for(g=0;g<y;g++){var x=p[d(m,f[g])];x&&(x[2]-=1)}},s._createActivePairsList=function(h){var f,m=h.pairs,p=a.keys(m),d=p.length,g=[],y;for(y=0;y<d;y++)f=m[p[y]],f[2]>0?g.push(f):delete m[p[y]];return g}})()},function(r,n,i){var s={};r.exports=s;var o=i(3),a=i(7),u=i(14),h=i(5),f=i(13),m=i(10),p=i(6),d=i(0),g=i(1);(function(){s.create=function(y,x){var w=(y?y.mouse:null)||(x?x.mouse:null);w||(y&&y.render&&y.render.canvas?w=u.create(y.render.canvas):x&&x.element?w=u.create(x.element):(w=u.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var T=m.create({label:"Mouse Constraint",pointA:w.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),S={type:"mouseConstraint",mouse:w,element:null,body:null,constraint:T,collisionFilter:{category:1,mask:4294967295,group:0}},C=d.extend(S,x);return h.on(y,"beforeUpdate",function(){var b=p.allBodies(y.world);s.update(C,b),s._triggerEvents(C)}),C},s.update=function(y,x){var w=y.mouse,T=y.constraint,S=y.body;if(w.button===0){if(T.bodyB)a.set(T.bodyB,!1),T.pointA=w.position;else for(var C=0;C<x.length;C++)if(S=x[C],g.contains(S.bounds,w.position)&&f.canCollide(S.collisionFilter,y.collisionFilter))for(var b=S.parts.length>1?1:0;b<S.parts.length;b++){var I=S.parts[b];if(o.contains(I.vertices,w.position)){T.pointA=w.position,T.bodyB=y.body=S,T.pointB={x:w.position.x-S.position.x,y:w.position.y-S.position.y},T.angleB=S.angle,a.set(S,!1),h.trigger(y,"startdrag",{mouse:w,body:S});break}}}else T.bodyB=y.body=null,T.pointB=null,S&&h.trigger(y,"enddrag",{mouse:w,body:S})},s._triggerEvents=function(y){var x=y.mouse,w=x.sourceEvents;w.mousemove&&h.trigger(y,"mousemove",{mouse:x}),w.mousedown&&h.trigger(y,"mousedown",{mouse:x}),w.mouseup&&h.trigger(y,"mouseup",{mouse:x}),u.clearSourceEvents(x)}})()},function(r,n,i){var s={};r.exports=s;var o=i(2),a=i(8),u=i(1),h=i(12),f=i(3);(function(){s.collides=function(m,p){for(var d=[],g=p.length,y=m.bounds,x=a.collides,w=u.overlaps,T=0;T<g;T++){var S=p[T],C=S.parts.length,b=C===1?0:1;if(w(S.bounds,y))for(var I=b;I<C;I++){var R=S.parts[I];if(w(R.bounds,y)){var P=x(R,m);if(P){d.push(P);break}}}}return d},s.ray=function(m,p,d,g){g=g||1e-100;for(var y=o.angle(p,d),x=o.magnitude(o.sub(p,d)),w=(d.x+p.x)*.5,T=(d.y+p.y)*.5,S=h.rectangle(w,T,x,g,{angle:y}),C=s.collides(S,m),b=0;b<C.length;b+=1){var I=C[b];I.body=I.bodyB=I.bodyA}return C},s.region=function(m,p,d){for(var g=[],y=0;y<m.length;y++){var x=m[y],w=u.overlaps(x.bounds,p);(w&&!d||!w&&d)&&g.push(x)}return g},s.point=function(m,p){for(var d=[],g=0;g<m.length;g++){var y=m[g];if(u.contains(y.bounds,p))for(var x=y.parts.length===1?0:1;x<y.parts.length;x++){var w=y.parts[x];if(u.contains(w.bounds,p)&&f.contains(w.vertices,p)){d.push(y);break}}}return d}})()},function(r,n,i){var s={};r.exports=s;var o=i(4),a=i(0),u=i(6),h=i(1),f=i(5),m=i(2),p=i(14);(function(){var d,g;typeof window<"u"&&(d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(function(){b(a.now())},1e3/60)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),s._goodFps=30,s._goodDelta=1e3/60,s.create=function(b){var I={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!b.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},R=a.extend(I,b);return R.canvas&&(R.canvas.width=R.options.width||R.canvas.width,R.canvas.height=R.options.height||R.canvas.height),R.mouse=b.mouse,R.engine=b.engine,R.canvas=R.canvas||w(R.options.width,R.options.height),R.context=R.canvas.getContext("2d"),R.textures={},R.bounds=R.bounds||{min:{x:0,y:0},max:{x:R.canvas.width,y:R.canvas.height}},R.controller=s,R.options.showBroadphase=!1,R.options.pixelRatio!==1&&s.setPixelRatio(R,R.options.pixelRatio),a.isElement(R.element)&&R.element.appendChild(R.canvas),R},s.run=function(b){(function I(R){b.frameRequestId=d(I),y(b,R),s.world(b,R),(b.options.showStats||b.options.showDebug)&&s.stats(b,b.context,R),(b.options.showPerformance||b.options.showDebug)&&s.performance(b,b.context,R)})()},s.stop=function(b){g(b.frameRequestId)},s.setPixelRatio=function(b,I){var R=b.options,P=b.canvas;I==="auto"&&(I=T(P)),R.pixelRatio=I,P.setAttribute("data-pixel-ratio",I),P.width=R.width*I,P.height=R.height*I,P.style.width=R.width+"px",P.style.height=R.height+"px"},s.lookAt=function(b,I,R,P){P=typeof P<"u"?P:!0,I=a.isArray(I)?I:[I],R=R||{x:0,y:0};for(var k={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},M=0;M<I.length;M+=1){var B=I[M],F=B.bounds?B.bounds.min:B.min||B.position||B,N=B.bounds?B.bounds.max:B.max||B.position||B;F&&N&&(F.x<k.min.x&&(k.min.x=F.x),N.x>k.max.x&&(k.max.x=N.x),F.y<k.min.y&&(k.min.y=F.y),N.y>k.max.y&&(k.max.y=N.y))}var U=k.max.x-k.min.x+2*R.x,H=k.max.y-k.min.y+2*R.y,Q=b.canvas.height,W=b.canvas.width,O=W/Q,V=U/H,G=1,j=1;V>O?j=V/O:G=O/V,b.options.hasBounds=!0,b.bounds.min.x=k.min.x,b.bounds.max.x=k.min.x+U*G,b.bounds.min.y=k.min.y,b.bounds.max.y=k.min.y+H*j,P&&(b.bounds.min.x+=U*.5-U*G*.5,b.bounds.max.x+=U*.5-U*G*.5,b.bounds.min.y+=H*.5-H*j*.5,b.bounds.max.y+=H*.5-H*j*.5),b.bounds.min.x-=R.x,b.bounds.max.x-=R.x,b.bounds.min.y-=R.y,b.bounds.max.y-=R.y,b.mouse&&(p.setScale(b.mouse,{x:(b.bounds.max.x-b.bounds.min.x)/b.canvas.width,y:(b.bounds.max.y-b.bounds.min.y)/b.canvas.height}),p.setOffset(b.mouse,b.bounds.min))},s.startViewTransform=function(b){var I=b.bounds.max.x-b.bounds.min.x,R=b.bounds.max.y-b.bounds.min.y,P=I/b.options.width,k=R/b.options.height;b.context.setTransform(b.options.pixelRatio/P,0,0,b.options.pixelRatio/k,0,0),b.context.translate(-b.bounds.min.x,-b.bounds.min.y)},s.endViewTransform=function(b){b.context.setTransform(b.options.pixelRatio,0,0,b.options.pixelRatio,0,0)},s.world=function(b,I){var R=a.now(),P=b.engine,k=P.world,M=b.canvas,B=b.context,F=b.options,N=b.timing,U=u.allBodies(k),H=u.allConstraints(k),Q=F.wireframes?F.wireframeBackground:F.background,W=[],O=[],V,G={timestamp:P.timing.timestamp};if(f.trigger(b,"beforeRender",G),b.currentBackground!==Q&&C(b,Q),B.globalCompositeOperation="source-in",B.fillStyle="transparent",B.fillRect(0,0,M.width,M.height),B.globalCompositeOperation="source-over",F.hasBounds){for(V=0;V<U.length;V++){var j=U[V];h.overlaps(j.bounds,b.bounds)&&W.push(j)}for(V=0;V<H.length;V++){var Z=H[V],ge=Z.bodyA,ue=Z.bodyB,be=Z.pointA,xe=Z.pointB;ge&&(be=m.add(ge.position,Z.pointA)),ue&&(xe=m.add(ue.position,Z.pointB)),!(!be||!xe)&&(h.contains(b.bounds,be)||h.contains(b.bounds,xe))&&O.push(Z)}s.startViewTransform(b),b.mouse&&(p.setScale(b.mouse,{x:(b.bounds.max.x-b.bounds.min.x)/b.options.width,y:(b.bounds.max.y-b.bounds.min.y)/b.options.height}),p.setOffset(b.mouse,b.bounds.min))}else O=H,W=U,b.options.pixelRatio!==1&&b.context.setTransform(b.options.pixelRatio,0,0,b.options.pixelRatio,0,0);!F.wireframes||P.enableSleeping&&F.showSleeping?s.bodies(b,W,B):(F.showConvexHulls&&s.bodyConvexHulls(b,W,B),s.bodyWireframes(b,W,B)),F.showBounds&&s.bodyBounds(b,W,B),(F.showAxes||F.showAngleIndicator)&&s.bodyAxes(b,W,B),F.showPositions&&s.bodyPositions(b,W,B),F.showVelocity&&s.bodyVelocity(b,W,B),F.showIds&&s.bodyIds(b,W,B),F.showSeparations&&s.separations(b,P.pairs.list,B),F.showCollisions&&s.collisions(b,P.pairs.list,B),F.showVertexNumbers&&s.vertexNumbers(b,W,B),F.showMousePosition&&s.mousePosition(b,b.mouse,B),s.constraints(O,B),F.hasBounds&&s.endViewTransform(b),f.trigger(b,"afterRender",G),N.lastElapsed=a.now()-R},s.stats=function(b,I,R){for(var P=b.engine,k=P.world,M=u.allBodies(k),B=0,F=55,N=44,U=0,H=0,Q=0;Q<M.length;Q+=1)B+=M[Q].parts.length;var W={Part:B,Body:M.length,Cons:u.allConstraints(k).length,Comp:u.allComposites(k).length,Pair:P.pairs.list.length};I.fillStyle="#0e0f19",I.fillRect(U,H,F*5.5,N),I.font="12px Arial",I.textBaseline="top",I.textAlign="right";for(var O in W){var V=W[O];I.fillStyle="#aaa",I.fillText(O,U+F,H+8),I.fillStyle="#eee",I.fillText(V,U+F,H+26),U+=F}},s.performance=function(b,I){var R=b.engine,P=b.timing,k=P.deltaHistory,M=P.elapsedHistory,B=P.timestampElapsedHistory,F=P.engineDeltaHistory,N=P.engineElapsedHistory,U=R.timing.lastDelta,H=x(k),Q=x(M),W=x(F),O=x(N),V=x(B),G=V/H||0,j=1e3/H||0,Z=4,ge=12,ue=60,be=34,xe=10,Ce=69;I.fillStyle="#0e0f19",I.fillRect(0,50,ge*4+ue*5+22,be),s.status(I,xe,Ce,ue,Z,k.length,Math.round(j)+" fps",j/s._goodFps,function(Ue){return k[Ue]/H-1}),s.status(I,xe+ge+ue,Ce,ue,Z,F.length,U.toFixed(2)+" dt",s._goodDelta/U,function(Ue){return F[Ue]/W-1}),s.status(I,xe+(ge+ue)*2,Ce,ue,Z,N.length,O.toFixed(2)+" ut",1-O/s._goodFps,function(Ue){return N[Ue]/O-1}),s.status(I,xe+(ge+ue)*3,Ce,ue,Z,M.length,Q.toFixed(2)+" rt",1-Q/s._goodFps,function(Ue){return M[Ue]/Q-1}),s.status(I,xe+(ge+ue)*4,Ce,ue,Z,B.length,G.toFixed(2)+" x",G*G*G,function(Ue){return(B[Ue]/k[Ue]/G||0)-1})},s.status=function(b,I,R,P,k,M,B,F,N){b.strokeStyle="#888",b.fillStyle="#444",b.lineWidth=1,b.fillRect(I,R+7,P,1),b.beginPath(),b.moveTo(I,R+7-k*a.clamp(.4*N(0),-2,2));for(var U=0;U<P;U+=1)b.lineTo(I+U,R+7-(U<M?k*a.clamp(.4*N(U),-2,2):0));b.stroke(),b.fillStyle="hsl("+a.clamp(25+95*F,0,120)+",100%,60%)",b.fillRect(I,R-7,4,4),b.font="12px Arial",b.textBaseline="middle",b.textAlign="right",b.fillStyle="#eee",b.fillText(B,I+P,R-5)},s.constraints=function(b,I){for(var R=I,P=0;P<b.length;P++){var k=b[P];if(!(!k.render.visible||!k.pointA||!k.pointB)){var M=k.bodyA,B=k.bodyB,F,N;if(M?F=m.add(M.position,k.pointA):F=k.pointA,k.render.type==="pin")R.beginPath(),R.arc(F.x,F.y,3,0,2*Math.PI),R.closePath();else{if(B?N=m.add(B.position,k.pointB):N=k.pointB,R.beginPath(),R.moveTo(F.x,F.y),k.render.type==="spring")for(var U=m.sub(N,F),H=m.perp(m.normalise(U)),Q=Math.ceil(a.clamp(k.length/5,12,20)),W,O=1;O<Q;O+=1)W=O%2===0?1:-1,R.lineTo(F.x+U.x*(O/Q)+H.x*W*4,F.y+U.y*(O/Q)+H.y*W*4);R.lineTo(N.x,N.y)}k.render.lineWidth&&(R.lineWidth=k.render.lineWidth,R.strokeStyle=k.render.strokeStyle,R.stroke()),k.render.anchors&&(R.fillStyle=k.render.strokeStyle,R.beginPath(),R.arc(F.x,F.y,3,0,2*Math.PI),R.arc(N.x,N.y,3,0,2*Math.PI),R.closePath(),R.fill())}}},s.bodies=function(b,I,R){var P=R;b.engine;var k=b.options,M=k.showInternalEdges||!k.wireframes,B,F,N,U;for(N=0;N<I.length;N++)if(B=I[N],!!B.render.visible){for(U=B.parts.length>1?1:0;U<B.parts.length;U++)if(F=B.parts[U],!!F.render.visible){if(k.showSleeping&&B.isSleeping?P.globalAlpha=.5*F.render.opacity:F.render.opacity!==1&&(P.globalAlpha=F.render.opacity),F.render.sprite&&F.render.sprite.texture&&!k.wireframes){var H=F.render.sprite,Q=S(b,H.texture);P.translate(F.position.x,F.position.y),P.rotate(F.angle),P.drawImage(Q,Q.width*-H.xOffset*H.xScale,Q.height*-H.yOffset*H.yScale,Q.width*H.xScale,Q.height*H.yScale),P.rotate(-F.angle),P.translate(-F.position.x,-F.position.y)}else{if(F.circleRadius)P.beginPath(),P.arc(F.position.x,F.position.y,F.circleRadius,0,2*Math.PI);else{P.beginPath(),P.moveTo(F.vertices[0].x,F.vertices[0].y);for(var W=1;W<F.vertices.length;W++)!F.vertices[W-1].isInternal||M?P.lineTo(F.vertices[W].x,F.vertices[W].y):P.moveTo(F.vertices[W].x,F.vertices[W].y),F.vertices[W].isInternal&&!M&&P.moveTo(F.vertices[(W+1)%F.vertices.length].x,F.vertices[(W+1)%F.vertices.length].y);P.lineTo(F.vertices[0].x,F.vertices[0].y),P.closePath()}k.wireframes?(P.lineWidth=1,P.strokeStyle="#bbb",P.stroke()):(P.fillStyle=F.render.fillStyle,F.render.lineWidth&&(P.lineWidth=F.render.lineWidth,P.strokeStyle=F.render.strokeStyle,P.stroke()),P.fill())}P.globalAlpha=1}}},s.bodyWireframes=function(b,I,R){var P=R,k=b.options.showInternalEdges,M,B,F,N,U;for(P.beginPath(),F=0;F<I.length;F++)if(M=I[F],!!M.render.visible)for(U=M.parts.length>1?1:0;U<M.parts.length;U++){for(B=M.parts[U],P.moveTo(B.vertices[0].x,B.vertices[0].y),N=1;N<B.vertices.length;N++)!B.vertices[N-1].isInternal||k?P.lineTo(B.vertices[N].x,B.vertices[N].y):P.moveTo(B.vertices[N].x,B.vertices[N].y),B.vertices[N].isInternal&&!k&&P.moveTo(B.vertices[(N+1)%B.vertices.length].x,B.vertices[(N+1)%B.vertices.length].y);P.lineTo(B.vertices[0].x,B.vertices[0].y)}P.lineWidth=1,P.strokeStyle="#bbb",P.stroke()},s.bodyConvexHulls=function(b,I,R){var P=R,k,M,B;for(P.beginPath(),M=0;M<I.length;M++)if(k=I[M],!(!k.render.visible||k.parts.length===1)){for(P.moveTo(k.vertices[0].x,k.vertices[0].y),B=1;B<k.vertices.length;B++)P.lineTo(k.vertices[B].x,k.vertices[B].y);P.lineTo(k.vertices[0].x,k.vertices[0].y)}P.lineWidth=1,P.strokeStyle="rgba(255,255,255,0.2)",P.stroke()},s.vertexNumbers=function(b,I,R){var P=R,k,M,B;for(k=0;k<I.length;k++){var F=I[k].parts;for(B=F.length>1?1:0;B<F.length;B++){var N=F[B];for(M=0;M<N.vertices.length;M++)P.fillStyle="rgba(255,255,255,0.2)",P.fillText(k+"_"+M,N.position.x+(N.vertices[M].x-N.position.x)*.8,N.position.y+(N.vertices[M].y-N.position.y)*.8)}}},s.mousePosition=function(b,I,R){var P=R;P.fillStyle="rgba(255,255,255,0.8)",P.fillText(I.position.x+"  "+I.position.y,I.position.x+5,I.position.y-5)},s.bodyBounds=function(b,I,R){var P=R;b.engine;var k=b.options;P.beginPath();for(var M=0;M<I.length;M++){var B=I[M];if(B.render.visible)for(var F=I[M].parts,N=F.length>1?1:0;N<F.length;N++){var U=F[N];P.rect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}k.wireframes?P.strokeStyle="rgba(255,255,255,0.08)":P.strokeStyle="rgba(0,0,0,0.1)",P.lineWidth=1,P.stroke()},s.bodyAxes=function(b,I,R){var P=R;b.engine;var k=b.options,M,B,F,N;for(P.beginPath(),B=0;B<I.length;B++){var U=I[B],H=U.parts;if(U.render.visible)if(k.showAxes)for(F=H.length>1?1:0;F<H.length;F++)for(M=H[F],N=0;N<M.axes.length;N++){var Q=M.axes[N];P.moveTo(M.position.x,M.position.y),P.lineTo(M.position.x+Q.x*20,M.position.y+Q.y*20)}else for(F=H.length>1?1:0;F<H.length;F++)for(M=H[F],N=0;N<M.axes.length;N++)P.moveTo(M.position.x,M.position.y),P.lineTo((M.vertices[0].x+M.vertices[M.vertices.length-1].x)/2,(M.vertices[0].y+M.vertices[M.vertices.length-1].y)/2)}k.wireframes?(P.strokeStyle="indianred",P.lineWidth=1):(P.strokeStyle="rgba(255, 255, 255, 0.4)",P.globalCompositeOperation="overlay",P.lineWidth=2),P.stroke(),P.globalCompositeOperation="source-over"},s.bodyPositions=function(b,I,R){var P=R;b.engine;var k=b.options,M,B,F,N;for(P.beginPath(),F=0;F<I.length;F++)if(M=I[F],!!M.render.visible)for(N=0;N<M.parts.length;N++)B=M.parts[N],P.arc(B.position.x,B.position.y,3,0,2*Math.PI,!1),P.closePath();for(k.wireframes?P.fillStyle="indianred":P.fillStyle="rgba(0,0,0,0.5)",P.fill(),P.beginPath(),F=0;F<I.length;F++)M=I[F],M.render.visible&&(P.arc(M.positionPrev.x,M.positionPrev.y,2,0,2*Math.PI,!1),P.closePath());P.fillStyle="rgba(255,165,0,0.8)",P.fill()},s.bodyVelocity=function(b,I,R){var P=R;P.beginPath();for(var k=0;k<I.length;k++){var M=I[k];if(M.render.visible){var B=o.getVelocity(M);P.moveTo(M.position.x,M.position.y),P.lineTo(M.position.x+B.x,M.position.y+B.y)}}P.lineWidth=3,P.strokeStyle="cornflowerblue",P.stroke()},s.bodyIds=function(b,I,R){var P=R,k,M;for(k=0;k<I.length;k++)if(I[k].render.visible){var B=I[k].parts;for(M=B.length>1?1:0;M<B.length;M++){var F=B[M];P.font="12px Arial",P.fillStyle="rgba(255,255,255,0.5)",P.fillText(F.id,F.position.x+10,F.position.y-10)}}},s.collisions=function(b,I,R){var P=R,k=b.options,M,B,F,N;for(P.beginPath(),F=0;F<I.length;F++)if(M=I[F],!!M.isActive)for(B=M.collision,N=0;N<M.activeContacts.length;N++){var U=M.activeContacts[N],H=U.vertex;P.rect(H.x-1.5,H.y-1.5,3.5,3.5)}for(k.wireframes?P.fillStyle="rgba(255,255,255,0.7)":P.fillStyle="orange",P.fill(),P.beginPath(),F=0;F<I.length;F++)if(M=I[F],!!M.isActive&&(B=M.collision,M.activeContacts.length>0)){var Q=M.activeContacts[0].vertex.x,W=M.activeContacts[0].vertex.y;M.activeContacts.length===2&&(Q=(M.activeContacts[0].vertex.x+M.activeContacts[1].vertex.x)/2,W=(M.activeContacts[0].vertex.y+M.activeContacts[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic===!0?P.moveTo(Q-B.normal.x*8,W-B.normal.y*8):P.moveTo(Q+B.normal.x*8,W+B.normal.y*8),P.lineTo(Q,W)}k.wireframes?P.strokeStyle="rgba(255,165,0,0.7)":P.strokeStyle="orange",P.lineWidth=1,P.stroke()},s.separations=function(b,I,R){var P=R,k=b.options,M,B,F,N,U;for(P.beginPath(),U=0;U<I.length;U++)if(M=I[U],!!M.isActive){B=M.collision,F=B.bodyA,N=B.bodyB;var H=1;!N.isStatic&&!F.isStatic&&(H=.5),N.isStatic&&(H=0),P.moveTo(N.position.x,N.position.y),P.lineTo(N.position.x-B.penetration.x*H,N.position.y-B.penetration.y*H),H=1,!N.isStatic&&!F.isStatic&&(H=.5),F.isStatic&&(H=0),P.moveTo(F.position.x,F.position.y),P.lineTo(F.position.x+B.penetration.x*H,F.position.y+B.penetration.y*H)}k.wireframes?P.strokeStyle="rgba(255,165,0,0.5)":P.strokeStyle="orange",P.stroke()},s.inspector=function(b,I){b.engine;var R=b.selected,P=b.render,k=P.options,M;if(k.hasBounds){var B=P.bounds.max.x-P.bounds.min.x,F=P.bounds.max.y-P.bounds.min.y,N=B/P.options.width,U=F/P.options.height;I.scale(1/N,1/U),I.translate(-P.bounds.min.x,-P.bounds.min.y)}for(var H=0;H<R.length;H++){var Q=R[H].data;switch(I.translate(.5,.5),I.lineWidth=1,I.strokeStyle="rgba(255,165,0,0.9)",I.setLineDash([1,2]),Q.type){case"body":M=Q.bounds,I.beginPath(),I.rect(Math.floor(M.min.x-3),Math.floor(M.min.y-3),Math.floor(M.max.x-M.min.x+6),Math.floor(M.max.y-M.min.y+6)),I.closePath(),I.stroke();break;case"constraint":var W=Q.pointA;Q.bodyA&&(W=Q.pointB),I.beginPath(),I.arc(W.x,W.y,10,0,2*Math.PI),I.closePath(),I.stroke();break}I.setLineDash([]),I.translate(-.5,-.5)}b.selectStart!==null&&(I.translate(.5,.5),I.lineWidth=1,I.strokeStyle="rgba(255,165,0,0.6)",I.fillStyle="rgba(255,165,0,0.1)",M=b.selectBounds,I.beginPath(),I.rect(Math.floor(M.min.x),Math.floor(M.min.y),Math.floor(M.max.x-M.min.x),Math.floor(M.max.y-M.min.y)),I.closePath(),I.stroke(),I.fill(),I.translate(-.5,-.5)),k.hasBounds&&I.setTransform(1,0,0,1,0,0)};var y=function(b,I){var R=b.engine,P=b.timing,k=P.historySize,M=R.timing.timestamp;P.delta=I-P.lastTime||s._goodDelta,P.lastTime=I,P.timestampElapsed=M-P.lastTimestamp||0,P.lastTimestamp=M,P.deltaHistory.unshift(P.delta),P.deltaHistory.length=Math.min(P.deltaHistory.length,k),P.engineDeltaHistory.unshift(R.timing.lastDelta),P.engineDeltaHistory.length=Math.min(P.engineDeltaHistory.length,k),P.timestampElapsedHistory.unshift(P.timestampElapsed),P.timestampElapsedHistory.length=Math.min(P.timestampElapsedHistory.length,k),P.engineElapsedHistory.unshift(R.timing.lastElapsed),P.engineElapsedHistory.length=Math.min(P.engineElapsedHistory.length,k),P.elapsedHistory.unshift(P.lastElapsed),P.elapsedHistory.length=Math.min(P.elapsedHistory.length,k)},x=function(b){for(var I=0,R=0;R<b.length;R+=1)I+=b[R];return I/b.length||0},w=function(b,I){var R=document.createElement("canvas");return R.width=b,R.height=I,R.oncontextmenu=function(){return!1},R.onselectstart=function(){return!1},R},T=function(b){var I=b.getContext("2d"),R=window.devicePixelRatio||1,P=I.webkitBackingStorePixelRatio||I.mozBackingStorePixelRatio||I.msBackingStorePixelRatio||I.oBackingStorePixelRatio||I.backingStorePixelRatio||1;return R/P},S=function(b,I){var R=b.textures[I];return R||(R=b.textures[I]=new Image,R.src=I,R)},C=function(b,I){var R=I;/(jpg|gif|png)$/.test(I)&&(R="url("+I+")"),b.canvas.style.background=R,b.canvas.style.backgroundSize="contain",b.currentBackground=I}})()},function(r,n,i){var s={};r.exports=s;var o=i(5),a=i(17),u=i(0);(function(){var h,f;if(typeof window<"u"&&(h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!h){var m;h=function(p){m=setTimeout(function(){p(u.now())},1e3/60)},f=function(){clearTimeout(m)}}s.create=function(p){var d={fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},g=u.extend(d,p);return g.delta=g.delta||1e3/g.fps,g.deltaMin=g.deltaMin||1e3/g.fps,g.deltaMax=g.deltaMax||1e3/(g.fps*.5),g.fps=1e3/g.delta,g},s.run=function(p,d){return typeof p.positionIterations<"u"&&(d=p,p=s.create()),function g(y){p.frameRequestId=h(g),y&&p.enabled&&s.tick(p,d,y)}(),p},s.tick=function(p,d,g){var y=d.timing,x;p.isFixed?x=p.delta:(x=g-p.timePrev||p.delta,p.timePrev=g,p.deltaHistory.push(x),p.deltaHistory=p.deltaHistory.slice(-p.deltaSampleSize),x=Math.min.apply(null,p.deltaHistory),x=x<p.deltaMin?p.deltaMin:x,x=x>p.deltaMax?p.deltaMax:x,p.delta=x);var w={timestamp:y.timestamp};o.trigger(p,"beforeTick",w),p.frameCounter+=1,g-p.counterTimestamp>=1e3&&(p.fps=p.frameCounter*((g-p.counterTimestamp)/1e3),p.counterTimestamp=g,p.frameCounter=0),o.trigger(p,"tick",w),o.trigger(p,"beforeUpdate",w),a.update(d,x),o.trigger(p,"afterUpdate",w),o.trigger(p,"afterTick",w)},s.stop=function(p){f(p.frameRequestId)},s.start=function(p,d){s.run(p,d)}})()},function(r,n,i){var s={};r.exports=s;var o=i(8),a=i(0),u=a.deprecated;(function(){s.collides=function(h,f){return o.collides(h,f)},u(s,"collides","SAT.collides  replaced by Collision.collides")})()},function(r,n,i){var s={};r.exports=s,i(1);var o=i(0);(function(){s.pathToVertices=function(a,u){typeof window<"u"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,f,m,p,d,g,y,x,w,T,S=[],C,b,I=0,R=0,P=0;u=u||15;var k=function(B,F,N){var U=N%2===1&&N>1;if(!w||B!=w.x||F!=w.y){w&&U?(C=w.x,b=w.y):(C=0,b=0);var H={x:C+B,y:b+F};(U||!w)&&(w=H),S.push(H),R=C+B,P=b+F}},M=function(B){var F=B.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":R=B.x,P=B.y;break;case"H":R=B.x;break;case"V":P=B.y;break}k(R,P,B.pathSegType)}};for(s._svgPathToAbsolute(a),m=a.getTotalLength(),g=[],h=0;h<a.pathSegList.numberOfItems;h+=1)g.push(a.pathSegList.getItem(h));for(y=g.concat();I<m;){if(T=a.getPathSegAtLength(I),d=g[T],d!=x){for(;y.length&&y[0]!=d;)M(y.shift());x=d}switch(d.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=a.getPointAtLength(I),k(p.x,p.y,0);break}I+=u}for(h=0,f=y.length;h<f;++h)M(y[h]);return S},s._svgPathToAbsolute=function(a){for(var u,h,f,m,p,d,g=a.pathSegList,y=0,x=0,w=g.numberOfItems,T=0;T<w;++T){var S=g.getItem(T),C=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in S&&(y=S.x),"y"in S&&(x=S.y);else switch("x1"in S&&(f=y+S.x1),"x2"in S&&(p=y+S.x2),"y1"in S&&(m=x+S.y1),"y2"in S&&(d=x+S.y2),"x"in S&&(y+=S.x),"y"in S&&(x+=S.y),C){case"m":g.replaceItem(a.createSVGPathSegMovetoAbs(y,x),T);break;case"l":g.replaceItem(a.createSVGPathSegLinetoAbs(y,x),T);break;case"h":g.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(y),T);break;case"v":g.replaceItem(a.createSVGPathSegLinetoVerticalAbs(x),T);break;case"c":g.replaceItem(a.createSVGPathSegCurvetoCubicAbs(y,x,f,m,p,d),T);break;case"s":g.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(y,x,p,d),T);break;case"q":g.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(y,x,f,m),T);break;case"t":g.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(y,x),T);break;case"a":g.replaceItem(a.createSVGPathSegArcAbs(y,x,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),T);break;case"z":case"Z":y=u,x=h;break}(C=="M"||C=="m")&&(u=y,h=x)}}})()},function(r,n,i){var s={};r.exports=s;var o=i(6);i(0),function(){s.create=o.create,s.add=o.add,s.remove=o.remove,s.clear=o.clear,s.addComposite=o.addComposite,s.addBody=o.addBody,s.addConstraint=o.addConstraint}()}])})})(mC);var yt=mC.exports;const Hr=wu(yt),Sa={name:"matter-attractors-ts",version:"0.0.1",for:"matter-js@^0.19.0",install(t){t.after("Body.create",function(){Sa.Body.init(this)}),t.before("Engine.update",function(e){Sa.Engine.update(e)})},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update(t){const e=Hr.Composite.allBodies(t.world);for(let r=0;r<e.length;r+=1){const n=e[r],i=n.plugin.attractors;if(i&&i.length>0)for(let s=r+1;s<e.length;s+=1){const o=e[s];for(let a=0;a<i.length;a+=1){let u=i[a],h=u;Hr.Common.isFunction(u)&&(h=u(n,o)),h&&Hr.Body.applyForce(o,o.position,h)}}}}},Attractors:{gravityConstant:.001,gravity(t,e){var r=Hr.Vector.sub(e.position,t.position),n=Hr.Vector.magnitudeSquared(r)||1e-4,i=Hr.Vector.normalise(r),s=-Sa.Attractors.gravityConstant*(t.mass*e.mass/n),o=Hr.Vector.mult(i,s);Hr.Body.applyForce(t,t.position,Hr.Vector.neg(o)),Hr.Body.applyForce(e,e.position,o)}}};Hr.Plugin.register(Sa);const WN="0.0.0_dev_20052024_174710",Ml=100,dh=Ml/2,kl=128,fh=kl*2,gC=2,Vh=4,vC=8,Vw=Vh|vC,za=de.createContext({assets:{},mjsEngine:void 0,mjsPlayer:void 0,screenSize:{width:0,height:0},setAssets:()=>{},setMjsPlayer:()=>{}}),XN=({children:t,screenSize:e})=>{const[r,n]=de.useState(),[i,s]=de.useState(),[o,a]=de.useState();return de.useEffect(()=>{Hr.use(Sa);const u=yt.Engine.create();u.gravity.y=0,n(u)},[]),Be.useTick(u=>{r!==void 0&&yt.Engine.update(r,u*(1e3/60))}),we.jsx(za.Provider,{value:{assets:i,mjsEngine:r,mjsPlayer:o,screenSize:e,setAssets:s,setMjsPlayer:a},children:t})},Mu=()=>{const{mjsEngine:t}=de.useContext(za);return t},po=()=>{const{screenSize:{width:t,height:e}}=de.useContext(za);return{screenWidth:t,screenHeight:e}},yC=()=>{const{mjsPlayer:t,setMjsPlayer:e}=de.useContext(za);return{mjsPlayer:t,setMjsPlayer:e}},mo=()=>{const{assets:t}=de.useContext(za);return t},xC=de.createContext({currentState:"INIT",playerMode:"default",planetCounter:0,increasePlanetCounter:()=>{},setCurrentState:()=>{},resetPlanetCounter:()=>{},setPlayerMode:()=>{}}),YN=({children:t})=>{const[e,r]=de.useState("INIT"),[n,i]=de.useState("default"),[s,o]=de.useState(0),a=de.useCallback((u=1)=>{e==="GAME"&&o(h=>h+u)},[e]);return we.jsx(xC.Provider,{value:{currentState:e,planetCounter:s,playerMode:n,increasePlanetCounter:a,setCurrentState:r,resetPlanetCounter:()=>o(0),setPlayerMode:i},children:t})},ku=()=>de.useContext(xC),Dl=t=>t.label.split(".")[0],jw=t=>t.label.split(".")[1]||"",QN=()=>{const t=Mu(),{screenHeight:e,screenWidth:r}=po(),{playerMode:n}=ku(),{setMjsPlayer:i}=yC(),{misc:s}=mo(),o=de.useRef(null),a=de.useRef(),[u,h]=de.useState(!1),[f,m]=de.useState(!1),[p,d]=de.useState(!1),[g,y]=de.useState(!1);de.useEffect(()=>{if(!t)return;const w=C=>{C.key==="ArrowLeft"&&h(!0),C.key==="ArrowRight"&&m(!0),C.key==="ArrowUp"&&d(!0),C.key==="ArrowDown"&&y(!0)},T=C=>{C.key==="ArrowLeft"&&h(!1),C.key==="ArrowRight"&&m(!1),C.key==="ArrowUp"&&d(!1),C.key==="ArrowDown"&&y(!1)},S=yt.Bodies.circle(r/2,e-80,pC,{label:"PLAYER",plugin:{attractors:[(C,b)=>Dl(b)==="BONUS"?null:Sa.Attractors.gravity(C,b)]}});return S.collisionFilter.category=vC,S.mass=jN,a.current=S,yt.Composite.add(t.world,[S]),i&&i(S),window.addEventListener("keydown",w),window.addEventListener("keyup",T),()=>{window.removeEventListener("keydown",w),window.removeEventListener("keyup",T),i&&i(void 0),yt.Composite.remove(t.world,[S])}},[t]),Be.useTick(()=>{if(a.current&&o.current){u&&(a.current.force.x=-hh),f&&(a.current.force.x=hh),p&&(a.current.force.y=-hh),g&&(a.current.force.y=hh);const w=a.current.position;o.current.position={...w},o.current.rotation=a.current.angle}});const x=n==="destroyer";return{pixiRef:o,texture:x?s.playerDestroyer:s.playerDefault,glowTexture:x?s.playerDestroyerGlow:s.playerDefaultGlow}},KN=t=>{const{pixiRef:e,texture:r,glowTexture:n}=QN();return we.jsxs(Be.Container,{ref:e,scale:VN,...t,children:[we.jsx(Be.Sprite,{texture:r,x:0,y:0,anchor:.5}),we.jsx(Be.Sprite,{texture:n,x:0,y:0,anchor:.5})]})},ZN=()=>{const t=Mu(),{screenHeight:e,screenWidth:r}=po(),n=r/2,i=e/2,s=[yt.Bodies.rectangle(n,-dh-kl,r+fh,Ml,{isStatic:!0,label:"BOUND.TOP",collisionFilter:{category:gC}}),yt.Bodies.rectangle(n,e+dh+kl,r+fh,Ml,{isStatic:!0,label:"BOUND.BOTTOM",collisionFilter:{category:Vh}}),yt.Bodies.rectangle(-dh-kl,i,Ml,e+fh,{isStatic:!0,label:"BOUND.LEFT",collisionFilter:{category:Vh}}),yt.Bodies.rectangle(r+dh+kl,i,Ml,e+fh,{isStatic:!0,label:"BOUND.RIGHT",collisionFilter:{category:Vh}})];return de.useEffect(()=>{t&&yt.Composite.add(t.world,s)},[t]),null},qN=128,JN=qN/2,eB=5e3,tB=({id:t,scale:e,velocity:r,x:n,y:i,planetTexture:s,...o})=>{const a=de.useRef(null),u=de.useRef(null),h=de.useRef(),f=mo(),m=Mu(),{mjsPlayer:p}=yC(),d=`PLANET.${t}`;return de.useEffect(()=>{if(!m)return;const g=yt.Bodies.circle(n||0,i||0,JN*e,{label:d,collisionFilter:{group:-1}});return g.mass=eB*e,g.frictionAir=0,g.collisionFilter.mask=Vw,h.current=g,yt.Composite.add(m.world,[g]),yt.Body.setVelocity(g,r),()=>{g&&yt.Composite.remove(m.world,[g])}},[m]),Be.useTick(()=>{if(h.current){const g=h.current;if(g.bounds.min.y>0&&g.collisionFilter.mask===Vw&&(g.collisionFilter.mask=g.collisionFilter.mask|gC),a.current&&(a.current.position=g.position),p&&u.current){const{x:y,y:x}=g.position,w=Math.atan2(p.position.y-x,p.position.x-y);u.current.rotation=w}}}),we.jsxs(Be.Container,{ref:a,scale:e,...o,children:[we.jsx(Be.Sprite,{texture:f.planets[s],anchor:.5}),we.jsx(Be.Sprite,{texture:f.planets.shade,anchor:.5,ref:u})]})},rs=(t=0,e=1,r=!1)=>{const n=Math.random()*(e-t)+t;return r?Math.floor(n):n},rB=(t,e,r)=>{const n=de.useRef(null),i=de.useRef(),{bonus:s}=mo(),o=Mu();de.useEffect(()=>{if(!o)return;const u=yt.Bodies.circle(e,r,15,{label:`BONUS.${t}`});return u.frictionAir=.02,u.mass=1e-21,yt.Composite.add(o.world,[u]),i.current=u,yt.Body.setVelocity(u,{x:rs(-5,5),y:rs(6,10)}),()=>{yt.Composite.remove(o.world,[u])}},[o]),Be.useTick(()=>{i.current&&n.current&&(n.current.x=i.current.position.x,n.current.y=i.current.position.y)});const a=s.destroyer;return{pixiRef:n,texture:a}},nB=({id:t,x:e,y:r})=>{const{pixiRef:n,texture:i}=rB(t,e,r);return we.jsx(Be.Sprite,{scale:.5,anchor:.5,alpha:.66,texture:i,ref:n})};var ph,iB=new Uint8Array(16);function sB(){if(!ph&&(ph=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ph))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ph(iB)}const oB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function aB(t){return typeof t=="string"&&oB.test(t)}var Gt=[];for(var Vm=0;Vm<256;++Vm)Gt.push((Vm+256).toString(16).substr(1));function lB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Gt[t[e+0]]+Gt[t[e+1]]+Gt[t[e+2]]+Gt[t[e+3]]+"-"+Gt[t[e+4]]+Gt[t[e+5]]+"-"+Gt[t[e+6]]+Gt[t[e+7]]+"-"+Gt[t[e+8]]+Gt[t[e+9]]+"-"+Gt[t[e+10]]+Gt[t[e+11]]+Gt[t[e+12]]+Gt[t[e+13]]+Gt[t[e+14]]+Gt[t[e+15]]).toLowerCase();if(!aB(r))throw TypeError("Stringified UUID is invalid");return r}function _C(t,e,r){t=t||{};var n=t.random||(t.rng||sB)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return lB(n)}const wC=["Airless","Aquamarine","Arid","Barren","Cloudy","Cratered","Dry","Frozen","Glacial","Icy","Lunar","Lush","Magma","Muddy","Oasis","Ocean","Rocky","Snowy","Terrestrial","Tropical"],uB=()=>[...wC].sort(()=>.5-Math.random())[0],cB=()=>`${uB()}${rs(1,5,!0)}`,Ww=()=>({id:_C(),scale:rs(.33,1),planetTexture:cB(),velocity:{x:rs(-.75,.75),y:rs(1.5,2)},x:rs(0,800),y:-100}),mh=(t,e,r=()=>{})=>{const{currentState:n,playerMode:i}=ku(),s=Mu(),o=a=>{const{bodyA:u,bodyB:h}=a.pairs[0].collision,f=Dl(u),m=Dl(h),p=f===t;if((p||m===t)&&(f===e||m===e)){const y=p?u:h,x=p?h:u;r({body:y,type:Dl(y),id:jw(y)},{body:x,type:Dl(x),id:jw(x)})}};de.useEffect(()=>(s&&yt.Events.on(s,"collisionStart",o),()=>{s&&yt.Events.off(s,"collisionStart",o)}),[s,n,i])},hB=()=>({id:_C(),x:0,y:0}),dB=t=>{const[e,r]=de.useState([]),[n,i]=de.useState([]),[s,o]=de.useState(!0),{increasePlanetCounter:a,playerMode:u,resetPlanetCounter:h,setPlayerMode:f}=ku();mh("PLAYER","BOUND",g=>p(g.body.position)),mh("PLANET","BOUND",(g,y)=>{if(y.id==="TOP"){const x=hB();x.x=g.body.position.x,x.y=g.body.position.y,i(w=>[...w,x])}m(g.id)}),mh("PLAYER","PLANET",(g,y)=>{u==="destroyer"?m(y.id):p(g.body.position)}),mh("PLAYER","BONUS",(g,y)=>{f("destroyer"),setTimeout(()=>{f("default")},1e4),i(x=>[...x.filter(w=>w.id!==y.id)])}),de.useEffect(()=>{h();for(let g=0;g<3;g++)setTimeout(()=>r(y=>[...y,Ww()]),rs(1e3,4e3))},[]);const m=g=>{a(),d(g)},p=g=>{t(g),o(!1)},d=g=>r(y=>[...y.filter(x=>x.id!==g),Ww()]);return{activePlayer:s,bunuses:n,planets:e}},fB=({onGameOver:t=()=>{}})=>{const{activePlayer:e,bunuses:r,planets:n}=dB(t);return we.jsxs(Be.Container,{children:[we.jsx(ZN,{}),n.map(i=>we.jsx(tB,{...i},i.id)),e&&we.jsx(KN,{}),r.map(i=>we.jsx(nB,{...i},i.id))]})},SC=new Ke;rt.prototype._cacheAsBitmap=!1;rt.prototype._cacheData=null;rt.prototype._cacheAsBitmapResolution=null;rt.prototype._cacheAsBitmapMultisample=null;class pB{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(rt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new pB),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});rt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};rt.prototype._initCachedDisplayObject=function(t){var p,d;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Te,!0);if((d=this.filters)!=null&&d.length){const g=this.filters[0].padding;r.pad(g)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,u=fo.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),h=`cacheAsBitmap_${lo()}`;this._cacheData.textureCacheId=h,Ee.addToCache(u.baseTexture,h),se.addToCache(u,h);const f=this.transform.localTransform.copyTo(SC).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const m=new ti(u);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(r.x/r.width),m.anchor.y=-(r.y/r.height),m.alpha=e,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)};rt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};rt.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.getLocalBounds(new Te,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=fo.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${lo()}`;this._cacheData.textureCacheId=a,Ee.addToCache(o.baseTexture,a),se.addToCache(o,a);const u=SC;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const h=new ti(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(e.x/e.width),h.anchor.y=-(e.y/e.height),h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};rt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};rt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};rt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ee.removeFromCache(this._cacheData.textureCacheId),se.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};rt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};rt.prototype.name=null;ar.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};rt.prototype.getGlobalPosition=function(t=new Me,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var mB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class gB extends er{constructor(e=1){super(n3,mB,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const vB={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},yB=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function xB(t){const e=vB[t],r=e.length;let n=yB,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const _B=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function wB(t,e){const r=Math.ceil(t/2);let n=_B,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class B0 extends er{constructor(e,r=8,n=4,i=er.defaultResolution,s=5){const o=wB(s,e),a=xB(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,u=s;this.state.blend=!1,e.applyFilter(this,a,u,zn.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(a,zn.BLIT),this.uniforms.uSampler=u;const f=u;u=a,a=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class EC extends er{constructor(e=8,r=4,n=er.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new B0(!0,e,r,n,i),this.blurYFilter=new B0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,zn.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var SB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class O0 extends er{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Ab,SB,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=We.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,h=o*(1-n)-a*i,f=o*(1-n)+a*i,m=o*(1-n)+a*i,p=n+o*(1-n),d=o*(1-n)-a*i,g=o*(1-n)-a*i,y=o*(1-n)+a*i,x=n+o*(1-n),w=[u,h,f,0,0,m,p,d,0,0,g,y,x,0,0,0,0,0,1,0];this._loadMatrix(w,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=We.shared,[a,u,h]=o.setValue(n).toArray(),[f,m,p]=o.setValue(i).toArray(),d=[.3,.59,.11,0,0,a,u,h,e,0,f,m,p,r,0,a-f,u-m,h-p,0,0];this._loadMatrix(d,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}O0.prototype.grayscale=O0.prototype.greyscale;var EB=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,TB=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class bB extends er{constructor(e,r){const n=new Ke;e.renderable=!1,super(TB,EB,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Me(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var CB=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,AB=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class PB extends er{constructor(){super(AB,CB)}}var IB=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class RB extends er{constructor(e=.5,r=Math.random()){super(Ab,IB,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Xw={AlphaFilter:gB,BlurFilter:EC,BlurFilterPass:B0,ColorMatrixFilter:O0,DisplacementFilter:bB,FXAAFilter:PB,NoiseFilter:RB};Object.entries(Xw).forEach(([t,e])=>{Object.defineProperty(Xw,t,{get(){return Re("7.1.0",`filters.${t} has moved to ${t}`),e}})});class MB{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Nt.system.add(this.tickerUpdate,this,ms.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Nt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Ki=new MB;class Du{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Du.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Me,this.page=new Me,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Bd extends Du{constructor(){super(...arguments),this.client=new Me,this.movement=new Me,this.offset=new Me,this.global=new Me,this.screen=new Me}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,u,h,f,m,p,d,g,y){throw new Error("Method not implemented.")}}class ln extends Bd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ea extends Bd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ea.DOM_DELTA_PIXEL=0,Ea.DOM_DELTA_LINE=1,Ea.DOM_DELTA_PAGE=2;const kB=2048,DB=new Me,jm=new Me;class FB{constructor(e){this.dispatch=new Au,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Ki.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,DB.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<kB&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ki.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let m=f.length-1;m>=0;m--){const p=f[m],d=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s,o||s(e,n));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const g=e.isInteractive();(d.length>0||g)&&(g&&this._allInteractiveElements.push(e),d.push(e)),this._hitElements.length===0&&(this._hitElements=d),a=!0}}}const u=this._isInteractive(r),h=e.isInteractive();return u&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ki.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let h=u.length-1;h>=0;h--){const f=u[h],m=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(m){if(m.length>0&&!m[m.length-1].parent)continue;const p=e.isInteractive();return(m.length>0||p)&&m.push(e),m}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,jm),!e.hitArea.contains(jm.x,jm.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var u,h;if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",m=this.createPointerEvent(e,f,s);if(this.dispatchEvent(m,"pointerout"),n&&this.dispatchEvent(m,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(m)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",m=this.clonePointerEvent(r,f);this.dispatchEvent(m,"pointerover"),n&&this.dispatchEvent(m,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const d=this.clonePointerEvent(r,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==s&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),n&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(m)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[e.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const h=a.button===2;this.dispatchEvent(a,h?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Ea)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(ln);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Ea);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(ln);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof ln&&r instanceof ln&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Bd&&r instanceof Bd&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const NB=1,BB={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},L0=class U0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new FB(null),Ki.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ln(null),this.rootWheelEvent=new Ea(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...U0.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,U0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Ki.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Ki.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Ki.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Ki.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=NB),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=BB[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};L0.extension={name:"events",type:[oe.RendererSystem,oe.CanvasRendererSystem]},L0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let G0=L0;me.add(G0);function Yw(t){return t==="dynamic"||t==="static"}const OB={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??Yw(G0.defaultEventMode)},set interactive(t){Re("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??G0.defaultEventMode},set eventMode(t){this._internalInteractive=Yw(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,u=this;i&&i.addEventListener("abort",()=>{u.off(t,a,o)}),s?u.once(t,a,o):u.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Du))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};rt.mixin(OB);const LB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};rt.mixin(LB);const UB=9,gh=100,GB=0,zB=0,Qw=2,Kw=1,HB=-1e3,$B=-1e3,VB=2;class TC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(mi.tablet||mi.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${gh}px`,r.style.height=`${gh}px`,r.style.position="absolute",r.style.top=`${GB}px`,r.style.left=`${zB}px`,r.style.zIndex=Qw.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Kw}px`,e.style.height=`${Kw}px`,e.style.position="absolute",e.style.top=`${HB}px`,e.style.left=`${$B}px`,e.style.zIndex=VB.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(mi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,h=i/o*u,f=s/a*u;let m=this.div;m.style.left=`${r}px`,m.style.top=`${n}px`,m.style.width=`${o}px`,m.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const d=this.children[p];if(d.renderId!==this.renderId)d._accessibleActive=!1,ya(this.children,p,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,p--;else{m=d._accessibleDiv;let g=d.hitArea;const y=d.worldTransform;d.hitArea?(m.style.left=`${(y.tx+g.x*y.a)*h}px`,m.style.top=`${(y.ty+g.y*y.d)*f}px`,m.style.width=`${g.width*y.a*h}px`,m.style.height=`${g.height*y.d*f}px`):(g=d.getBounds(),this.capHitArea(g),m.style.left=`${g.x*h}px`,m.style.top=`${g.y*f}px`,m.style.width=`${g.width*h}px`,m.style.height=`${g.height*f}px`,m.title!==d.accessibleTitle&&d.accessibleTitle!==null&&(m.title=d.accessibleTitle),m.getAttribute("aria-label")!==d.accessibleHint&&d.accessibleHint!==null&&m.setAttribute("aria-label",d.accessibleHint)),(d.accessibleTitle!==m.title||d.tabIndex!==m.tabIndex)&&(m.title=d.accessibleTitle,m.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${gh}px`,r.style.height=`${gh}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Qw.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Du(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===UB&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}TC.extension={name:"accessibility",type:[oe.RendererPlugin,oe.CanvasRendererPlugin]};me.add(TC);var zt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(zt||{});const Od={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Ln,jo;function Zw(){jo={bptc:Ln.getExtension("EXT_texture_compression_bptc"),astc:Ln.getExtension("WEBGL_compressed_texture_astc"),etc:Ln.getExtension("WEBGL_compressed_texture_etc"),s3tc:Ln.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ln.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Ln.getExtension("WEBGL_compressed_texture_pvrtc")||Ln.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Ln.getExtension("WEBGL_compressed_texture_etc1"),atc:Ln.getExtension("WEBGL_compressed_texture_atc")}}const jB={extension:{type:oe.DetectionParser,priority:2},test:async()=>{const t=le.ADAPTER.createCanvas().getContext("webgl");return t?(Ln=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{jo||Zw();const e=[];for(const r in jo)jo[r]&&e.push(r);return[...e,...t]},remove:async t=>(jo||Zw(),t.filter(e=>!(e in jo)))};me.add(jB);class WB extends nf{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new s0(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new s0(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class to extends WB{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=to._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||to._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:u,levelHeight:h,levelBuffer:f}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,u,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=to._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,s,o,a){const u=new Array(n);let h=e.byteOffset,f=o,m=a,p=f+i-1&~(i-1),d=m+s-1&~(s-1),g=p*d*Od[r];for(let y=0;y<n;y++)u[y]={levelID:y,levelWidth:n>1?f:p,levelHeight:n>1?m:d,levelBuffer:new Uint8Array(e.buffer,h,g)},h+=g,f=f>>1||1,m=m>>1||1,p=f+i-1&~(i-1),d=m+s-1&~(s-1),g=p*d*Od[r];return u}}const Wm=4,vh=124,XB=32,qw=20,YB=542327876,yh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},QB={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},xh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},KB=1,ZB=2,qB=4,JB=64,eO=512,tO=131072,rO=827611204,nO=861165636,iO=894720068,sO=808540228,oO=4,aO={[rO]:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[nO]:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[iO]:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT},lO={70:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:zt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:zt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:zt.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:zt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function uO(t){const e=new Uint32Array(t);if(e[0]!==YB)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,vh/Uint32Array.BYTES_PER_ELEMENT),n=r[yh.HEIGHT],i=r[yh.WIDTH],s=r[yh.MIPMAP_COUNT],o=new Uint32Array(t,yh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,XB/Uint32Array.BYTES_PER_ELEMENT),a=o[KB];if(a&qB){const u=o[QB.FOURCC];if(u!==sO){const T=aO[u],S=Wm+vh,C=new Uint8Array(t,S);return[new to(C,{format:T,width:i,height:n,levels:s})]}const h=Wm+vh,f=new Uint32Array(e.buffer,h,qw/Uint32Array.BYTES_PER_ELEMENT),m=f[xh.DXGI_FORMAT],p=f[xh.RESOURCE_DIMENSION],d=f[xh.MISC_FLAG],g=f[xh.ARRAY_SIZE],y=lO[m];if(y===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${m}`);if(d===oO)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const x=new Array,w=Wm+vh+qw;if(g===1)x.push(new Uint8Array(t,w));else{const T=Od[y];let S=0,C=i,b=n;for(let R=0;R<s;R++){const P=Math.max(1,C+3&-4),k=Math.max(1,b+3&-4),M=P*k*T;S+=M,C=C>>>1,b=b>>>1}let I=w;for(let R=0;R<g;R++)x.push(new Uint8Array(t,I,S)),I+=S}return x.map(T=>new to(T,{format:y,width:i,height:n,levels:s}))}throw a&JB?new Error("DDSParser does not support uncompressed texture data."):a&eO?new Error("DDSParser does not supported YUV uncompressed texture data."):a&tO?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&ZB?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Jw=[171,75,84,88,32,49,49,187,13,10,26,10],cO=67305985,on={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},z0=64,eS={[_e.UNSIGNED_BYTE]:1,[_e.UNSIGNED_SHORT]:2,[_e.INT]:4,[_e.UNSIGNED_INT]:4,[_e.FLOAT]:4,[_e.HALF_FLOAT]:8},hO={[ne.RGBA]:4,[ne.RGB]:3,[ne.RG]:2,[ne.RED]:1,[ne.LUMINANCE]:1,[ne.LUMINANCE_ALPHA]:2,[ne.ALPHA]:1},dO={[_e.UNSIGNED_SHORT_4_4_4_4]:2,[_e.UNSIGNED_SHORT_5_5_5_1]:2,[_e.UNSIGNED_SHORT_5_6_5]:2};function fO(t,e,r=!1){const n=new DataView(e);if(!pO(t,n))return null;const i=n.getUint32(on.ENDIANNESS,!0)===cO,s=n.getUint32(on.GL_TYPE,i),o=n.getUint32(on.GL_FORMAT,i),a=n.getUint32(on.GL_INTERNAL_FORMAT,i),u=n.getUint32(on.PIXEL_WIDTH,i),h=n.getUint32(on.PIXEL_HEIGHT,i)||1,f=n.getUint32(on.PIXEL_DEPTH,i)||1,m=n.getUint32(on.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(on.NUMBER_OF_FACES,i),d=n.getUint32(on.NUMBER_OF_MIPMAP_LEVELS,i),g=n.getUint32(on.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||f!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(m!==1)throw new Error("WebGL does not support array textures");const y=4,x=4,w=u+3&-4,T=h+3&-4,S=new Array(m);let C=u*h;s===0&&(C=w*T);let b;if(s!==0?eS[s]?b=eS[s]*hO[o]:b=dO[s]:b=Od[a],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const I=r?gO(n,g,i):null;let R=C*b,P=u,k=h,M=w,B=T,F=z0+g;for(let N=0;N<d;N++){const U=n.getUint32(F,i);let H=F+4;for(let Q=0;Q<m;Q++){let W=S[Q];W||(W=S[Q]=new Array(d)),W[N]={levelID:N,levelWidth:d>1||s!==0?P:M,levelHeight:d>1||s!==0?k:B,levelBuffer:new Uint8Array(e,H,R)},H+=R}F+=U+4,F=F%4!==0?F+4-F%4:F,P=P>>1||1,k=k>>1||1,M=P+y-1&~(y-1),B=k+x-1&~(x-1),R=M*B*b}return s!==0?{uncompressed:S.map(N=>{let U=N[0].levelBuffer,H=!1;return s===_e.FLOAT?U=new Float32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4):s===_e.UNSIGNED_INT?(H=!0,U=new Uint32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4)):s===_e.INT&&(H=!0,U=new Int32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4)),{resource:new nf(U,{width:N[0].levelWidth,height:N[0].levelHeight}),type:s,format:H?mO(o):o}}),kvData:I}:{compressed:S.map(N=>new to(null,{format:a,width:u,height:h,levels:d,levelBuffers:N})),kvData:I}}function pO(t,e){for(let r=0;r<Jw.length;r++)if(e.getUint8(r)!==Jw[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function mO(t){switch(t){case ne.RGBA:return ne.RGBA_INTEGER;case ne.RGB:return ne.RGB_INTEGER;case ne.RG:return ne.RG_INTEGER;case ne.RED:return ne.RED_INTEGER;default:return t}}function gO(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(z0+i,r),o=z0+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),f=new DataView(t.buffer,o+u+1,s-u-1);n.set(h,f),i+=4+s+a}return n}const vO={extension:{type:oe.LoadParser,priority:_n.High},name:"loadDDS",test(t){return _s(t,".dds")},async load(t,e,r){const n=await(await le.ADAPTER.fetch(t)).arrayBuffer(),i=uO(n).map(s=>{const o=new Ee(s,{mipmap:Zn.OFF,alphaMode:gr.NO_PREMULTIPLIED_ALPHA,resolution:Ti(t),...e.data});return Ru(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};me.add(vO);const yO={extension:{type:oe.LoadParser,priority:_n.High},name:"loadKTX",test(t){return _s(t,".ktx")},async load(t,e,r){const n=await(await le.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=fO(t,n),a=i??s,u={mipmap:Zn.OFF,alphaMode:gr.NO_PREMULTIPLIED_ALPHA,resolution:Ti(t),...e.data},h=a.map(f=>{a===s&&Object.assign(u,{type:f.type,format:f.format});const m=f.resource??f,p=new Ee(m,u);return p.ktxKeyValueData=o,Ru(p,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};me.add(yO);const xO=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],_O={extension:oe.ResolveParser,test:t=>{const e=Ot.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,i;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(xO.includes(s))return{resolution:parseFloat(((n=le.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((i=le.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:r,src:t}}};me.add(_O);const _h=new Te,wO=4,bC=class Fl{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(u=>{if(!u){a(new Error("ICanvas.toBlob failed!"));return}const h=new FileReader;h.onload=()=>o(h.result),h.onerror=a,h.readAsDataURL(u)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,u)=>{const h=new FileReader;h.onload=()=>a(h.result),h.onerror=u,h.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&Fl._flipY(n,i,s),a&&Fl._unpremultiplyAlpha(n);const u=new Ok(i,s,1),h=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return u.context.putImageData(h,0,0),u.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&Fl._flipY(n,i,s),a&&Fl._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,u=!1;e&&(e instanceof fo?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),u=!0,r&&(_h.width=r.width,_h.height=r.height,r=_h)));const h=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===ne.RGBA,!u){n.renderTexture.bind(a);const d=a.framebuffer.glFramebuffers[n.CONTEXT_UID];d.blitFramebuffer&&n.framebuffer.bind(d.blitFramebuffer)}}else i=n.resolution,r||(r=_h,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const f=Math.max(Math.round(r.width*i),1),m=Math.max(Math.round(r.height*i),1),p=new Uint8Array(wO*f*m);return h.readPixels(Math.round(r.x*i),Math.round(r.y*i),f,m,h.RGBA,h.UNSIGNED_BYTE,p),u&&(a==null||a.destroy(!0)),{pixels:p,width:f,height:m,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const u=a*i,h=(n-a-1)*i;o.set(e.subarray(u,u+i)),e.copyWithin(u,h,h+i),e.set(o,h)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};bC.extension={name:"extract",type:oe.RendererSystem};let SO=bC;me.add(SO);class EO{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function TO(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof se){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function bO(t,e){if(t.baseTexture instanceof Ee){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function CO(t,e){if(t._texture&&t._texture instanceof se){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function AO(t,e){return e instanceof Zv?(e.updateText(!0),!0):!1}function PO(t,e){if(e instanceof _r){const r=e.toFontString();return Xi.measureFont(r),!0}return!1}function IO(t,e){if(t instanceof Zv){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function RO(t,e){return t instanceof _r?(e.includes(t)||e.push(t),!0):!1}const CC=class AC{constructor(e){this.limiter=new EO(AC.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(IO),this.registerFindHook(RO),this.registerFindHook(TO),this.registerFindHook(bO),this.registerFindHook(CO),this.registerUploadHook(AO),this.registerUploadHook(PO)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Nt.system.addOnce(this.tick,this,ms.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Nt.system.addOnce(this.tick,this,ms.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof ar)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Nt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};CC.uploadsPerFrame=4;let H0=CC;Object.defineProperties(le,{UPLOADS_PER_FRAME:{get(){return H0.uploadsPerFrame},set(t){Re("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),H0.uploadsPerFrame=t}}});function PC(t,e){return e instanceof Ee?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function MO(t,e){if(!(e instanceof Ql))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&PC(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function kO(t,e){return t instanceof Ql?(e.push(t),!0):!1}class IC extends H0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(kO),this.registerUploadHook(PC),this.registerUploadHook(MO)}}IC.extension={name:"prepare",type:oe.RendererSystem};me.add(IC);const RC=class Nl{constructor(e,r,n){this.linkedSheets=[],(e instanceof Ee||e instanceof se)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof se?i:null,this.baseTexture=i instanceof Ee?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const u=this.baseTexture.resource;this.resolution=this._updateResolution(o||(u?u.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=Ti(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Nl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Nl.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,u=null;const h=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,f=new Te(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s.rotated?a=new Te(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Te(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new Te(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new se(this.baseTexture,a,f,u,s.rotated?2:0,s.anchor,s.borders),se.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Nl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Nl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};RC.BATCH_SIZE=1e3;let tS=RC;const DO=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function MC(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=Ot.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,MC([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const FO={extension:oe.Asset,cache:{test:t=>t instanceof tS,getCacheableAssets:(t,e)=>MC(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&DO.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=le.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:oe.LoadParser,priority:_n.Normal},async testParse(t,e){return Ot.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,m;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Ot.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(n&&n.baseTexture)a=n;else{const p=b0(o+(i??t.meta.image),e.src);a=(await r.load([p]))[p]}const u=new tS({texture:a.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await u.parse();const h=(f=t==null?void 0:t.meta)==null?void 0:f.related_multi_packs;if(Array.isArray(h)){const p=[];for(const g of h){if(typeof g!="string")continue;let y=o+g;(m=e.data)!=null&&m.ignoreMultiPack||(y=b0(y,e.src),p.push(r.load({src:y,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(p);u.linkedSheets=d,d.forEach(g=>{g.linkedSheets=[u].concat(u.linkedSheets.filter(y=>y!==g))})}return u},unload(t){t.destroy(!0)}}};me.add(FO);const $0=class Wo extends _r{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Wo(Object.keys(Wo.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Wo.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Wo;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return le.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),u=new FileReader;u.onload=()=>s([a,u.result]),u.onerror=o,u.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Ot.basename(e,Ot.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Dk(e)),typeof e=="number"?kk(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Wo.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=le.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};$0.availableFonts={},$0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Xm=$0;const wh=class Xo extends ti{constructor(e="",r={}){super(se.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=se.from(n,{scaleMode:le.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Te,i.trim=new Te,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),u=document.createElementNS(s,"foreignObject"),h=document.createElementNS(o,"div"),f=document.createElementNS(o,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",a.appendChild(u),this.maxWidth=Xo.defaultMaxWidth,this.maxHeight=Xo.defaultMaxHeight,this._domElement=h,this._styleElement=f,this._svgRoot=a,this._foreignObject=u,this._foreignObject.appendChild(f),this._foreignObject.appendChild(h),this._image=n,this._loadImage=new Image,this._autoResolution=Xo.defaultAutoResolution,this._resolution=Xo.defaultResolution??le.RESOLUTION,this.text=e,this.style=r}measureText(e){var f,m;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const u=Math.min(this.maxWidth,Math.ceil(o)),h=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",h.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(f=this._style)==null?void 0:f.toCSS(i)}),this._styleElement.textContent=(m=this._style)==null?void 0:m.toGlobalCSS()),{width:u+n.padding*2,height:h+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(u=>{i.onload=async()=>{if(a<this._updateID){u();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),u()};const h=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(h)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Xo.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=es(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=es(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Xm?(this.ownsStyle=!1,this._style=e):e instanceof _r?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Xm.from(e)):(this.ownsStyle=!0,this._style=new Xm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};wh.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},wh.defaultMaxWidth=2024,wh.defaultMaxHeight=2024,wh.defaultAutoResolution=!0;const NO=({title:t,isInitialized:e,onAnimationEnd:r=()=>{}})=>{const[n,i]=de.useState(0),[s,o]=de.useState(!1),a=de.useRef(null),{screenHeight:u,screenWidth:h}=po(),f=de.useRef(new _r({fill:"#ddd",align:"center",fontWeight:"100",fontSize:44,letterSpacing:115,dropShadow:!0,dropShadowDistance:1,dropShadowBlur:2}));return de.useEffect(()=>{a.current&&(a.current.filters=[new EC(20)]),e&&o(!0)},[a]),Be.useTick(()=>{var m;a.current&&(s?(f.current.letterSpacing=15,i(1),a.current.filters[0].blur=0):n<1?((m=a.current.filters)!=null&&m.length&&(a.current.filters[0].blur-=.1),f.current.letterSpacing-=.5,i(p=>p+.005)):(o(!0),r()))}),we.jsx(Be.Text,{text:t,style:f.current,x:h/2,y:u/2,alpha:n,anchor:.5,ref:a,scale:[1.1,.5]})},BO=(t,e=!0)=>{const r=`${t}`,[n,i]=de.useState(()=>(e?localStorage:sessionStorage).getItem(r));return de.useEffect(()=>{const s=()=>i(void 0);return!e&&window.addEventListener("beforeunload",s),()=>{!e&&window.removeEventListener("beforeunload",s)}},[]),de.useEffect(()=>{(e?localStorage:sessionStorage).setItem(r,n)},[t,n]),{value:n,setValue:i}},OO=({onStartClick:t=()=>{}})=>{const{setValue:e,value:r}=BO("SKIP_INIT_ANIMATION"),{screenHeight:n,screenWidth:i}=po(),s=mo();return we.jsxs(we.Fragment,{children:[we.jsx(NO,{title:" BODY PROBLEM",isInitialized:r,onAnimationEnd:()=>e(!0)}),r&&we.jsx(Be.Sprite,{texture:s.ui.startBtn,scale:.5,anchor:.5,x:i/2,click:()=>t(),y:n-70,eventMode:"static",alpha:.8})]})},LO=({onBack:t=()=>{}})=>we.jsxs(we.Fragment,{children:[we.jsx(Be.Text,{text:"Game over",style:new _r({fill:16746632,fontSize:30}),x:400,y:240,anchor:.5}),we.jsx(Be.Text,{text:"BACK",style:new _r({fill:"#aaa",fontSize:30}),eventMode:"static",click:()=>t(),x:400,y:300,anchor:.5})]}),rS=1024,UO=()=>{const[t,e]=de.useState(0),r=mo();return Be.useTick(n=>{e(i=>(i+n*1)%rS)}),we.jsxs(we.Fragment,{children:[we.jsx(Be.Sprite,{texture:r.misc.background,x:0,y:t-rS}),we.jsx(Be.Sprite,{texture:r.misc.background,x:0,y:t})]})};var GO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,zO=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`;const kC=class extends er{constructor(t=[0,0],e,r=0){super(GO,zO),this.center=t,Object.assign(this,kC.defaults,e),this.time=r}apply(t,e,r,n){this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}get center(){return this.uniforms.center}set center(t){this.uniforms.center=t}get amplitude(){return this.uniforms.amplitude}set amplitude(t){this.uniforms.amplitude=t}get wavelength(){return this.uniforms.wavelength}set wavelength(t){this.uniforms.wavelength=t}get brightness(){return this.uniforms.brightness}set brightness(t){this.uniforms.brightness=t}get speed(){return this.uniforms.speed}set speed(t){this.uniforms.speed=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}};let DC=kC;DC.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1};const HO=(t={amplitude:40,brightness:4,radius:800,speed:500,wavelength:80})=>{const[e,r]=de.useState(!1),[n,i]=de.useState(null);de.useEffect(()=>{const o=new DC([0,0],t);o.enabled=!1,i(o)},[]);const s=(o=[0,0])=>{n&&(n.center=o,n.enabled=!0,n.time=0),r(()=>!0)};return Be.useTick(()=>{e&&n&&(n.time>3?(n.enabled=!1,r(()=>!1)):n.time=n.time+=.01)}),{shockWaveFilter:n,runShockWave:s}},$O=()=>{const{screenHeight:t,screenWidth:e}=po(),r=new _r({fill:16777215,fontSize:11});return we.jsx(Be.Text,{text:`ver. ${WN}`,x:e-5,y:t-5,anchor:[1,1],style:r})},VO=()=>de.useContext(za),jO=new _r({fill:16777215,fontSize:16}),WO=({onLoaded:t=()=>{}})=>{const{setAssets:e}=VO(),{screenHeight:r,screenWidth:n}=po(),[i,s]=de.useState(0),o=de.useRef(null),a=de.useCallback(u=>{u.clear(),u.beginFill(16737792,.2),u.drawRect(-152,-2,304,12),u.endFill(),u.beginFill(16711680,.6),u.drawRect(-150,0,300*i,8),u.endFill()},[i]);return de.useEffect(()=>{const u=wC.reduce((g,y)=>{for(let x=1;x<=5;x++)g[`${y}${x}`]=`assets/planets/${y}/${y}_0${x}-128x128.png`;return g},{});u.shade="assets/planet-shade.png";const h={playerDefault:"assets/player-default.png",playerDefaultGlow:"assets/player-default-glow.png",playerDestroyer:"assets/player-destroyer.png",playerDestroyerGlow:"assets/player-destroyer-glow.png",background:"assets/bg.png"},f={destroyer:"assets/bonus-destroyer.png"},m={planet:"assets/icons/planet.png"},p={startBtn:"assets/start-btn.png",statusBar:"assets/status-bar.png"};(async()=>{$n.addBundle("planets",u),$n.addBundle("bonus",f),$n.addBundle("misc",h),$n.addBundle("icons",m),$n.addBundle("ui",p);const g=await $n.loadBundle(["planets","bonus","icons","misc","ui"],y=>s(y));e(g),t()})()},[]),we.jsxs(we.Fragment,{children:[we.jsx(Be.Text,{text:"Loading...",style:jO,x:n/2,y:r/2,anchor:.5}),we.jsx(Be.Graphics,{ref:o,draw:a,x:n/2,y:r/2+20})]})},XO=new _r({fill:16777215,fontSize:16}),YO=t=>{const e=mo(),{planetCounter:r}=ku();return we.jsxs(Be.Container,{...t,children:[we.jsx(Be.Sprite,{texture:e.icons.planet,scale:.16,anchor:.5,x:0,y:0}),we.jsx(Be.Text,{text:r.toString(),x:50,y:-9,anchor:[.5,0],style:XO})]})},QO=()=>{const t=mo(),{screenWidth:e}=po();return we.jsxs(Be.Container,{children:[we.jsx(Be.Sprite,{texture:t.ui.statusBar,scale:.4,anchor:[.5,1],x:e/2,y:0,rotation:Math.PI,alpha:.66}),we.jsx(YO,{x:e/2+100,y:16})]})},KO=()=>we.jsx(Be.Container,{children:we.jsx(QO,{})}),ZO={amplitude:150,brightness:8,radius:8e3,speed:9e3,wavelength:14e3},qO=()=>{const t=de.useRef(null),{currentState:e,setCurrentState:r}=ku(),{shockWaveFilter:n,runShockWave:i}=HO(ZO);de.useEffect(()=>{t.current&&n&&(t.current.filters=[n])},[t.current,n]);const s=h=>{i([h.x,h.y]),r("GAME_OVER")},o=e==="HOME",a=e==="GAME_OVER",u=e==="GAME"||a;return e==="INIT"?we.jsx(WO,{onLoaded:()=>r("HOME")}):we.jsxs(Be.Container,{children:[we.jsxs(Be.Container,{ref:t,children:[we.jsx(UO,{}),u&&we.jsx(fB,{onGameOver:s})]}),u&&we.jsx(KO,{}),o&&we.jsx(OO,{onStartClick:()=>r("GAME")}),a&&we.jsx(LO,{onBack:()=>r("HOME")}),we.jsx($O,{})]})},JO=({children:t,screenSize:e})=>we.jsx(XN,{screenSize:e,children:we.jsx(YN,{children:t})}),nS=800,iS=480,eL=()=>we.jsx(Be.Stage,{width:nS,height:iS,options:{background:"#000",antialias:!0},children:we.jsx(JO,{screenSize:{height:iS,width:nS},children:we.jsx(qO,{})})});Ym.createRoot(document.getElementById("root")).render(we.jsx(Wn.StrictMode,{children:we.jsx(eL,{})}))});export default tL();
